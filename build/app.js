!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,n){"use strict";var r,u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),i=n(2);new((r=i)&&r.__esModule?r:{default:r}).default;var o={domElement:document.querySelector("#webglContainer"),initWidth:750,initHeight:1334,showFPS:!0,backgroundColor:2765125},c={icon1:"./assets/icon1.png",pic2:"./assets/pic2.png",fighter:"./assets/fighter.json",spineboy:"./assets/spineboy.json"},h=new u.Game(o),d=new u.TextClip(h.initWidth/2,600,"0%",{fontFamily:"Arial",fontSize:42,fontWeight:"bold",fill:["#d2497d","#5a7cd3"]});d.anchor.set(.5),h.add(d),h.preload({assets:{bg:"./assets/bg.png",pic1:"./assets/pic1.png",fish1:"./assets/displacement_fish1.png",fish2:"./assets/displacement_fish2.png",fish3:"./assets/displacement_fish3.png",fish4:"./assets/displacement_fish4.png",sound0:"./assets/sound/bg.mp3",sound1:"./assets/sound/s1.mp3",sound2:"./assets/sound/s2.mp3"},loading:function(e){console.log("loading1_"+e),d.text=e+"%"},loaded:function(){u.Tween.to(d,.6,{alpha:0,ease:Strong.easeOut,onComplete:function(){h.remove(d)}}),console.log(u.TyLoader.resources);var e=u.Audios.add("sound0");e.loop=!0,u.Audios.add("sound1");var t=new u.SpriteClip(0,0,"bg");h.add(t);var n=new u.Container;h.add(n),u.magic.doTwist(n,[500,500],400,2,!1);for(var r=[],i=0;i<2e3;i++){var o="fish"+(i%4+1),a=new u.SpriteClip(0,0,o);a.tint=16724736*Math.random(),a.alpha=.3+.8*Math.random(),a.anchor.set(.5),a.scale.set(.2+.2*Math.random()),a.x=Math.random()*h.initWidth,a.y=Math.random()*h.initHeight,a.direction=Math.random()*Math.PI*2,a.turningSpeed=Math.random()-.8,a.speed=2*(2+2*Math.random()),a.offset=100*Math.random(),r.push(a),n.addChild(a)}var s=new u.SpriteClip(288,292,"pic1");h.add(s),s.anchor.set(.5),s.interactive=!0,s.on("pointerdown",function(){u.Tween.to(s.scale,.6,{x:1.2,y:1.2,ease:Elastic.easeOut,onComplete:function(){u.Tween.to(s.scale,.4,{x:1,y:1}),function(){if(f)return;f=!0,h.preload({assets:c,loading:function(e){console.log("loading2_"+e)},loaded:p})}(),u.magic.doGlitch(h.stage,2,!0)}}),e.play()});var l=new u.Rectangle(-100,-100,h.initWidth+200,h.initHeight+200);h.ticker.add(function(){for(var e=0;e<r.length;e++){var t=r[e];t.direction+=.01*t.turningSpeed,t.x+=Math.sin(t.direction)*(t.speed*t.scale.y),t.y+=Math.cos(t.direction)*(t.speed*t.scale.y),t.rotation=-t.direction-Math.PI/2,t.x<l.x?t.x+=l.width:t.x>l.x+l.width&&(t.x-=l.width),t.y<l.y?t.y+=l.height:t.y>l.y+l.height&&(t.y-=l.height)}})}});var f=!1;function p(){var e=new u.SpriteClip(28,900,"pic2");e.addChild(new u.TextClip(180,56,"卸载")),h.add(e),e.interactive=!0,e.on("pointerdown",function(){h.removeThis()});var t=new u.SpriteClip(28,1100,"icon1");h.add(t);var n=new u.SpriteClip(228,1100,"icon1");h.add(n),u.magic.doDye(n,7366597);var r=new u.TextClip(30,600,"Game1 * -> 课前游戏 -> 1234文本",{fontFamily:"Arial",fontSize:50,fontStyle:"italic",fontWeight:"bold",fill:["#ffffff","#00ff99"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:400});h.add(r);var i=new u.AnimatedClip(400,600,"fighter");h.add(i),i.anchor.set(.5),i.animationSpeed=40/60,i.interactive=!0,i.on("pointerdown",function(){console.log("fly"),i.play(),u.Tween.to(i,1,{y:-150,ease:Strong.easeOut,onComplete:function(){i.y=h.initHeight}}),u.Tween.to(i,2,{y:600,delay:1,ease:Strong.easeInOut,onComplete:function(){i.stop()}}),u.magic.doDye(i,65280),u.Audios.get("sound1").play()})}h.stage.interactive=!0,h.stage.on("pointerdown",function(e){this.dragging=!0,h.stage.filters=[a],a.center=[e.data.global.x/750,e.data.global.y/1334]}).on("pointerup",s).on("pointerupoutside",s).on("pointermove",function(e){this.dragging&&(a.center=[e.data.global.x/750,e.data.global.y/1334],a.radius+=.8*(200-a.radius))});var a=new u.magic.BulgePinchFilter([.5,.5],200,1.2);function s(e){this.dragging=!1,u.Tween.to(a,.3,{radius:0})}},function(Ba,Ca,Da){
/*!
 * @sint.js v0.0.9 (https://watertian.github.io/sint.js/) 
 * author:WaterTian
 */
window,Ba.exports=function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=76)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.0.8",t.PI_2=2*Math.PI,t.RAD_TO_DEG=180/Math.PI,t.DEG_TO_RAD=Math.PI/180,t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},t.SCALE_MODES={LINEAR:0,NEAREST:1},t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},t.GC_MODES={AUTO:0,MANUAL:1},t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},t.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Application=t.Filter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var r=n(0);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(4);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(32);Object.defineProperty(t,"Bounds",{enumerable:!0,get:function(){return j(o).default}});var a=n(33);Object.defineProperty(t,"DisplayObject",{enumerable:!0,get:function(){return j(a).default}});var s=n(13);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return j(s).default}});var l=n(35);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return j(l).default}});var u=n(34);Object.defineProperty(t,"TransformStatic",{enumerable:!0,get:function(){return j(u).default}});var c=n(19);Object.defineProperty(t,"TransformBase",{enumerable:!0,get:function(){return j(c).default}});var h=n(36);Object.defineProperty(t,"Sprite",{enumerable:!0,get:function(){return j(h).default}});var d=n(98);Object.defineProperty(t,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return j(d).default}});var f=n(42);Object.defineProperty(t,"CanvasTinter",{enumerable:!0,get:function(){return j(f).default}});var p=n(103);Object.defineProperty(t,"SpriteRenderer",{enumerable:!0,get:function(){return j(p).default}});var v=n(128);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return j(v).default}});var _=n(56);Object.defineProperty(t,"TextStyle",{enumerable:!0,get:function(){return j(_).default}});var y=n(57);Object.defineProperty(t,"TextMetrics",{enumerable:!0,get:function(){return j(y).default}});var g=n(130);Object.defineProperty(t,"Spritesheet",{enumerable:!0,get:function(){return j(g).default}});var m=n(8);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return j(m).default}});var b=n(53);Object.defineProperty(t,"TextureMatrix",{enumerable:!0,get:function(){return j(b).default}});var x=n(9);Object.defineProperty(t,"BaseTexture",{enumerable:!0,get:function(){return j(x).default}});var w=n(40);Object.defineProperty(t,"RenderTexture",{enumerable:!0,get:function(){return j(w).default}});var T=n(27);Object.defineProperty(t,"Shader",{enumerable:!0,get:function(){return j(T).default}});var E=n(10);Object.defineProperty(t,"WebGLManager",{enumerable:!0,get:function(){return j(E).default}});var O=n(23);Object.defineProperty(t,"ObjectRenderer",{enumerable:!0,get:function(){return j(O).default}});var S=n(14);Object.defineProperty(t,"RenderTarget",{enumerable:!0,get:function(){return j(S).default}});var k=n(54);Object.defineProperty(t,"Quad",{enumerable:!0,get:function(){return j(k).default}});var P=n(43);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return j(P).default}});var M=n(58);Object.defineProperty(t,"Application",{enumerable:!0,get:function(){return j(M).default}});var C=L(n(3)),A=L(n(21)),R=j(n(2)),D=j(n(22)),I=j(n(24));function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}t.settings=R.default,t.utils=C,t.ticker=A,t.CanvasRenderer=D.default,t.WebGLRenderer=I.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(82)),i=o(n(83));function o(e){return e&&e.__esModule?e:{default:e}}t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=void 0,t.uid=function(){return++h},t.hex2rgb=function(e,t){return(t=t||[])[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),"#"+(e="000000".substr(0,6-e.length)+e)},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},t.getResolutionOfUrl=function(e,t){var n=i.default.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1},t.decomposeDataUri=function(e){var t=r.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},t.getUrlFileExtension=function(e){var t=r.URL_FILE_EXTENSION.exec(e);if(t)return t[1].toLowerCase()},t.getSvgSize=function(e){var t=r.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n},t.skipHello=function(){d=!0},t.sayHello=function(e){if(!d){if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var t=["\n %c %c %c SINTJS "+r.VERSION+" - ✰ "+e+" ✰  %c  %c  http://www.SINTjs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("SINTJS "+r.VERSION+" - "+e+" - http://www.SINTjs.com/");d=!0}},t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(e){return!1}},t.sign=function(e){return 0===e?0:e<0?-1:1},t.destroyTextureCache=function(){var e=void 0;for(e in f)f[e].destroy();for(e in p)p[e].destroy()},t.clearTextureCache=function(){var e=void 0;for(e in f)delete f[e];for(e in p)delete p[e]},t.correctBlendMode=function(e,t){return v[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,i=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i=i*t+.5|0)},t.premultiplyRgba=function(e,t,n,r){return(n=n||new Float32Array(4))[2]=r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,e[2]*t):(n[0]=e[0],n[1]=e[1],e[2]),n[3]=t,n},t.premultiplyTintToRgba=function(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,(r||void 0===r)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n};var r=n(0),i=c(n(2)),o=c(n(5)),a=c(n(84)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(85)),l=c(n(86)),u=c(n(87));function c(e){return e&&e.__esModule?e:{default:e}}var h=0,d=!1;t.removeItems=l.default,t.EventEmitter=o.default,t.pluginTarget=a.default,t.mixins=s;var f=t.TextureCache=Object.create(null),p=t.BaseTextureCache=Object.create(null),v=t.premultiplyBlendMode=(0,u.default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return d(r).default}});var i=n(77);Object.defineProperty(t,"ObservablePoint",{enumerable:!0,get:function(){return d(i).default}});var o=n(17);Object.defineProperty(t,"Matrix",{enumerable:!0,get:function(){return d(o).default}});var a=n(31);Object.defineProperty(t,"GroupD8",{enumerable:!0,get:function(){return d(a).default}});var s=n(78);Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return d(s).default}});var l=n(79);Object.defineProperty(t,"Ellipse",{enumerable:!0,get:function(){return d(l).default}});var u=n(80);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return d(u).default}});var c=n(18);Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return d(c).default}});var h=n(81);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"RoundedRectangle",{enumerable:!0,get:function(){return d(h).default}})},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,f="~";function i(){}function o(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new function(e,t,n){this.fn=e,this.context=t,this.once=n||!1}(n,r||e,i),a=f?f+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(f=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(f?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=f?f+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},a.prototype.listenerCount=function(e){var t=f?f+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,r,i,o){var a=f?f+e:e;if(!this._events[a])return!1;var s,l,u=this._events[a],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(l=1,s=new Array(c-1);l<c;l++)s[l-1]=arguments[l];u.fn.apply(u.context,s)}else{var h,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!s)for(h=1,s=new Array(c-1);h<c;h++)s[h-1]=arguments[h];u[l].fn.apply(u[l].context,s)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){var i=f?f+e:e;if(!this._events[i])return this;if(!t)return u(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,i);else{for(var a=0,s=[],l=o.length;a<l;a++)(o[a].fn!==t||r&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:u(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=f?f+e:e,this._events[t]&&u(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=f,a.EventEmitter=a,e.exports=a},function(e,t,n){var r={createContext:n(107),setVertexAttribArrays:n(44),GLBuffer:n(108),GLFramebuffer:n(109),GLShader:n(110),GLTexture:n(45),VertexArrayObject:n(111),shader:n(112)};e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=s(n(9)),i=s(n(94)),a=s(n(97)),l=s(n(5)),u=n(4),c=n(3),h=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function s(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));if(a.noFrame=!1,t||(a.noFrame=!0,t=new u.Rectangle(0,0,1,1)),e instanceof s&&(e=e.baseTexture),a.baseTexture=e,a._frame=t,a.trim=r,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=n||t,a._rotate=Number(i||0),!0===i)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return e.hasLoaded?(a.noFrame&&(t=new u.Rectangle(0,0,e.width,e.height),e.on("update",a.onBaseTextureUpdated,a)),a.frame=t):e.once("loaded",a.onBaseTextureLoaded,a),a.defaultAnchor=o?new u.Point(o.x,o.y):new u.Point(0,0),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,l.default),r(s,[{key:"update",value:function(){this.baseTexture.update()}},{key:"onBaseTextureLoaded",value:function(e){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)}},{key:"onBaseTextureUpdated",value:function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)}},{key:"destroy",value:function(e){this.baseTexture&&(e&&(c.TextureCache[this.baseTexture.imageUrl]&&s.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,s.removeFromCache(this),this.textureCacheIds=null}},{key:"clone",value:function(){return new s(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)}},{key:"_updateUvs",value:function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,u="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+u)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}],[{key:"fromImage",value:function(e,t,n,r){var i=c.TextureCache[e];return i||(i=new s(o.default.fromImage(e,t,n,r)),s.addToCache(i,e)),i}},{key:"fromFrame",value:function(e){var t=c.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t}},{key:"fromCanvas",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";return new s(o.default.fromCanvas(e,t,n))}},{key:"fromVideo",value:function(e,t,n,r){return"string"==typeof e?s.fromVideoUrl(e,t,n,r):new s(i.default.fromVideo(e,t,r))}},{key:"fromVideoUrl",value:function(e,t,n,r){return new s(i.default.fromUrl(e,t,n,r))}},{key:"from",value:function(e){if("string"!=typeof e)return e instanceof HTMLImageElement?new s(o.default.from(e)):e instanceof HTMLCanvasElement?s.fromCanvas(e,h.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?s.fromVideo(e):e instanceof o.default?new s(e):e;var t=c.TextureCache[e];return t||(null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?s.fromVideoUrl(e):s.fromImage(e))}},{key:"fromLoader",value:function(e,t,n){var r=new o.default(e,void 0,(0,c.getResolutionOfUrl)(t)),i=new s(r);return r.imageUrl=t,n||(n=t),o.default.addToCache(i.baseTexture,n),s.addToCache(i,n),n!==t&&(o.default.addToCache(i.baseTexture,t),s.addToCache(i,t)),i}},{key:"addToCache",value:function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),c.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),c.TextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=c.TextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return-1<n&&t.textureCacheIds.splice(n,1),delete c.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)c.TextureCache[e.textureCacheIds[r]]===e&&delete c.TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),s}();function f(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}(t.default=d).EMPTY=new d(new o.default),f(d.EMPTY),f(d.EMPTY.baseTexture),d.WHITE=function(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new d(new o.default(e))}(),f(d.WHITE),f(d.WHITE.baseTexture)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n(3),i=a(n(2)),o=a(n(5)),l=a(n(37)),u=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function a(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.uid=(0,s.uid)(),r.touched=0,r.resolution=n||i.default.RESOLUTION,r.width=100,r.height=100,r.realWidth=100,r.realHeight=100,r.scaleMode=void 0!==t?t:i.default.SCALE_MODE,r.hasLoaded=!1,r.isLoading=!1,r.source=null,r.origSource=null,r.imageType=null,r.sourceScale=1,r.premultipliedAlpha=!0,r.imageUrl=null,r.isPowerOfTwo=!1,r.mipmap=i.default.MIPMAP_TEXTURES,r.wrapMode=i.default.WRAP_MODE,r._glTextures={},r._enabled=0,r._virtalBoundId=-1,r._destroyed=!1,r.textureCacheIds=[],e&&r.loadSource(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.default),r(a,[{key:"update",value:function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)}},{key:"_updateDimensions",value:function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=u.default.isPow2(this.realWidth)&&u.default.isPow2(this.realHeight)}},{key:"loadSource",value:function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(((this.source=e).src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var r=this;if(e.onload=function(){r._updateImageType(),e.onload=null,e.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),"svg"!==r.imageType?r.emit("loaded",r):r._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)}}}},{key:"_updateImageType",value:function(){if(this.imageUrl){var e=(0,s.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&"image"===e.mediaType){var n=e.subType.split("+")[0];if(!(t=(0,s.getUrlFileExtension)("."+n)))throw new Error("Invalid image type in data URI.")}else(t=(0,s.getUrlFileExtension)(this.imageUrl))||(t="png");this.imageType=t}}},{key:"_loadSvgSource",value:function(){if("svg"===this.imageType){var e=(0,s.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}}},{key:"_loadSvgSourceUsingDataUri",value:function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)}},{key:"_loadSvgSourceUsingXhr",value:function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()}},{key:"_loadSvgSourceUsingString",value:function(e){var t=(0,s.getSvgSize)(e),n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(r*this.sourceScale),this._updateDimensions();var i=document.createElement("canvas");i.width=this.realWidth,i.height=this.realHeight,i._SINTId="canvas_"+(0,s.uid)(),i.getContext("2d").drawImage(this.source,0,0,n,r,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=i,a.addToCache(this,i._SINTId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)}},{key:"_sourceLoaded",value:function(){this.hasLoaded=!0,this.update()}},{key:"destroy",value:function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),a.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"updateSourceImage",value:function(e){this.source.src=e,this.loadSource(this.source)}}],[{key:"fromImage",value:function(e,t,n,r){var i=s.BaseTextureCache[e];if(!i){var o=new Image;void 0===t&&0!==e.indexOf("data:")?o.crossOrigin=(0,l.default)(e):t&&(o.crossOrigin="string"==typeof t?t:"anonymous"),(i=new a(o,n)).imageUrl=e,r&&(i.sourceScale=r),i.resolution=(0,s.getResolutionOfUrl)(e),o.src=e,a.addToCache(i,e)}return i}},{key:"fromCanvas",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";e._SINTId||(e._SINTId=n+"_"+(0,s.uid)());var r=s.BaseTextureCache[e._SINTId];return r||(r=new a(e,t),a.addToCache(r,e._SINTId)),r}},{key:"from",value:function(e,t,n){if("string"==typeof e)return a.fromImage(e,void 0,t,n);if(e instanceof HTMLImageElement){var r=e.src,i=s.BaseTextureCache[r];return i||((i=new a(e,t)).imageUrl=r,n&&(i.sourceScale=n),i.resolution=(0,s.getResolutionOfUrl)(r),a.addToCache(i,r)),i}return e instanceof HTMLCanvasElement?a.fromCanvas(e,t):e}},{key:"addToCache",value:function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),s.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),s.BaseTextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=s.BaseTextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return-1<n&&t.textureCacheIds.splice(n,1),delete s.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete s.BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),a}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return r(t,[{key:"onContextChange",value:function(){}},{key:"destroy",value:function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}}]),t}();t.default=i},function(e,t,n){"use strict";var r=n(135).default,i=n(29).default,o=n(62),a=n(63);r.Resource=i,r.async=o,r.base64=a,e.exports=r,e.exports.default=r},function(Xh,Yh){var Zh;Zh=function(){return this}();try{Zh=Zh||Function("return this")()||eval("this")}catch(Xh){"object"==typeof window&&(Zh=window)}Xh.exports=Zh},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(3),i=n(33),s=(r=i)&&r.__esModule?r:{default:r},l=function(e){function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.children=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),o(i,[{key:"onChildrenChange",value:function(){}},{key:"addChild",value:function(e){var t=arguments.length;if(1<t)for(var n=0;n<t;n++)this.addChild(arguments[n]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e}},{key:"swapChildren",value:function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}}},{key:"getChildIndex",value:function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);(0,a.removeItems)(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]}},{key:"removeChild",value:function(e){var t=arguments.length;if(1<t)for(var n=0;n<t;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this)}return e}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),t}},{key:"removeChildren",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=e,r="number"==typeof t?t:this.children.length,i=r-n,o=void 0;if(0<i&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID}},{key:"_calculateBounds",value:function(){}},{key:"renderWebGL",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderWebGL(e)}}},{key:"renderAdvancedWebGL",value:function(e){e.flush();var t=this._filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}n&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(e);e.flush(),n&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()}},{key:"_renderWebGL",value:function(e){}},{key:"_renderCanvas",value:function(e){}},{key:"renderCanvas",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}}},{key:"destroy",value:function(e){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this);var t="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var r=0;r<n.length;++r)n[r].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),i}();(t.default=l).prototype.containerUpdateTransform=l.prototype.updateTransform},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n(4),l=n(0),o=n(2),u=(r=o)&&r.__esModule?r:{default:r},c=n(6),a=function(){function a(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new s.Rectangle(0,0,1,1),this.resolution=i||u.default.RESOLUTION,this.projectionMatrix=new s.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new s.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==r?r:u.default.SCALE_MODE,this.root=o||!1,this.root?(this.frameBuffer=new c.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=c.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===l.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(t,n)}return i(a,[{key:"clear",value:function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])}},{key:"attachStencilBuffer",value:function(){this.root||this.frameBuffer.enableStencil()}},{key:"setFrame",value:function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame}},{key:"activate",value:function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}},{key:"calculateProjection",value:function(e,t){var n=this.projectionMatrix;t=t||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-t.x*n.a,n.ty=1-t.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-t.x*n.a,n.ty=-1-t.y*n.d)}},{key:"resize",value:function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}}},{key:"destroy",value:function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null}}]),a}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!!window.Audio,i=window.AudioContext||window.webkitAudioContext,o=!!i,a=o||r,s=o?new i:null;t.default={isHTMLAudioSupported:r,webAudioContext:i,isWebAudioSupported:o,isAudioSupported:a,globalWebAudioContext:s,createGainNode:null,exts:["mp3","ogg","oga","opus","mpeg","wav","m4a","mp4"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.x=e,this.y=t}return r(n,[{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"copy",value:function(e){this.set(e.x,e.y)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)}}]),n}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(16),s=(r=o)&&r.__esModule?r:{default:r},l=n(0),a=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this.array=null}return i(a,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this}},{key:"toArray",value:function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return n[8]=(n[7]=e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,this.ty):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0),1),n}},{key:"apply",value:function(e,t){t=t||new s.default;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new s.default;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}},{key:"setTransform",value:function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}},{key:"prepend",value:function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,t),s=Math.abs(o+a);return s<1e-5||Math.abs(l.PI_2-s)<1e-5?(e.rotation=a,t<0&&0<=i&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx,e.position.y=this.ty,e}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var e=new a;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copy",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}}],[{key:"IDENTITY",get:function(){return new a}},{key:"TEMP_MATRIX",get:function(){return new a}}]),a}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(0),i=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=o.SHAPES.RECT}return r(i,[{key:"clone",value:function(){return new i(this.x,this.y,this.width,this.height)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}},{key:"pad",value:function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t}},{key:"fit",value:function(e){this.x<e.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,this.height<0&&(this.height=0))}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);this.x=t,this.width=n-t,this.y=r,this.height=i-r}},{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new i(0,0,0,0)}}]),i}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(4),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return r(e,[{key:"updateLocalTransform",value:function(){}},{key:"updateTransform",value:function(e){var t=e.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*t.a+r.b*t.c,n.b=r.a*t.b+r.b*t.d,n.c=r.c*t.a+r.d*t.c,n.d=r.c*t.b+r.d*t.d,n.tx=r.tx*t.a+r.ty*t.c+t.tx,n.ty=r.tx*t.b+r.ty*t.d+t.ty,this._worldID++}}]),e}();(t.default=o).prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(0<e)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(65535<e)<<4,t|=n=(255<(e>>>=t))<<3,t|=n=(15<(e>>>=n))<<2,(t|=n=(3<(e>>>=n))<<1)|(e>>>=n)>>1},t.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=t.shared=void 0;var r,i=n(95),o=(r=i)&&r.__esModule?r:{default:r},a=new o.default;a.autoStart=!0,a.destroy=function(){},t.shared=a,t.Ticker=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=d(n(39)),s=d(n(100)),c=d(n(101)),l=d(n(102)),i=n(3),h=n(0),u=d(n(2));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"Canvas",e,t,n));return r.type=h.RENDERER_TYPE.CANVAS,r.rootContext=r.view.getContext("2d",{alpha:r.transparent}),r.context=r.rootContext,r.refresh=!0,r.maskManager=new s.default(r),r.smoothProperty="imageSmoothingEnabled",r.rootContext.imageSmoothingEnabled||(r.rootContext.webkitImageSmoothingEnabled?r.smoothProperty="webkitImageSmoothingEnabled":r.rootContext.mozImageSmoothingEnabled?r.smoothProperty="mozImageSmoothingEnabled":r.rootContext.oImageSmoothingEnabled?r.smoothProperty="oImageSmoothingEnabled":r.rootContext.msImageSmoothingEnabled&&(r.smoothProperty="msImageSmoothingEnabled")),r.initPlugins(),r.blendModes=(0,l.default)(),r._activeBlendMode=null,r.renderingToScreen=!1,r.resize(r.options.width,r.options.height),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a.default),r(i,[{key:"render",value:function(e,t,n,r,i){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var o=this.resolution;t?((t=t.baseTexture||t)._canvasRenderTarget||(t._canvasRenderTarget=new c.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(t||(this._lastObjectRendered=e),!i){var s=e.parent,l=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=a,e.renderCanvas(this),this.context=u,a.restore(),this.resolution=o,this.emit("postrender")}}},{key:"clear",value:function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)}},{key:"setBlendMode",value:function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])}},{key:"destroy",value:function(e){this.destroyPlugins(),o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null}},{key:"resize",value:function(e,t){o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"resize",this).call(this,e,t),this.smoothProperty&&(this.rootContext[this.smoothProperty]=u.default.SCALE_MODE===h.SCALE_MODES.LINEAR)}},{key:"invalidateBlendMode",value:function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)}}]),i}();t.default=f,i.pluginTarget.mixin(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(10),a=(r=o)&&r.__esModule?r:{default:r},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"flush",value:function(){}},{key:"render",value:function(e){}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=m(n(39)),a=m(n(104)),s=m(n(115)),l=m(n(116)),u=m(n(14)),c=m(n(23)),h=m(n(118)),d=m(n(9)),f=m(n(119)),p=m(n(120)),v=m(n(122)),_=m(n(123)),i=n(3),y=m(n(6)),g=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var b=0,x=function(e){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"WebGL",e,t,n));return r.legacy=r.options.legacy,r.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),r.type=g.RENDERER_TYPE.WEBGL,r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),r.view.addEventListener("webglcontextlost",r.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r._contextOptions={alpha:r.transparent,antialias:r.options.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:r.options.preserveDrawingBuffer,powerPreference:r.options.powerPreference},r._backgroundColorRgba[3]=r.transparent?0:1,r.maskManager=new a.default(r),r.stencilManager=new s.default(r),r.emptyRenderer=new c.default(r),r.currentRenderer=r.emptyRenderer,r.textureManager=null,r.filterManager=null,r.initPlugins(),r.options.context&&(0,_.default)(r.options.context),r.gl=r.options.context||y.default.createContext(r.view,r._contextOptions),r.CONTEXT_UID=b++,r.state=new p.default(r.gl),r.renderingToScreen=!0,r.boundTextures=null,r._activeShader=null,r._activeVao=null,r._activeRenderTarget=null,r._initContext(),r.drawModes=(0,v.default)(r.gl),r._nextTextureLocation=0,r.setBlendMode(0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.default),r(i,[{key:"_initContext",value:function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this.textureManager=new h.default(this),this.filterManager=new l.default(this),this.textureGC=new f.default(this),this.state.resetToDefault(),this.rootRenderTarget=new u.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new y.default.GLTexture.fromData(e,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<t;i++){var o=new d.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)}},{key:"render",value:function(e,t,n,r,i){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!i){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.bindRenderTexture(t,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}}},{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"resize",value:function(e,t){o.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))}},{key:"setBlendMode",value:function(e){this.state.setBlendMode(e)}},{key:"clear",value:function(e){this._activeRenderTarget.clear(e)}},{key:"setTransform",value:function(e){this._activeRenderTarget.transform=e}},{key:"clearRenderTexture",value:function(e,t){var n=e.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(t),this}},{key:"bindRenderTexture",value:function(e,t){var n=void 0;if(e){var r=e.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)}else n=this.rootRenderTarget;return n.transform=t,this.bindRenderTarget(n),this}},{key:"bindRenderTarget",value:function(e){return e!==this._activeRenderTarget&&((this._activeRenderTarget=e).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this}},{key:"bindShader",value:function(e,t){return this._activeShader!==e&&((this._activeShader=e).bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this}},{key:"bindTexture",value:function(e,t,n){if((e=(e=e||this.emptyTextures[t]).baseTexture||e).touched=this.textureGC.count,n)t=t||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===e)return r;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=e._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[t]=e,i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(e,t),t}},{key:"unbindTexture",value:function(e){var t=this.gl;e=e.baseTexture||e;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===e&&(this.boundTextures[n]=this.emptyTextures[n],t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this}},{key:"createVao",value:function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)}},{key:"bindVao",value:function(e){return this._activeVao===e||(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e),this}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this}},{key:"handleContextLost",value:function(e){e.preventDefault()}},{key:"handleContextRestored",value:function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()}},{key:"destroy",value:function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null}}]),i}();t.default=x,i.pluginTarget.mixin(x)},function(e,t){var o=null,a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(e,t){if(!o){var n=Object.keys(a);o={};for(var r=0;r<n.length;++r){var i=n[r];o[e[i]]=a[i]}}return o[t]}},function(e,u,t){(function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return t.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}u.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},u.normalize=function(e){var t=u.isAbsolute(e),n="/"===r(e,-1);return(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},u.isAbsolute=function(e){return"/"===e.charAt(0)},u.join=function(){var e=Array.prototype.slice.call(arguments,0);return u.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},u.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=u.resolve(e).substr(1),t=u.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var l=[];for(s=a;s<r.length;s++)l.push("..");return(l=l.concat(i.slice(a))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},u.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},u.extname=function(e){return a(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,t(114))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=n(2),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var n=e.slice(0);return n.unshift("precision "+t+" float;"),n}}else if("precision"!==e.trim().substring(0,9))return"precision "+t+" float;\n"+e;return e}var l=function(e){function o(e,t,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,s(t,i||a.default.PRECISION_VERTEX),s(n,i||a.default.PRECISION_FRAGMENT),void 0,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.GLShader),o}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var r=n(59);Object.defineProperty(t,"bitmapFontParser",{enumerable:!0,get:function(){return u(r).default}}),Object.defineProperty(t,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var i=n(64);Object.defineProperty(t,"spritesheetParser",{enumerable:!0,get:function(){return u(i).default}}),Object.defineProperty(t,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(65);Object.defineProperty(t,"textureParser",{enumerable:!0,get:function(){return u(o).default}});var a=n(11);Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return a.Resource}});var s=u(n(58)),l=u(n(136));function u(e){return e&&e.__esModule?e:{default:e}}t.Loader=l.default;var c=new l.default;c.destroy=function(){},t.shared=c;var h=s.default.prototype;h._loader=null,Object.defineProperty(h,"loader",{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?c:new l.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(e,t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=o(n(61)),a=o(n(60));function o(e){return e&&e.__esModule?e:{default:e}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;function u(){}var c=function(){function o(e,t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(o.STATUS_FLAGS.DATA_URL,0===t.indexOf("data:")),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=o.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=u,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new a.default,this.onProgress=new a.default,this.onComplete=new a.default,this.onAfterMiddleware=new a.default}return o.setExtensionLoadType=function(e,t){h(o._loadTypeMap,e,t)},o.setExtensionXhrType=function(e,t){h(o._xhrTypeMap,e,t)},o.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(o.STATUS_FLAGS.COMPLETE,!0),this._setFlag(o.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=o.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},o.prototype.load=function(e){var t=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(t)},1);else switch(e&&this.onComplete.once(e),this._setFlag(o.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this.type=o.TYPE.IMAGE,this._loadElement("image");break;case o.LOAD_TYPE.AUDIO:this.type=o.TYPE.AUDIO,this._loadSourceElement("audio");break;case o.LOAD_TYPE.VIDEO:this.type=o.TYPE.VIDEO,this._loadSourceElement("video");break;case o.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},o.prototype._hasFlag=function(e){return!!(this._flags&e)},o.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},o.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},o.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+e)},o.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=o.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},o.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},o.prototype._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=n,r},o.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},o.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},o.prototype._xhrOnError=function(){var e=this.xhr;this.abort(d(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},o.prototype._xhrOnAbort=function(){this.abort(d(this.xhr)+" Request was aborted by the user.")},o.prototype._xdrOnTimeout=function(){this.abort(d(this.xhr)+" Request timed out.")},o.prototype._xhrOnLoad=function(){var e=this.xhr,t="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(t=e.responseText),0===n&&(0<t.length||e.responseType===o.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=t,this.type=o.TYPE.TEXT;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t),this.type=o.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(t,"text/xml")}else{var i=document.createElement("div");i.innerHTML=t,this.data=i}this.type=o.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=e.response||t;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},o.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,l||(l=document.createElement("a")),l.href=e;var n=!(e=(0,i.default)(l.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&r===t.protocol?"":"anonymous"},o.prototype._determineXhrType=function(){return o._xhrTypeMap[this.extension]||o.XHR_RESPONSE_TYPE.TEXT},o.prototype._determineLoadType=function(){return o._loadTypeMap[this.extension]||o.LOAD_TYPE.XHR},o.prototype._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(-1<r?r:e.length,-1<i?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},o.prototype._getMimeFromXhrType=function(e){switch(e){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(o,[{key:"isDataUrl",get:function(){return this._hasFlag(o.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(o.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(o.STATUS_FLAGS.LOADING)}}]),o}();function h(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function d(e){return e.toString().replace("object ","")}(t.default=c).STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(ie,oe,e){(function(e){var re;!function(h,e){"use strict";var d={},r=h.document,f=h.GreenSockGlobals=h.GreenSockGlobals||h;if(f.TweenLite)return f.TweenLite;var t,n,i,p,v,o,a,_=function(e){var t,n=e.split("."),r=f;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},y=_("com.greensock"),l=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},g=function(){},m=(o=Object.prototype.toString,a=o.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&o.call(e)===a)}),b={},x=function(s,l,u,c){this.sc=b[s]?b[s].sc:[],(b[s]=this).gsClass=null,this.func=u;var h=[];this.check=function(e){for(var t,n,r,i,o=l.length,a=o;-1<--o;)(t=b[l[o]]||new x(l[o],[])).gsClass?(h[o]=t.gsClass,a--):e&&t.sc.push(this);if(0===a&&u){if(r=(n=("com.greensock."+s).split(".")).pop(),i=_(n.join("."))[r]=this.gsClass=u.apply(u,h),c)if(f[r]=d[r]=i,ie.exports)if("TweenLite"===s)for(o in ie.exports=d.TweenLite=i,d)i[o]=d[o];else d.TweenLite&&(d.TweenLite[r]=i);else void 0===(re=function(){return i}.apply(oe,[]))||(ie.exports=re);for(o=0;o<this.sc.length;o++)this.sc[o].check()}},this.check(!0)},s=h._gsDefine=function(e,t,n,r){return new x(e,t,n,r)},w=y._class=function(e,t,n){return t=t||function(){},s(e,[],function(){return t},n),t};s.globals=f;var u=[0,0,1,1],T=w("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?u.concat(t):u},!0),E=T.map={},c=T.register=function(e,t,n,r){for(var i,o,a,s,l=t.split(","),u=l.length,c=(n||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(o=l[u],i=r?w("easing."+o,null,!0):y.easing[o]||{},a=c.length;-1<--a;)s=c[a],E[o+"."+s]=E[s+o]=i[s]=e.getRatio?e:e[s]||new e};for((i=T.prototype)._calcEnd=!1,i.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},n=(t=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--n;)i=t[n]+",Power"+n,c(new T(null,null,1,n),i,"easeOut",!0),c(new T(null,null,2,n),i,"easeIn"+(0===n?",easeNone":"")),c(new T(null,null,3,n),i,"easeInOut");E.linear=y.easing.Linear.easeIn,E.swing=y.easing.Quad.easeInOut;var O=w("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(i=O.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,a,s=this._listeners[e],l=0;for(this!==p||v||p.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;-1<--a;)(o=s[a]).c===t&&o.s===n?s.splice(a,1):0===l&&o.pr<i&&(l=a+1);s.splice(l,0,{c:t,s:n,up:r,pr:i})},i.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;-1<--n;)if(r[n].c===t)return void r.splice(n,1)},i.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for(1<(t=i.length)&&(i=i.slice(0)),n=this._eventTarget;-1<--t;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var S=h.requestAnimationFrame,k=h.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},M=P();for(n=(t=["ms","moz","webkit","o"]).length;-1<--n&&!S;)S=h[t[n]+"RequestAnimationFrame"],k=h[t[n]+"CancelAnimationFrame"]||h[t[n]+"CancelRequestAnimationFrame"];w("Ticker",function(e,t){var i,o,a,s,l,u=this,c=P(),n=!(!1===t||!S)&&"auto",h=500,d=33,f=function(e){var t,n,r=P()-M;h<r&&(c+=r-d),M+=r,u.time=(M-c)/1e3,t=u.time-l,(!i||0<t||!0===e)&&(u.frame++,l+=t+(s<=t?.004:s-t),n=!0),!0!==e&&(a=o(f)),n&&u.dispatchEvent("tick")};O.call(u),u.time=u.frame=0,u.tick=function(){f(!0)},u.lagSmoothing=function(e,t){if(!arguments.length)return h<1e10;h=e||1e10,d=Math.min(t,h,0)},u.sleep=function(){null!=a&&(n&&k?k(a):clearTimeout(a),o=g,a=null,u===p&&(v=!1))},u.wake=function(e){null!==a?u.sleep():e?c+=-M+(M=P()):10<u.frame&&(M=P()-h+5),o=0===i?g:n&&S?S:function(e){return setTimeout(e,1e3*(l-u.time)+1|0)},u===p&&(v=!0),f(2)},u.fps=function(e){if(!arguments.length)return i;s=1/((i=e)||60),l=this.time+s,u.wake()},u.useRAF=function(e){if(!arguments.length)return n;u.sleep(),n=e,u.fps(i)},u.fps(e),setTimeout(function(){"auto"===n&&u.frame<5&&"hidden"!==(r||{}).visibilityState&&u.useRAF(!1)},1500)}),(i=y.Ticker.prototype=new y.events.EventDispatcher).constructor=y.Ticker;var C=w("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,$){v||p.wake();var n=this.vars.useFrames?q:$;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});p=C.ticker=new y.Ticker,(i=C.prototype)._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var A=function(){v&&2e3<P()-M&&("hidden"!==(r||{}).visibilityState||!p.lagSmoothing())&&p.wake();var e=setTimeout(A,2e3);e.unref&&e.unref()};A(),i.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},i.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},i.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},i.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},i.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},i.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},i.render=function(e,t,n){},i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},i.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},i._enabled=function(e,t){return v||p.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(e,t){return this._enabled(!1,!1)},i.kill=function(e,t){return this._kill(e,t),this},i._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},i._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();-1<--t;)"{self}"===e[t]&&(n[t]=this);return n},i._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},i.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=m(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},i.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},i.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},i.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},i.totalTime=function(e,t,n){if(v||p.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(r<e&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(L.length&&J(),this.render(e,t,!1),L.length&&J())}return this},i.progress=i.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},i.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},i.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},i.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},i.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},i.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(v||e||p.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var R=w("core.SimpleTimeline",function(e){C.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(i=R.prototype=new C).constructor=R,i.kill()._gc=!1,i._first=i._last=i._recent=null,i._sortChildren=!1,i.add=i.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},i._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},i.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},i.rawTime=function(){return v||p.wake(),this._totalTime};var D=w("TweenLite",function(e,t,n){if(C.call(this,t,n),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,i,o,a=e.jquery||e.length&&e!==h&&e[0]&&(e[0]===h||e[0].nodeType&&e[0].style&&!e.nodeType),s=this.vars.overwrite;if(this._overwrite=s=null==s?V[D.defaultOverwrite]:"number"==typeof s?s>>0:V[s],(a||e instanceof Array||e.push&&m(e))&&"number"!=typeof e[0])for(this._targets=o=l(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(i=o[r])?"string"!=typeof i?i.length&&i!==h&&i[0]&&(i[0]===h||i[0].nodeType&&i[0].style&&!i.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(l(i))):(this._siblings[r]=Q(i,this,!1),1===s&&1<this._siblings[r].length&&ee(i,this,null,1,this._siblings[r])):"string"==typeof(i=o[r--]=D.selector(i))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=Q(e,this,!1),1===s&&1<this._siblings.length&&ee(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),I=function(e){return e&&e.length&&e!==h&&e[0]&&(e[0]===h||e[0].nodeType&&e[0].style&&!e.nodeType)};(i=D.prototype=new C).constructor=D,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=i._lazy=!1,D.version="1.20.5",D.defaultEase=i._ease=new T(null,null,1,1),D.defaultOverwrite="auto",D.ticker=p,D.autoSleep=120,D.lagSmoothing=function(e,t){p.lagSmoothing(e,t)},D.selector=h.$||h.jQuery||function(e){var t=h.$||h.jQuery;return t?(D.selector=t)(e):(r||(r=h.document),r?r.querySelectorAll?r.querySelectorAll(e):r.getElementById("#"===e.charAt(0)?e.substr(1):e):e)};var L=[],j={},N=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,F=/[\+-]=-?[\.\d]/,B=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<1e-6&&-1e-6<t&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},U=function(e,t,n,r){var i,o,a,s,l,u,c,h=[],d=0,f="",p=0;for(h.start=e,h.end=t,e=h[0]=e+"",t=h[1]=t+"",n&&(n(h),e=h[0],t=h[1]),h.length=0,i=e.match(N)||[],o=t.match(N)||[],r&&(r._next=null,r.blob=1,h._firstPT=h._applyPT=r),l=o.length,s=0;s<l;s++)c=o[s],f+=(u=t.substr(d,t.indexOf(c,d)-d))||!s?u:",",d+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),c===i[s]||i.length<=s?f+=c:(f&&(h.push(f),f=""),a=parseFloat(i[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:p&&p<4?Math.round:0}),d+=c.length;return(f+=t.substr(d))&&h.push(f),h.setRatio=B,F.test(t)&&(h.end=null),h},X=function(e,t,n,r,i,o,a,s,l){"function"==typeof r&&(r=r(l||0,e));var u=typeof e[t],c="function"!==u?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),h="get"!==n?n:c?a?e[c](a):e[c]():e[t],d="string"==typeof r&&"="===r.charAt(1),f={t:e,p:t,s:h,f:"function"===u,pg:0,n:i||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-h||0};if(("number"!=typeof h||"number"!=typeof r&&!d)&&(a||isNaN(h)||!d&&isNaN(r)||"boolean"==typeof h||"boolean"==typeof r?(f.fp=a,f={t:U(h,d?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):r,s||D.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(f.s=parseFloat(h),d||(f.c=parseFloat(r)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f},H=D._internals={isArray:m,isSelector:I,lazyTweens:L,blobDif:U},Y=D._plugins={},G=H.tweenLookup={},W=0,z=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},q=C._rootFramesTimeline=new R,$=C._rootTimeline=new R,K=30,J=H.lazyRender=function(){var e,t=L.length;for(j={};-1<--t;)(e=L[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);L.length=0};$._startTime=p.time,q._startTime=p.frame,$._active=q._active=!0,setTimeout(J,1),C._updateRoot=D.render=function(){var e,t,n;if(L.length&&J(),$.render((p.time-$._startTime)*$._timeScale,!1,!1),q.render((p.frame-q._startTime)*q._timeScale,!1,!1),L.length&&J(),p.frame>=K){for(n in K=p.frame+(parseInt(D.autoSleep,10)||120),G){for(e=(t=G[n].tweens).length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete G[n]}if((!(n=$._first)||n._paused)&&D.autoSleep&&!q._first&&1===p._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||p.sleep()}}},p.addEventListener("tick",C._updateRoot);var Q=function(e,t,n){var r,i,o=e._gsTweenID;if(G[o||(e._gsTweenID=o="t"+W++)]||(G[o]={target:e,tweens:[]}),t&&((r=G[o].tweens)[i=r.length]=t,n))for(;-1<--i;)r[i]===t&&r.splice(i,1);return G[o].tweens},Z=function(e,t,n,r){var i,o,a=e.vars.onOverwrite;return a&&(i=a(e,t,n,r)),(a=D.onOverwrite)&&(o=a(e,t,n,r)),!1!==i&&!1!==o},ee=function(e,t,n,r,i){var o,a,s,l;if(1===r||4<=r){for(l=i.length,o=0;o<l;o++)if((s=i[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===r)break;return a}var u,c=t._startTime+1e-10,h=[],d=0,f=0===t._duration;for(o=i.length;-1<--o;)(s=i[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||te(t,0,f),0===te(s,u,f)&&(h[d++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((f||!s._initted)&&c-s._startTime<=2e-10||(h[d++]=s)));for(o=d;-1<--o;)if(s=h[o],2===r&&s._kill(n,e,t)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!Z(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},te=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(o/=i)>t?o-t:n&&o===t||!e._initted&&o-t<2e-10?1e-10:(o+=e.totalDuration()/e._timeScale/i)>t+1e-10?0:o-t-1e-10};i._init=function(){var e,t,n,r,i,o,a=this.vars,s=this._overwrittenProps,l=this._duration,u=!!a.immediateRender,c=a.ease;if(a.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},a.startAt)i[r]=a.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=u&&!1!==a.lazy,i.startAt=i.delay=null,i.onUpdate=a.onUpdate,i.onUpdateParams=a.onUpdateParams,i.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=D.to(this.target||{},0,i),u)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(u=!1),n={},a)z[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=u&&!1!==a.lazy,n.immediateRender=u,this._startAt=D.to(this.target,0,n),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof T?c:"function"==typeof c?new T(c,a.easeParams):E[c]||D.defaultEase:D.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&D._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},i._initProps=function(e,t,n,r,i){var o,a,s,l,u,c;if(null==e)return!1;for(o in j[e._gsTweenID]&&J(),this.vars.css||e.style&&e!==h&&e.nodeType&&Y.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)z[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!Y[n]||Y[n]&&Y[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(c=this.vars[o],z[o])c&&(c instanceof Array||c.push&&m(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(Y[o]&&(l=new Y[o])._onInitTween(e,this.vars[o],this,i)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority,m:0},a=l._overwriteProps.length;-1<--a;)t[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(s=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else t[o]=X.call(this,e,o,"get",c,o,0,null,this.vars.stringFilter,i);return r&&this._kill(r,e)?this._initProps(e,t,n,r,i):1<this._overwrite&&this._firstPT&&1<n.length&&ee(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r,i)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(j[e._gsTweenID]=!0),s)},i.render=function(e,t,n){var r,i,o,a,s=this._time,l=this._duration,u=this._rawPrevTime;if(l-1e-7<=e&&0<=e)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(u<0||e<=0&&-1e-7<=e||1e-10===u&&"isPause"!==this.data)&&u!==e&&(n=!0,1e-10<u&&(i="onReverseComplete")),this._rawPrevTime=a=!t||e||u===e?e:1e-10);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&0<u)&&(i="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(0<=u&&(1e-10!==u||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||u===e?e:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/l,h=this._easeType,d=this._easePower;(1===h||3===h&&.5<=c)&&(c=1-c),3===h&&(c*=2),1===d?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:e/l<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=u,L.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/l):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&0<=e&&(this._active=!0),0===s&&(this._startAt&&(0<=e?this._startAt.render(e,!0,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===l&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},i._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:D.selector(t)||t;var r,i,o,a,s,l,u,c,h,d=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((m(t)||I(t))&&"number"!=typeof t[0])for(r=t.length;-1<--r;)this._kill(e,t[r],n)&&(l=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(u=e||s,c=e!==i&&"all"!==i&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(D.onOverwrite||this.vars.onOverwrite)){for(o in u)s[o]&&(h||(h=[]),h.push(o));if((h||!e)&&!Z(this,n,t,h))return!1}for(o in u)(a=s[o])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(u)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),c&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},i.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],C.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},i._enabled=function(e,t){if(v||p.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;-1<--n;)this._siblings[n]=Q(r[n],this,!0);else this._siblings=Q(this.target,this,!0)}return C.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&D._onPluginEvent(e?"_onEnable":"_onDisable",this)},D.to=function(e,t,n){return new D(e,t,n)},D.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new D(e,t,n)},D.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new D(e,t,r)},D.delayedCall=function(e,t,n,r,i){return new D(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},D.set=function(e,t){return new D(e,0,t)},D.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"!=typeof e?e:D.selector(e)||e,(m(e)||I(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];-1<--n;)r=r.concat(D.getTweensOf(e[n],t));for(n=r.length;-1<--n;)for(o=r[n],i=n;-1<--i;)o===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=Q(e).concat()).length;-1<--n;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},D.killTweensOf=D.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=D.getTweensOf(e,t),i=r.length;-1<--i;)r[i]._kill(n,e)};var ne=w("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ne.prototype},!0);if(i=ne.prototype,ne.version="1.19.0",ne.API=2,i._firstPT=null,i._addTween=X,i.setRatio=B,i._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;-1<--t;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},i._mod=i._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},D._onPluginEvent=function(e,t){var n,r,i,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=t._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ne.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===ne.API&&(Y[(new e[t])._propName]=e[t]);return!0},s.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=w("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ne.call(this,n,r),this._overwriteProps=i||[]},!0===e.global),s=a.prototype=new ne(n);for(t in(s.constructor=a).API=e.API,o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,ne.activate([a]),a},t=h._gsQueue){for(n=0;n<t.length;n++)t[n]();for(i in b)b[i].func||h.console.log("GSAP encountered missing dependency: "+i)}v=!1}(ie.exports&&void 0!==e?e:this||window)}).call(this,e(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(17),c=(r=i)&&r.__esModule?r:{default:r},h=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],f=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],p=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],v=[],_=[];function y(e){return e<0?-1:0<e?1:0}!function(){for(var e=0;e<16;e++){var t=[];_.push(t);for(var n=0;n<16;n++)for(var r=y(h[e]*h[n]+f[e]*d[n]),i=y(d[e]*h[n]+p[e]*d[n]),o=y(h[e]*f[n]+f[e]*p[n]),a=y(d[e]*f[n]+p[e]*p[n]),s=0;s<16;s++)if(h[s]===r&&d[s]===i&&f[s]===o&&p[s]===a){t.push(s);break}}for(var l=0;l<16;l++){var u=new c.default;u.set(h[l],d[l],f[l],p[l],0,0),v.push(u)}}();var o={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return h[e]},uY:function(e){return d[e]},vX:function(e){return f[e]},vY:function(e){return p[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return _[e][t]},sub:function(e,t){return _[e][o.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?0<=t?o.S:o.N:2*Math.abs(t)<=Math.abs(e)?0<e?o.E:o.W:0<t?0<e?o.SE:o.SW:0<e?o.NE:o.NW},matrixAppendRotationInv:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=v[o.inv(t)];i.tx=n,i.ty=r,e.append(i)}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(4),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return r(e,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:((e=e||new i.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addQuad",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,r=r<o?o:r,i=i<a?a:i,o=e[2],a=e[3],t=o<t?o:t,n=a<n?a:n,r=r<o?o:r,i=i<a?a:i,o=e[4],a=e[5],t=o<t?o:t,n=a<n?a:n,r=r<o?o:r,i=i<a?a:i,o=e[6],a=e[7],t=o<t?o:t,n=a<n?a:n,r=r<o?o:r,i=i<a?a:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i}},{key:"addFrame",value:function(e,t,n,r,i){var o=e.worldTransform,a=o.a,s=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,d=this.minX,f=this.minY,p=this.maxX,v=this.maxY,_=a*t+l*n+c,y=s*t+u*n+h;d=_<d?_:d,f=y<f?y:f,p=p<_?_:p,v=v<y?y:v,d=(_=a*r+l*n+c)<d?_:d,f=(y=s*r+u*n+h)<f?y:f,p=p<_?_:p,v=v<y?y:v,d=(_=a*t+l*i+c)<d?_:d,f=(y=s*t+u*i+h)<f?y:f,p=p<_?_:p,v=v<y?y:v,d=(_=a*r+l*i+c)<d?_:d,f=(y=s*r+u*i+h)<f?y:f,p=p<_?_:p,v=v<y?y:v,this.minX=d,this.minY=f,this.maxX=p,this.maxY=v}},{key:"addVertices",value:function(e,t,n,r){for(var i=e.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,h=this.minX,d=this.minY,f=this.maxX,p=this.maxY,v=n;v<r;v+=2){var _=t[v],y=t[v+1],g=o*_+s*y+u,m=l*y+a*_+c;h=g<h?g:h,d=m<d?m:d,f=f<g?g:f,p=p<m?m:p}this.minX=h,this.minY=d,this.maxX=f,this.maxY=p}},{key:"addBounds",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}},{key:"addBoundsMask",value:function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=l<i?i:l,this.maxY=u<o?o:u}}},{key:"addBoundsArea",value:function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=l<i?i:l,this.maxY=u<o?o:u}}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=h(n(5)),o=n(0),a=h(n(2)),s=h(n(34)),l=h(n(35)),u=h(n(32)),c=n(4);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),t=a.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?s.default:l.default;return e.tempDisplayObjectParent=null,e.transform=new t,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._bounds=new u.default,e._boundsID=0,e._lastBoundsID=-1,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"updateTransform",value:function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new c.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),e=this._localBoundsRect);var r=this.getBounds(!1,e);return this.parent=n,this.transform=t,r}},{key:"toGlobal",value:function(e,t){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}},{key:"renderWebGL",value:function(e){}},{key:"renderCanvas",value:function(e){}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"setTransform",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this}},{key:"destroy",value:function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new n),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),n}();(t.default=d).prototype.displayObjectUpdateTransform=d.prototype.updateTransform},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(4),a=n(19),s=(r=a)&&r.__esModule?r:{default:r},l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.position=new o.ObservablePoint(e.onChange,e,0,0),e.scale=new o.ObservablePoint(e.onChange,e,1,1),e.pivot=new o.ObservablePoint(e.onChange,e,0,0),e.skew=new o.ObservablePoint(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(4),a=n(19),s=(r=a)&&r.__esModule?r:{default:r},l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.position=new o.Point(0,0),e.scale=new o.Point(1,1),e.skew=new o.ObservablePoint(e.updateSkew,e,0,0),e.pivot=new o.Point(0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)}},{key:"updateTransform",value:function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._worldID++}},{key:"setFromMatrix",value:function(e){e.decompose(this)}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(3),l=n(0),u=r(n(8)),c=r(n(13));function r(e){return e&&e.__esModule?e:{default:e}}var h=new a.Point,d=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t._anchor=new a.ObservablePoint(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=l.BLEND_MODES.NORMAL,t.shader=null,t.cachedTint=16777215,t.texture=e||u.default.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.pluginName="sprite",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,c.default),i(r,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,u=e.trim,c=e.orig,h=this._anchor,d=0,f=0,p=0,v=0;p=u?(d=(f=u.x-h._x*c.width)+u.width,(v=u.y-h._y*c.height)+u.height):(d=(f=-h._x*c.width)+c.width,(v=-h._y*c.height)+c.height),l[0]=n*f+i*v+a,l[1]=o*v+r*f+s,l[2]=n*d+i*v+a,l[3]=o*v+r*d+s,l[4]=n*d+i*p+a,l[5]=o*p+r*d+s,l[6]=n*f+i*p+a,l[7]=o*p+r*f+s}}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,h=-r._x*n.width,d=h+n.width,f=-r._y*n.height,p=f+n.height;t[0]=o*h+s*f+u,t[1]=l*f+a*h+c,t[2]=o*d+s*f+u,t[3]=l*f+a*d+c,t[4]=o*d+s*p+u,t[5]=l*p+a*d+c,t[6]=o*h+s*p+u,t[7]=l*p+a*h+c}},{key:"_renderWebGL",value:function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_renderCanvas",value:function(e){e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new a.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,h);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return h.x>=r&&h.x<r+t&&(i=-n*this.anchor.y,h.y>=i&&h.y<i+n)}},{key:"destroy",value:function(e){if(o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var t="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!t)}this._texture=null,this.shader=null}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,s.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,s.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e||u.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e){return new r(u.default.from(e))}},{key:"fromFrame",value:function(e){var t=s.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new r(t)}},{key:"fromImage",value:function(e,t,n){return new r(u.default.fromImage(e,t,n))}}]),r}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,a||(a=document.createElement("a")),a.href=e;var n=!(e=o.default.parse(a.href)).port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&n&&e.protocol===t.protocol?"":"anonymous"};var r,i=n(38),o=(r=i)&&r.__esModule?r:{default:r},a=void 0},function(e,t,n){"use strict";var D=n(88),I=n(90);function k(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=o,t.resolve=function(e,t){return o(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},t.format=function(e){return I.isString(e)&&(e=o(e)),e instanceof k?e.format():k.prototype.format.call(e)},t.Url=k;var L=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,j=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),N=["'"].concat(i),F=["%","/","?",";","#"].concat(N),B=["/","?","#"],U=/^[+a-z0-9A-Z_-]{0,63}$/,X=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,H={javascript:!0,"javascript:":!0},Y={javascript:!0,"javascript:":!0},G={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},W=n(91);function o(e,t,n){if(e&&I.isObject(e)&&e instanceof k)return e;var r=new k;return r.parse(e,t,n),r}k.prototype.parse=function(e,t,n){if(!I.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!n&&1===e.split("#").length){var s=j.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?W.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=L.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);!c||l&&Y[l]||(a=a.substr(2),this.slashes=!0)}if(!Y[l]&&(c||l&&!G[l])){for(var h,d,f=-1,p=0;p<B.length;p++)-1!==(v=a.indexOf(B[p]))&&(-1===f||v<f)&&(f=v);for(-1!==(d=-1===f?a.lastIndexOf("@"):a.lastIndexOf("@",f))&&(h=a.slice(0,d),a=a.slice(d+1),this.auth=decodeURIComponent(h)),f=-1,p=0;p<F.length;p++){var v;-1!==(v=a.indexOf(F[p]))&&(-1===f||v<f)&&(f=v)}-1===f&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var y=this.hostname.split(/\./),g=(p=0,y.length);p<g;p++){var m=y[p];if(m&&!m.match(U)){for(var b="",x=0,w=m.length;x<w;x++)127<m.charCodeAt(x)?b+="x":b+=m[x];if(!b.match(U)){var T=y.slice(0,p),E=y.slice(p+1),O=m.match(X);O&&(T.push(O[1]),E.unshift(O[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=T.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=D.toASCII(this.hostname));var S=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+S,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!H[u])for(p=0,g=N.length;p<g;p++){var P=N[p];if(-1!==a.indexOf(P)){var M=encodeURIComponent(P);M===P&&(M=escape(P)),a=a.split(P).join(M)}}var C=a.indexOf("#");-1!==C&&(this.hash=a.substr(C),a=a.slice(0,C));var A=a.indexOf("?");if(-1!==A?(this.search=a.substr(A),this.query=a.substr(A+1),t&&(this.query=W.parse(this.query)),a=a.slice(0,A)):t&&(this.search="",this.query={}),a&&(this.pathname=a),G[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){S=this.pathname||"";var R=this.search||"";this.path=S+R}return this.href=this.format(),this},k.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&I.isObject(this.query)&&Object.keys(this.query).length&&(o=W.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||G[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},k.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},k.prototype.resolveObject=function(e){if(I.isString(e)){var t=new k;t.parse(e,!1,!0),e=t}for(var n=new k,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];"protocol"!==l&&(n[l]=e[l])}return G[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!G[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var h=u[c];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Y[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",p=n.search||"";n.path=f+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=_||v||n.host&&e.pathname,g=y,m=n.pathname&&n.pathname.split("/")||[],b=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!G[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===m[0]?m[0]=n.host:m.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),y=y&&(""===d[0]||""===m[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,m=d;else if(d.length)m||(m=[]),m.pop(),m=m.concat(d),n.search=e.search,n.query=e.query;else if(!I.isNullOrUndefined(e.search))return b&&(n.hostname=n.host=m.shift(),(O=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),n.search=e.search,n.query=e.query,I.isNull(n.pathname)&&I.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!m.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=m.slice(-1)[0],w=(n.host||e.host||1<m.length)&&("."===x||".."===x)||""===x,T=0,E=m.length;0<=E;E--)"."===(x=m[E])?m.splice(E,1):".."===x?(m.splice(E,1),T++):T&&(m.splice(E,1),T--);if(!y&&!g)for(;T--;T)m.unshift("..");!y||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),w&&"/"!==m.join("/").substr(-1)&&m.push("");var O,S=""===m[0]||m[0]&&"/"===m[0].charAt(0);return b&&(n.hostname=n.host=S?"":m.length?m.shift():"",(O=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),(y=y||n.host&&m.length)&&!S&&m.unshift(""),m.length?n.pathname=m.join("/"):(n.pathname=null,n.path=null),I.isNull(n.pathname)&&I.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},k.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(3),s=n(4),l=n(0),u=o(n(2)),c=o(n(13)),h=o(n(40)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var d=new s.Matrix,f=function(e){function o(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return(0,a.sayHello)(e),"number"==typeof t&&(t=Object.assign({width:t,height:n||u.default.RENDER_OPTIONS.height},r)),t=Object.assign({},u.default.RENDER_OPTIONS,t),i.options=t,i.type=l.RENDERER_TYPE.UNKNOWN,i.screen=new s.Rectangle(0,0,t.width,t.height),i.view=t.view||document.createElement("canvas"),i.resolution=t.resolution||u.default.RESOLUTION,i.transparent=t.transparent,i.autoResize=t.autoResize||!1,i.blendModes=null,i.preserveDrawingBuffer=t.preserveDrawingBuffer,i.clearBeforeRender=t.clearBeforeRender,i.roundPixels=t.roundPixels,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=t.backgroundColor||i._backgroundColor,i._tempDisplayObjectParent=new c.default,i._lastObjectRendered=i._tempDisplayObjectParent,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.default),r(o,[{key:"resize",value:function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")}},{key:"generateTexture",value:function(e,t,n,r){r=r||e.getLocalBounds();var i=h.default.create(0|r.width,0|r.height,t,n);return d.tx=-r.x,d.ty=-r.y,this.render(e,i,!1,d,!!e.parent),i}},{key:"destroy",value:function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=l.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null}},{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,a.hex2string)(e),(0,a.hex2rgb)(e,this._backgroundColorRgba)}}]),o}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=o(n(99)),i=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=null;if(!(e instanceof u.default)){var r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+r+", "+i+") instead of the ctor directly."),n=arguments[0],t=null,e=new u.default(r,i,o,a)}var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e,t));return s.legacyRenderer=n,s.valid=!0,s._updateUvs(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.default),r(l,[{key:"resize",value:function(e,t,n){e=Math.ceil(e),t=Math.ceil(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n||this.baseTexture.resize(e,t),this._updateUvs()}}],[{key:"create",value:function(e,t,n,r){return new l(new u.default(e,t,n,r))}}]),l}();t.default=a},function(e,t,n){"use strict";function a(e){var t=document.createElement("canvas");t.width=6,t.height=1;var n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,6,1),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"==typeof document)return!1;var e=a("#ff00ff"),t=a("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var r=n.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(e,0,0),r.drawImage(t,2,0);var i=r.getImageData(2,0,1,1);if(!i)return!1;var o=i.data;return 255===o[0]&&0===o[1]&&0===o[2]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,f=n(3),i=n(41),s={getTintedTexture:function(e,t){var n=e._texture,r="#"+("00000"+(0|(t=s.roundColor(t))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],o=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];o=n.tintCache[r]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(n,t,o),o.tintId=n._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),n.tintCache[r]=a}else n.tintCache[r]=o,s.canvas=null;return o},tintWithMultiply:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore();for(var a=(0,f.hex2rgb)(t),s=a[0],l=a[1],u=a[2],c=r.getImageData(0,0,i.width,i.height),h=c.data,d=0;d<h.length;d+=4)h[d+0]*=s,h[d+1]*=l,h[d+2]*=u;r.putImageData(c,0,0)},roundColor:function(e){var t=s.cacheStepsPerColorChannel,n=(0,f.hex2rgb)(e);return n[0]=Math.min(255,n[0]/t*t),n[1]=Math.min(255,n[1]/t*t),n[2]=Math.min(255,n[2]/t*t),(0,f.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=i)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=i(n(106)),a=n(3),s=n(0),l=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var u={},c=function(){function i(e,t,n){for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.vertexSrc=e||i.defaultVertexSrc,this.fragmentSrc=t||i.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[r]=this.uniformData[r].value,this.uniformData[r].type&&(this.uniformData[r].type=this.uniformData[r].type.toLowerCase());this.glShaders={},u[this.vertexSrc+this.fragmentSrc]||(u[this.vertexSrc+this.fragmentSrc]=(0,a.uid)()),this.glShaderKey=u[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=l.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return r(i,[{key:"apply",value:function(e,t,n,r,i){e.applyFilter(this,t,n,r)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),i}();t.default=c},function(e,t){e.exports=function(e,t,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<t.length;r++)i[t[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?e.enableVertexAttribArray(r):e.disableVertexAttribArray(r))}else for(r=0;r<t.length;r++){var a=t[r];e.enableVertexAttribArray(a.attribute.location)}}},function(e,t){var o=function(e,t,n,r,i){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=r||e.RGBA,this.type=i||e.UNSIGNED_BYTE},i=!(o.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=e.videoWidth||e.width,r=e.videoHeight||e.height;r!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=r});o.prototype.uploadData=function(e,t,n){this.bind();var r=this.gl;if(e instanceof Float32Array){if(!i){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},o.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},o.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},o.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},o.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},o.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},o.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},o.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},o.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},o.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},o.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},o.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},o.fromSource=function(e,t,n){var r=new o(e);return r.premultiplyAlpha=n||!1,r.upload(t),r},o.fromData=function(e,t,n,r){var i=new o(e);return i.uploadData(t,n,r),i},e.exports=o},function(e,t){var l=function(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.log(e.getShaderInfoLog(r)),null)};e.exports=function(e,t,n,r){var i=l(e,e.VERTEX_SHADER,t),o=l(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),r)for(var s in r)e.bindAttribLocation(a,r[s],s);return e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(a,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a)),e.deleteProgram(a),a=null),e.deleteShader(i),e.deleteShader(o),a}},function(e,t,n){var s=n(25),l=n(48),u=function(e,t,n,r){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,r||0)};e.exports=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),a=s(e,o.type);n[o.name]={type:a,size:l(a),location:e.getAttribLocation(t,o.name),pointer:u}}return n}},function(e,t){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return n[e]}},function(e,t,n){var l=n(25),u=n(50);e.exports=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]/,""),s=l(e,o.type);n[a]={type:s,size:o.size,location:e.getUniformLocation(t,a),value:u(s,o.size)}}return n}},function(e,t){var n=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t};e.exports=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return n(2*t);case"bvec3":return n(3*t);case"bvec4":return n(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(e,t){e.exports=function(e,t){return"precision"!==e.substring(0,9)?"precision "+t+" float;\n"+e:e}},function(e,t){var c=function(e){return function(){return this.data[e].value}},i={float:function(e,t,n){e.uniform1f(t,n)},vec2:function(e,t,n){e.uniform2f(t,n[0],n[1])},vec3:function(e,t,n){e.uniform3f(t,n[0],n[1],n[2])},vec4:function(e,t,n){e.uniform4f(t,n[0],n[1],n[2],n[3])},int:function(e,t,n){e.uniform1i(t,n)},ivec2:function(e,t,n){e.uniform2i(t,n[0],n[1])},ivec3:function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])},ivec4:function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])},bool:function(e,t,n){e.uniform1i(t,n)},bvec2:function(e,t,n){e.uniform2i(t,n[0],n[1])},bvec3:function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])},bvec4:function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])},mat2:function(e,t,n){e.uniformMatrix2fv(t,!1,n)},mat3:function(e,t,n){e.uniformMatrix3fv(t,!1,n)},mat4:function(e,t,n){e.uniformMatrix4fv(t,!1,n)},sampler2D:function(e,t,n){e.uniform1i(t,n)}},o={float:function(e,t,n){e.uniform1fv(t,n)},vec2:function(e,t,n){e.uniform2fv(t,n)},vec3:function(e,t,n){e.uniform3fv(t,n)},vec4:function(e,t,n){e.uniform4fv(t,n)},int:function(e,t,n){e.uniform1iv(t,n)},ivec2:function(e,t,n){e.uniform2iv(t,n)},ivec3:function(e,t,n){e.uniform3iv(t,n)},ivec4:function(e,t,n){e.uniform4iv(t,n)},bool:function(e,t,n){e.uniform1iv(t,n)},bvec2:function(e,t,n){e.uniform2iv(t,n)},bvec3:function(e,t,n){e.uniform3iv(t,n)},bvec4:function(e,t,n){e.uniform4iv(t,n)},sampler2D:function(e,t,n){e.uniform1iv(t,n)}};function h(n,r){return function(e){this.data[n].value=e;var t=this.data[n].location;1===r.size?i[r.type](this.gl,t,e):o[r.type](this.gl,t,e)}}function d(e,t){for(var n=t,r=0;r<e.length-1;r++){var i=n[e[r]]||{data:{}};n[e[r]]=i,n=i}return n}e.exports=function(e,t){var n={data:{}};n.gl=e;for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],a=o.split("."),s=a[a.length-1],l=d(a,n),u=t[o];l.data[s]=u,l.gl=e,Object.defineProperty(l,s,{get:c(s),set:h(s,u)})}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(17),a=(r=o)&&r.__esModule?r:{default:r},u=new a.default,s=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===t?.5:t}return i(n,[{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(u.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(u));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(t._frame.x+s+l)/o.width,a[1]=(t._frame.y+s+l)/o.height,a[2]=(t._frame.x+t._frame.width-s+l)/o.width,a[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),n}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=r(n(6)),a=r(n(55));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,a.default)(1),this.vertexBuffer=o.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(e,t)}return i(r,[{key:"initVao",value:function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)}},{key:"map",value:function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this}},{key:"upload",value:function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this}},{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)}}]),r}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=6*e,n=new Uint16Array(t),r=0,i=0;r<t;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(0),o=n(3),a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),h(this,e,e)}return r(t,[{key:"clone",value:function(){var e={};return h(e,this,a),new t(e)}},{key:"reset",value:function(){h(this,a,a)}},{key:"toFontString",value:function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;0<=n;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&s.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=c(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=c(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=c(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),t}();function u(e){return"number"==typeof e?(0,o.hex2string)(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function c(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=u(e[t]);return e}return u(e)}function h(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function k(e,t,n,r,i,o,a,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}return r(k,null,[{key:"measureText",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:k._canvas;n=null==n?t.wordWrap:n;var i=t.toFontString(),o=k.measureFont(i),a=r.getContext("2d");a.font=i;for(var s=(n?k.wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),l=new Array(s.length),u=0,c=0;c<s.length;c++){var h=a.measureText(s[c]).width+(s[c].length-1)*t.letterSpacing;l[c]=h,u=Math.max(u,h)}var d=u+t.strokeThickness;t.dropShadow&&(d+=t.dropShadowDistance);var f=t.lineHeight||o.fontSize+t.strokeThickness,p=Math.max(f,o.fontSize+t.strokeThickness)+(s.length-1)*(f+t.leading);return t.dropShadow&&(p+=t.dropShadowDistance),new k(e,t,d,p,s,l,f+t.leading,u,o)}},{key:"wordWrap",value:function(e,t){for(var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:k._canvas).getContext("2d"),r=0,i="",o="",a={},s=t.letterSpacing,l=t.whiteSpace,u=k.collapseSpaces(l),c=k.collapseNewlines(l),h=!u,d=t.wordWrapWidth+s,f=k.tokenize(e),p=0;p<f.length;p++){var v=f[p];if(k.isNewline(v)){if(!c){o+=k.addLine(i),h=!u,i="",r=0;continue}v=" "}if(u){var _=k.isBreakingSpace(v),y=k.isBreakingSpace(i[i.length-1]);if(_&&y)continue}var g=k.getFromCache(v,s,a,n);if(d<g)if(""!==i&&(o+=k.addLine(i),i="",r=0),k.canBreakWords(v,t.breakWords))for(var m=v.split(""),b=0;b<m.length;b++){for(var x=m[b],w=1;m[b+w];){var T=m[b+w],E=x[x.length-1];if(k.canBreakChars(E,T,v,b,t.breakWords))break;x+=T,w++}b+=x.length-1;var O=k.getFromCache(x,s,a,n);d<O+r&&(o+=k.addLine(i),h=!1,i="",r=0),i+=x,r+=O}else{0<i.length&&(o+=k.addLine(i),i="",r=0);var S=p===f.length-1;o+=k.addLine(v,!S),h=!1,i="",r=0}else d<g+r&&(h=!1,o+=k.addLine(i),i="",r=0),(0<i.length||!k.isBreakingSpace(v)||h)&&(i+=v,r+=g)}return o+=k.addLine(i,!1)}},{key:"addLine",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e=k.trimRight(e),e=t?e+"\n":e}},{key:"getFromCache",value:function(e,t,n,r){var i=n[e];if(void 0===i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(e){if("string"!=typeof e)return"";for(var t=e.length-1;0<=t;t--){var n=e[t];if(!k.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}},{key:"isNewline",value:function(e){return"string"==typeof e&&0<=k._newlines.indexOf(e.charCodeAt(0))}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&0<=k._breakingSpaces.indexOf(e.charCodeAt(0))}},{key:"tokenize",value:function(e){var t=[],n="";if("string"!=typeof e)return t;for(var r=0;r<e.length;r++){var i=e[r];k.isBreakingSpace(i)||k.isNewline(i)?(""!==n&&(t.push(n),n=""),t.push(i)):n+=i}return""!==n&&t.push(n),t}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,n,r,i){return!0}},{key:"measureFont",value:function(e){if(k._fonts[e])return k._fonts[e];var t={},n=k._canvas,r=k._context;r.font=e;var i=k.METRICS_STRING+k.BASELINE_SYMBOL,o=Math.ceil(r.measureText(i).width),a=Math.ceil(r.measureText(k.BASELINE_SYMBOL).width),s=2*a;a=a*k.BASELINE_MULTIPLIER|0,n.width=o,n.height=s,r.fillStyle="#f00",r.fillRect(0,0,o,s),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,a);var l=r.getImageData(0,0,o,s).data,u=l.length,c=4*o,h=0,d=0,f=!1;for(h=0;h<a;++h){for(var p=0;p<c;p+=4)if(255!==l[d+p]){f=!0;break}if(f)break;d+=c}for(t.ascent=a-h,d=u-c,f=!1,h=s;a<h;--h){for(var v=0;v<c;v+=4)if(255!==l[d+v]){f=!0;break}if(f)break;d-=c}return t.descent=h-a,t.fontSize=t.ascent+t.descent,k._fonts[e]=t}},{key:"clearMetrics",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";e?delete k._fonts[e]:k._fonts={}}}]),k}();t.default=i;var o=document.createElement("canvas");o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(131),s=o(n(13)),l=n(21),u=o(n(2)),i=n(0);function o(e){return e&&e.__esModule?e:{default:e}}var c=function(){function o(e,t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),"number"==typeof e&&(e=Object.assign({width:e,height:t||u.default.RENDER_OPTIONS.height,forceCanvas:!!r,sharedTicker:!!i},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,a.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?l.shared:new l.Ticker,e.autoStart&&this.start()}return r(o,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"stop",value:function(){this._ticker.stop()}},{key:"start",value:function(){this._ticker.start()}},{key:"destroy",value:function(e,t){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null}},{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,i.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),o}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(t,n){if(t.data&&t.type===p.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var e=t.isDataUrl?"":f.dirname(t.url);t.isDataUrl&&("."===e&&(e=""),this.baseUrl&&e&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(e+="/")),(e=e.replace(this.baseUrl,""))&&"/"!==e.charAt(e.length-1)&&(e+="/");for(var r=t.data.getElementsByTagName("page"),i={},o=function(e){i[e.metadata.pageFile]=e.texture,Object.keys(i).length===r.length&&(parse(t,i),n())},a=0;a<r.length;++a){var s=r[a].getAttribute("file"),l=e+s,u=!1;for(var c in this.resources){var h=this.resources[c];if(h.url===l){h.metadata.pageFile=s,h.texture?o(h):h.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:p.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:s},t.metadata.imageMetadata),parentResource:t};this.add(l,d,o)}}}else n();else n()}};var f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(26)),p=n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function r(e,t,n){void 0===t&&(t=!1),o(this,r),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}return i(r,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),r}();function a(e,t){return e._head?(e._tail._next=t)._prev=e._tail:e._head=t,(e._tail=t)._owner=e,t}var s=function(){function e(){o(this,e),this._head=this._tail=void 0}return i(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n}},{key:"has",value:function(e){if(!(e instanceof r))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new r(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new r(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof r))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=r,t.default=s,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}},function(e,t,n){"use strict";function a(){}function s(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}t.__esModule=!0,t.eachSeries=function(n,r,i,o){var a=0,s=n.length;!function e(t){t||a===s?i&&i(t):o?setTimeout(function(){r(n[a++],e)},1):r(n[a++],e)}()},t.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,i={_tasks:[],concurrency:e,saturated:a,unsaturated:a,buffer:e/4,empty:a,drain:a,error:a,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){n=0,i.drain=a,i.started=!1,i._tasks=[]},unshift:function(e,t){r(e,!0,t)},process:function(){for(;!i.paused&&n<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(n+=1)===i.concurrency&&i.saturated(),t(e.data,s(o(e)))}},length:function(){return i._tasks.length},running:function(){return n},idle:function(){return i._tasks.length+n===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var e=1;e<=i.concurrency;e++)i.process()}}};function r(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(i.started=!0,null==e&&i.idle())setTimeout(function(){return i.drain()},1);else{var r={data:e,callback:"function"==typeof n?n:a};t?i._tasks.unshift(r):i._tasks.push(r),setTimeout(function(){return i.process()},1)}}function o(e){return function(){n-=1,e.callback.apply(e,arguments),null!=arguments[0]&&i.error(arguments[0],e.data),n<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}},function(e,t,n){"use strict";t.__esModule=!0,t.encodeBinary=function(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2];var a=n-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var s=0;s<i.length;++s)t+=l.charAt(i[s])}return t};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(n,r){var e=n.name+"_image";if(n.data&&n.type===o.Resource.TYPE.JSON&&n.data.frames&&!this.resources[e]){var t={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},i=l(n,this.baseUrl);this.add(e,i,t,function(e){if(e.error)r(e.error);else{var t=new s.Spritesheet(e.texture.baseTexture,n.data,n.url);t.parse(function(){n.spritesheet=t,n.textures=t.textures,r()})}})}else r()}},t.getResourcePath=l;var r,o=n(11),i=n(38),a=(r=i)&&r.__esModule?r:{default:r},s=n(1);function l(e,t){return e.isDataUrl?e.data.meta.image:a.default.resolve(e.url.replace(t,""),e.data.meta.image)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){e.data&&e.type===i.Resource.TYPE.IMAGE&&(e.texture=a.default.fromLoader(e.data,e.url,e.name)),t()}};var r,i=n(11),o=n(8),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManager=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(28)),i=s(n(15)),o=s(n(138)),a=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}r.Loader.addPixiMiddleware(o.default);var l=r.Resource;i.default.isAudioSupported&&(i.default.isWebAudioSupported?(i.default.createGainNode=function(e){return e.createGain?e.createGain():e.createGainNode()},i.default.exts.forEach(function(e){l.setExtensionXhrType(e,l.XHR_RESPONSE_TYPE.BUFFER),l.setExtensionLoadType(e,l.LOAD_TYPE.XHR)})):i.default.exts.forEach(function(e){l.setExtensionXhrType(e,l.XHR_RESPONSE_TYPE.DEFAULT),l.setExtensionLoadType(e,l.LOAD_TYPE.AUDIO)})),t.AudioManager=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=a(n(15)),o=a(n(139));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.enabled=i.default.isAudioSupported,this.sounds=[],i.default.isWebAudioSupported&&(this.context=i.default.globalWebAudioContext,this.gainNode=i.default.createGainNode(this.context),this.gainNode.connect(this.context.destination))}return r(n,[{key:"add",value:function(e){var t=new o.default(n.audios[e],this);return t.name=e,this.sounds.push(t),t}},{key:"remove",value:function(e){var t=this.sounds.indexOf(e);-1!==t&&this.sounds.splice(t,1)}},{key:"removeAll",value:function(){this.sounds.forEach(function(e){e.stop()})}},{key:"get",value:function(t){var n=void 0;return this.sounds.forEach(function(e){e.name==t&&(n=e)}),n}},{key:"mute",value:function(e){e=!1!==e;for(var t=this.sounds.length,n=0;n<t;n++)this.sounds[n].muted=e}},{key:"unmute",value:function(){return this.mute(!1)}},{key:"pause",value:function(e){e=!1!==e;for(var t=this.sounds.length,n=0;n<t;n++)this.sounds[n].paused=e}},{key:"resume",value:function(){return this.pause(!1)}}]),n}();(t.default=s).audios={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);n(146);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.TweenLite),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Math.ceil(e/2),r=l,i="",o=void 0;o=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=o.replace("%index%",a);s=s.replace("%sampleIndex%",a-(n-1)+".0"),i+=s,i+="\n"}return r=(r=r.replace("%blur%",i)).replace("%size%",e)};var l=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=l[e],n=t.length,r=u,i="",o=void 0,a=0;a<e;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a);n<=(o=a)&&(o=e-a-1),s=s.replace("%value%",t[o]),i+=s,i+="\n"}return r=(r=r.replace("%blur%",i)).replace("%size%",e)};var l={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},u=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),n=15;t<n;)n-=2;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return r(e,[{key:"getLocalPosition",value:function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}},{key:"copyEvent",value:function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0}},{key:"reset",value:function(){this.isPrimary=!1}},{key:"pointerId",get:function(){return this.identifier}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return r(e,[{key:"stopPropagation",value:function(){this.stopped=!0}},{key:"reset",value:function(){this.stopped=!1,this.currentTarget=null,this.target=null}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return r(t,[{key:"_doSet",value:function(e,t){this._flags=t?this._flags|e:this._flags&~e}},{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),t}();(t.default=i).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,d,f){"use strict";(function(e){Object.defineProperty(d,"__esModule",{value:!0}),d.loaders=d.interaction=d.magic=d.Tween=d.VideoDom=d.Unit=d.AudioManager=d.AnimatedClip=d.TextClip=d.SpriteClip=d.Game=void 0;var t=f(1);Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(d,e,{enumerable:!0,get:function(){return t[e]}})});var n=f(132);Object.defineProperty(d,"Game",{enumerable:!0,get:function(){return n.Game}}),Object.defineProperty(d,"SpriteClip",{enumerable:!0,get:function(){return n.SpriteClip}}),Object.defineProperty(d,"TextClip",{enumerable:!0,get:function(){return n.TextClip}}),Object.defineProperty(d,"AnimatedClip",{enumerable:!0,get:function(){return n.AnimatedClip}});var r=f(66);Object.defineProperty(d,"AudioManager",{enumerable:!0,get:function(){return r.AudioManager}});var i=h(f(144)),o=h(f(145)),a=c(f(165)),s=c(f(68)),l=h(f(166)),u=h(f(28));function c(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.utils.mixins.performMixins(),d.Unit=i,d.VideoDom=a.default,d.Tween=s.default,d.magic=o,d.interaction=l,d.loaders=u,e.SINT=d}).call(this,f(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._x=n,this._y=r,this.cb=e,this.scope=t}return r(i,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new i(e||this.cb,t||this.scope,this._x,this._y)}},{key:"set",value:function(e,t){var n=e||0,r=t||(0!==t?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))}},{key:"copy",value:function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),i}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(18),a=(r=o)&&r.__esModule?r:{default:r},s=n(0),l=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.x=e,this.y=t,this.radius=n,this.type=s.SHAPES.CIRC}return i(r,[{key:"clone",value:function(){return new r(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n}},{key:"getBounds",value:function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}]),r}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(18),a=(r=i)&&r.__esModule?r:{default:r},s=n(0),l=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.x=e,this.y=t,this.width=n,this.height=r,this.type=s.SHAPES.ELIP}return o(i,[{key:"clone",value:function(){return new i(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1}},{key:"getBounds",value:function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)}}]),i}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(16),s=(r=o)&&r.__esModule?r:{default:r},l=n(0),a=function(){function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Array.isArray(t[0])&&(t=t[0]),t[0]instanceof s.default){for(var r=[],i=0,o=t.length;i<o;i++)r.push(t[i].x,t[i].y);t=r}this.closed=!0,this.points=t,this.type=l.SHAPES.POLY}return i(a,[{key:"clone",value:function(){return new a(this.points.slice())}},{key:"close",value:function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])}},{key:"contains",value:function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];t<s!=t<u&&e<(t-s)/(u-s)*(l-a)+a&&(n=!n)}return n}}]),a}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(0),i=function(){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=a.SHAPES.RREC}return r(o,[{key:"clone",value:function(){return new o(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=e-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=t-(this.y+this.height-this.radius))*r<=i)return!0;if((n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1}}]),o}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixin:function(e){var n;(n=e).__plugins={},n.registerPlugin=function(e,t){n.__plugins[e]=t},n.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},n.__plugins)this.plugins[e]=new n.__plugins[e](this)},n.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}}},function(e,t,n){"use strict";function r(e,t){if(e&&t)for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}}Object.defineProperty(t,"__esModule",{value:!0}),t.mixin=r,t.delayMixin=function(e,t){i.push(e,t)},t.performMixins=function(){for(var e=0;e<i.length;e+=2)r(i[e],i[e+1]);i.length=0};var i=[]},function(e,t,n){"use strict";n.r(t),t.default=function(e,t,n){var r,i=e.length;if(!(i<=t||0===n)){var o=i-(n=i<t+n?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,e[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,e[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,t[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,t[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,t[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r};var i=n(0)},function(e,k,P){(function(p,v){var _;!function(e){k&&k.nodeType,p&&p.nodeType;var t="object"==typeof v&&v;t.global!==t&&t.window!==t&&t.self;var n,y=2147483647,g=36,m=26,i=38,o=700,r=/^xn--/,a=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=g-1,b=Math.floor,x=String.fromCharCode;function w(e){throw new RangeError(l[e])}function c(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function h(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+c((e=e.replace(s,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function E(e){return c(e,function(e){var t="";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?b(e/o):e>>1,e+=b(e/t);u*m>>1<e;r+=g)e=b(e/u);return b(r+(u+1)*e/(e+i))}function d(e){var t,n,r,i,o,a,s,l,u,c,h,d=[],f=e.length,p=0,v=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&w("not-basic"),d.push(e.charCodeAt(r));for(i=0<n?n+1:0;i<f;){for(o=p,a=1,s=g;f<=i&&w("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:g)>=g||l>b((y-p)/a))&&w("overflow"),p+=l*a,!(l<(u=s<=_?1:_+m<=s?m:s-_));s+=g)a>b(y/(c=g-u))&&w("overflow"),a*=c;_=S(p-o,t=d.length+1,0==o),b(p/t)>y-v&&w("overflow"),v+=b(p/t),p%=t,d.splice(p++,0,v)}return E(d)}function f(e){var t,n,r,i,o,a,s,l,u,c,h,d,f,p,v,_=[];for(d=(e=T(e)).length,t=128,o=72,a=n=0;a<d;++a)(h=e[a])<128&&_.push(x(h));for(r=i=_.length,i&&_.push("-");r<d;){for(s=y,a=0;a<d;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>b((y-n)/(f=r+1))&&w("overflow"),n+=(s-t)*f,t=s,a=0;a<d;++a)if((h=e[a])<t&&++n>y&&w("overflow"),h==t){for(l=n,u=g;!(l<(c=u<=o?1:o+m<=u?m:u-o));u+=g)v=l-c,p=g-c,_.push(x(O(c+v%p,0))),l=b(v/p);_.push(x(O(l,0))),o=S(n,f,r==i),n=0,++r}++n,++t}return _.join("")}n={version:"1.4.1",ucs2:{decode:T,encode:E},decode:d,encode:f,toASCII:function(e){return h(e,function(e){return a.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return h(e,function(e){return r.test(e)?d(e.slice(4).toLowerCase()):e})}},void 0===(_=function(){return n}.call(k,P,k,p))||(p.exports=_)}()}).call(this,P(89)(e),P(12))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(92),t.encode=t.stringify=n(93)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s,l,u=e.length;0<a&&a<u&&(u=a);for(var c=0;c<u;++c){var h,d,f,p,v=e[c].replace(o,"%20"),_=v.indexOf(n);d=0<=_?(h=v.substr(0,_),v.substr(_+1)):(h=v,""),f=decodeURIComponent(h),p=decodeURIComponent(d),s=i,l=f,Object.prototype.hasOwnProperty.call(s,l)?y(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i};var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(n,r,i,e){return r=r||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?s(l(n),function(e){var t=encodeURIComponent(o(e))+i;return a(n[e])?s(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+i+encodeURIComponent(o(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var l=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=s(n(9)),o=n(3),a=n(21),l=n(0),u=s(n(37));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function s(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));return r.width=e.videoWidth,r.height=e.videoHeight,r._autoUpdate=!0,r._isAutoUpdating=!1,r.autoPlay=n,r.update=r.update.bind(r),r._onCanPlay=r._onCanPlay.bind(r),e.addEventListener("play",r._onPlayStart.bind(r)),e.addEventListener("pause",r._onPlayStop.bind(r)),r.hasLoaded=!1,r.__loaded=!1,r._isSourceReady()?r._onCanPlay():(e.addEventListener("canplay",r._onCanPlay),e.addEventListener("canplaythrough",r._onCanPlay)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.default),r(s,[{key:"_isSourcePlaying",value:function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState}},{key:"_isSourceReady",value:function(){return 3===this.source.readyState||4===this.source.readyState}},{key:"_onPlayStart",value:function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)}},{key:"_onPlayStop",value:function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)}},{key:"_onCanPlay",value:function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())}},{key:"destroy",value:function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._SINTId&&(i.default.removeFromCache(this.source._SINTId),delete this.source._SINTId,this.source.pause(),this.source.src="",this.source.load()),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"destroy",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}],[{key:"fromVideo",value:function(e,t,n){e._SINTId||(e._SINTId="video_"+(0,o.uid)());var r=o.BaseTextureCache[e._SINTId];return r||(r=new s(e,t,n),i.default.addToCache(r,e._SINTId)),r}},{key:"fromUrl",value:function(e,t,n,r){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(e))for(var a=0;a<e.length;++a)i.appendChild(h(e[a].src||e[a],e[a].mime));else i.appendChild(h(o,e.mime));return i.load(),s.fromVideo(i,t,r)}}]),s}();function h(e,t){if(!t){var n=e.split("?").shift().toLowerCase();t="video/"+n.substr(n.lastIndexOf(".")+1)}var r=document.createElement("source");return r.src=e,r.type=t,r}(t.default=c).fromUrls=c.fromUrl},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=s(n(2)),o=n(0),a=s(n(96));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return r(e,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,n))}},{key:"addOnce",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,n,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}t=(n=t).next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;if(e>this.lastTime){(t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*i.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.fn=e,this.context=t,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return r(i,[{key:"match",value:function(e,t){return t=t||null,this.fn===e&&this.context===t}},{key:"emit",value:function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}},{key:"connect",value:function(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),i}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(31),u=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return i(e,[{key:"set",value:function(e,t,n){var r=t.width,i=t.height;if(n){var o=e.width/2/r,a=e.height/2/i,s=e.x/r+o,l=e.y/i+a;n=u.default.add(n,u.default.NW),this.x0=s+o*u.default.uX(n),this.y0=l+a*u.default.uY(n),n=u.default.add(n,2),this.x1=s+o*u.default.uX(n),this.y1=l+a*u.default.uY(n),n=u.default.add(n,2),this.x2=s+o*u.default.uX(n),this.y2=l+a*u.default.uY(n),n=u.default.add(n,2),this.x3=s+o*u.default.uX(n),this.y3=l+a*u.default.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=o(n(22)),c=n(0),h=n(4),d=o(n(42));function o(e){return e&&e.__esModule?e:{default:e}}var f=new h.Matrix,a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return r(t,[{key:"render",value:function(e){var t=e._texture,n=this.renderer,r=t._frame.width,i=t._frame.height,o=e.transform.worldTransform,a=0,s=0;if(!(t.orig.width<=0||t.orig.height<=0)&&t.baseTexture.source&&(n.setBlendMode(e.blendMode),t.valid)){n.context.globalAlpha=e.worldAlpha;var l=t.baseTexture.scaleMode===c.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==l&&(n.context[n.smoothProperty]=l),s=t.trim?(a=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(a=(.5-e.anchor.x)*t.orig.width,(.5-e.anchor.y)*t.orig.height),t.rotate&&(o.copy(f),o=f,h.GroupD8.matrixAppendRotationInv(o,t.rotate,a,s),s=a=0),a-=r/2,s-=i/2,n.roundPixels?(n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution|0,o.ty*n.resolution|0),a|=0,s|=0):n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution,o.ty*n.resolution);var u=t.baseTexture.resolution;16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=d.default.getTintedTexture(e,e.tint)),n.context.drawImage(e.tintedTexture,0,0,r*u,i*u,a*n.resolution,s*n.resolution,r*n.resolution,i*n.resolution)):n.context.drawImage(t.baseTexture.source,t._frame.x*u,t._frame.y*u,r*u,i*u,a*n.resolution,s*n.resolution,r*n.resolution,i*n.resolution)}}},{key:"destroy",value:function(){this.renderer=null}}]),t}();t.default=a,i.default.registerPlugin("sprite",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=o(n(9)),a=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=arguments[2],r=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,null,n));return i.resolution=r||a.default.RESOLUTION,i.width=Math.ceil(e),i.height=Math.ceil(t),i.realWidth=i.width*i.resolution,i.realHeight=i.height*i.resolution,i.scaleMode=void 0!==n?n:a.default.SCALE_MODE,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.default),r(o,[{key:"resize",value:function(e,t){e=Math.ceil(e),t=Math.ceil(t),e===this.width&&t===this.height||(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))}},{key:"destroy",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"destroy",this).call(this,!0),this.renderer=null}}]),o}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),R=n(0),i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return r(t,[{key:"pushMask",value:function(e){var t=this.renderer;t.context.save();var n=e.alpha,r=e.transform.worldTransform,i=t.resolution;t.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=n}},{key:"renderGraphicsShape",value:function(e){var t=this.renderer.context,n=e.graphicsData.length;if(0!==n){t.beginPath();for(var r=0;r<n;r++){var i=e.graphicsData[r],o=i.shape;if(i.type===R.SHAPES.POLY){var a=o.points,s=i.holes,l=void 0,u=void 0;t.moveTo(a[0],a[1]);for(var c=2;c<a.length;c+=2)t.lineTo(a[c],a[c+1]);if(a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&t.closePath(),0<s.length){for(var h=l=0;h<a.length;h+=2)l+=a[h]*a[h+3]-a[h+1]*a[h+2];for(var d=0;d<s.length;d++){a=s[d].points;for(var f=u=0;f<a.length;f+=2)u+=a[f]*a[f+3]-a[f+1]*a[f+2];if(t.moveTo(a[0],a[1]),u*l<0)for(var p=2;p<a.length;p+=2)t.lineTo(a[p],a[p+1]);else for(var v=a.length-2;2<=v;v-=2)t.lineTo(a[v],a[v+1])}}}else if(i.type===R.SHAPES.RECT)t.rect(o.x,o.y,o.width,o.height),t.closePath();else if(i.type===R.SHAPES.CIRC)t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath();else if(i.type===R.SHAPES.ELIP){var _=2*o.width,y=2*o.height,g=o.x-_/2,m=o.y-y/2,b=_/2*.5522848,x=y/2*.5522848,w=g+_,T=m+y,E=g+_/2,O=m+y/2;t.moveTo(g,O),t.bezierCurveTo(g,O-x,E-b,m,E,m),t.bezierCurveTo(E+b,m,w,O-x,w,O),t.bezierCurveTo(w,O+x,E+b,T,E,T),t.bezierCurveTo(E-b,T,g,O+x,g,O),t.closePath()}else if(i.type===R.SHAPES.RREC){var S=o.x,k=o.y,P=o.width,M=o.height,C=o.radius,A=Math.min(P,M)/2|0;C=A<C?A:C,t.moveTo(S,k+C),t.lineTo(S,k+M-C),t.quadraticCurveTo(S,k+M,S+C,k+M),t.lineTo(S+P-C,k+M),t.quadraticCurveTo(S+P,k+M,S+P,k+M-C),t.lineTo(S+P,k+C),t.quadraticCurveTo(S+P,k,S+P-C,k),t.lineTo(S+C,k),t.quadraticCurveTo(S,k,S,k+C),t.closePath()}}}}},{key:"popMask",value:function(e){e.context.restore(),e.invalidateBlendMode()}},{key:"destroy",value:function(){}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(2),a=(r=o)&&r.__esModule?r:{default:r},s=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||a.default.RESOLUTION,this.resize(e,t)}return i(r,[{key:"clear",value:function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"resize",value:function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution}},{key:"destroy",value:function(){this.context=null,this.canvas=null}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),r}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,a.default)()?(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="multiply",e[i.BLEND_MODES.SCREEN]="screen",e[i.BLEND_MODES.OVERLAY]="overlay",e[i.BLEND_MODES.DARKEN]="darken",e[i.BLEND_MODES.LIGHTEN]="lighten",e[i.BLEND_MODES.COLOR_DODGE]="color-dodge",e[i.BLEND_MODES.COLOR_BURN]="color-burn",e[i.BLEND_MODES.HARD_LIGHT]="hard-light",e[i.BLEND_MODES.SOFT_LIGHT]="soft-light",e[i.BLEND_MODES.DIFFERENCE]="difference",e[i.BLEND_MODES.EXCLUSION]="exclusion",e[i.BLEND_MODES.HUE]="hue",e[i.BLEND_MODES.SATURATION]="saturate",e[i.BLEND_MODES.COLOR]="color",e[i.BLEND_MODES.LUMINOSITY]="luminosity"):(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="source-over",e[i.BLEND_MODES.SCREEN]="source-over",e[i.BLEND_MODES.OVERLAY]="source-over",e[i.BLEND_MODES.DARKEN]="source-over",e[i.BLEND_MODES.LIGHTEN]="source-over",e[i.BLEND_MODES.COLOR_DODGE]="source-over",e[i.BLEND_MODES.COLOR_BURN]="source-over",e[i.BLEND_MODES.HARD_LIGHT]="source-over",e[i.BLEND_MODES.SOFT_LIGHT]="source-over",e[i.BLEND_MODES.DIFFERENCE]="source-over",e[i.BLEND_MODES.EXCLUSION]="source-over",e[i.BLEND_MODES.HUE]="source-over",e[i.BLEND_MODES.SATURATION]="source-over",e[i.BLEND_MODES.COLOR]="source-over",e[i.BLEND_MODES.LUMINOSITY]="source-over"),e[i.BLEND_MODES.NORMAL_NPM]=e[i.BLEND_MODES.NORMAL],e[i.BLEND_MODES.ADD_NPM]=e[i.BLEND_MODES.ADD],e[i.BLEND_MODES.SCREEN_NPM]=e[i.BLEND_MODES.SCREEN],e};var r,i=n(0),o=n(41),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=c(n(23)),i=c(n(24)),a=c(n(55)),s=c(n(124)),l=c(n(126)),u=c(n(127)),N=c(n(2)),F=n(3),B=c(n(6)),U=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}var X=0,H=0,h=function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));t.vertSize=5,t.vertByteSize=4*t.vertSize,t.size=N.default.SPRITE_BATCH_SIZE,t.buffers=[];for(var n=1;n<=U.default.nextPow2(t.size);n*=2)t.buffers.push(new u.default(4*n*t.vertByteSize));t.indices=(0,a.default)(t.size),t.shader=null,t.currentIndex=0,t.groups=[];for(var r=0;r<t.size;r++)t.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return t.sprites=[],t.vertexBuffers=[],t.vaos=[],t.vaoMax=2,t.vertexCount=0,t.renderer.on("prerender",t.onPrerender,t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.default),r(i,[{key:"onContextChange",value:function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),N.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,l.default)(this.MAX_TEXTURES,e)),this.shader=(0,s.default)(e,this.MAX_TEXTURES),this.indexBuffer=B.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=B.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(r,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&i.addAttribute(r,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)}},{key:"onPrerender",value:function(){this.vertexCount=0}},{key:"render",value:function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)}},{key:"flush",value:function(){if(0!==this.currentIndex){var e=this.renderer.gl,t=this.MAX_TEXTURES,n=U.default.nextPow2(this.currentIndex),r=U.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,l=i.uint32View,u=this.boundTextures,c=this.renderer.boundTextures,h=this.renderer.textureGC.count,d=0,f=void 0,p=void 0,v=1,_=0,y=a[0],g=void 0,m=void 0,b=F.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];y.textureCount=0,y.start=0,y.blend=b,X++;var x=void 0;for(x=0;x<t;++x){var w=c[x];w._enabled!==X?((u[x]=w)._virtalBoundId=x,w._enabled=X):u[x]=this.renderer.emptyTextures[x]}for(X++,x=0;x<this.currentIndex;++x){var T=o[x];o[x]=null,f=T._texture.baseTexture;var E=F.premultiplyBlendMode[Number(f.premultipliedAlpha)][T.blendMode];if(b!==E&&(b=E,p=null,_=t,X++),p!==f&&(p=f)._enabled!==X){if(_===t&&(X++,y.size=x-y.start,_=0,(y=a[v++]).blend=b,y.textureCount=0,y.start=x),f.touched=h,-1===f._virtalBoundId)for(var O=0;O<t;++O){var S=(O+H)%t,k=u[S];if(k._enabled!==X){H++,k._virtalBoundId=-1,f._virtalBoundId=S,u[S]=f;break}}f._enabled=X,y.textureCount++,y.ids[_]=f._virtalBoundId,y.textures[_++]=f}if(g=T.vertexData,m=T._texture._uvs.uvsUint32,this.renderer.roundPixels){var P=this.renderer.resolution;s[d]=(g[0]*P|0)/P,s[d+1]=(g[1]*P|0)/P,s[d+5]=(g[2]*P|0)/P,s[d+6]=(g[3]*P|0)/P,s[d+10]=(g[4]*P|0)/P,s[d+11]=(g[5]*P|0)/P,s[d+15]=(g[6]*P|0)/P,s[d+16]=(g[7]*P|0)/P}else s[d]=g[0],s[d+1]=g[1],s[d+5]=g[2],s[d+6]=g[3],s[d+10]=g[4],s[d+11]=g[5],s[d+15]=g[6],s[d+16]=g[7];l[d+2]=m[0],l[d+7]=m[1],l[d+12]=m[2],l[d+17]=m[3];var M=Math.min(T.worldAlpha,1),C=M<1&&f.premultipliedAlpha?(0,F.premultiplyTint)(T._tintRGB,M):T._tintRGB+(255*M<<24);l[d+3]=l[d+8]=l[d+13]=l[d+18]=C,s[d+4]=s[d+9]=s[d+14]=s[d+19]=f._virtalBoundId,d+=20}if(y.size=x-y.start,N.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var A=this.shader.attributes,R=this.vertexBuffers[this.vertexCount]=B.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),D=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(R,A.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(R,A.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(R,A.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);A.aTextureId&&D.addAttribute(R,A.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=D}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(x=0;x<t;++x)c[x]._virtalBoundId=-1;for(x=0;x<v;++x){for(var I=a[x],L=I.textureCount,j=0;j<L;j++)p=I.textures[j],c[I.ids[j]]!==p&&this.renderer.bindTexture(p,I.ids[j],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(I.blend),e.drawElements(e.TRIANGLES,6*I.size,e.UNSIGNED_SHORT,6*I.start*2)}this.currentIndex=0}}},{key:"start",value:function(){this.renderer.bindShader(this.shader),N.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var t=0;t<this.buffers.length;++t)this.buffers[t].destroy()}}]),i}();t.default=h,i.default.registerPlugin("sprite",h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=a(n(10)),o=a(n(105));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.scissor=!1,t.scissorData=null,t.scissorRenderTarget=null,t.enableScissor=!0,t.alphaMaskPool=[],t.alphaMaskIndex=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"pushMask",value:function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var n=t.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)}},{key:"popMask",value:function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)}},{key:"pushSpriteMask",value:function(e,t){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(t)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--}},{key:"pushStencilMask",value:function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)}},{key:"popStencilMask",value:function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()}},{key:"pushScissorMask",value:function(e,t){t.renderable=!0;var n=this.renderer._activeRenderTarget,r=t.getBounds();r.fit(n.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=t,this.scissor=!0}},{key:"popScissorMask",value:function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)}}]),n}();t.default=s},function(e,u,c){"use strict";(function(i){Object.defineProperty(u,"__esModule",{value:!0});var t=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),n=e(c(43)),o=c(4),a=c(113),s=c(26),l=e(c(53));function e(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=new o.Matrix,n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,(0,a.readFileSync)((0,s.join)(i,"./spriteMaskFilter.vert"),"utf8"),(0,a.readFileSync)((0,s.join)(i,"./spriteMaskFilter.frag"),"utf8")));return e.renderable=!1,n.maskSprite=e,n.maskMatrix=t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n.default),t(r,[{key:"apply",value:function(e,t,n){var r=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new l.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(i.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,e.applyFilter(this,t,n))}}]),r}();u.default=r}).call(this,"/")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=o(e),i=o(t);return Object.assign(r,i)};var r,i=n(6),h=((r=i)&&r.__esModule?r:{default:r}).default.shader.defaultValue;function o(e){for(var t=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},r=void 0,i=e.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(-1<a.indexOf("uniform")){var s=a.split(" "),l=s[1],u=s[2],c=1;-1<u.indexOf("[")&&(u=(r=u.split(/\[|]/))[0],c*=Number(r[1])),u.match(t)||(n[u]={value:h(l,c),name:u,type:l})}}return n}},function(e,t){e.exports=function(e,t){var n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n}},function(e,t){var i=new ArrayBuffer(0),o=function(e,t,n,r){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=r||e.STATIC_DRAW,this.data=i,n&&this.upload(n),this._updateID=0};o.prototype.upload=function(e,t,n){n||this.bind();var r=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?r.bufferSubData(this.type,t,e):r.bufferData(this.type,e,this.drawType),this.data=e},o.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},o.createVertexBuffer=function(e,t,n){return new o(e,e.ARRAY_BUFFER,t,n)},o.createIndexBuffer=function(e,t,n){return new o(e,e.ELEMENT_ARRAY_BUFFER,t,n)},o.create=function(e,t,n,r){return new o(e,t,n,r)},o.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=o},function(e,t,n){var a=n(45),s=function(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100};s.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new a(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},s.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},s.prototype.clear=function(e,t,n,r){this.bind();var i=this.gl;i.clearColor(e,t,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},s.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},s.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},s.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))},s.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},s.createRGBA=function(e,t,n,r){var i=a.fromData(e,null,t,n);i.enableNearestScaling(),i.enableWrapClamp();var o=new s(e,t,n);return o.enableTexture(i),o.unbind(),o},s.createFloat32=function(e,t,n,r){var i=new a.fromData(e,r,t,n);i.enableNearestScaling(),i.enableWrapClamp();var o=new s(e,t,n);return o.enableTexture(i),o.unbind(),o},e.exports=s},function(e,t,n){var o=n(46),a=n(47),s=n(49),l=n(51),u=n(52),r=function(e,t,n,r,i){this.gl=e,r&&(t=l(t,r),n=l(n,r)),this.program=o(e,t,n,i),this.attributes=a(e,this.program),this.uniformData=s(e,this.program),this.uniforms=u(e,this.uniformData)};r.prototype.bind=function(){return this.gl.useProgram(this.program),this},r.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=r},function(e,t,n){var i=n(44);function r(e,t){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}r.prototype.constructor=r,(e.exports=r).FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var e=this.gl,t=null,n=0;n<this.attributes.length;n++){var r=this.attributes[n];t!==r.buffer&&(r.buffer.bind(),t=r.buffer),e.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||e.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return i(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(e,t,n,r,i,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(e,t,n){var r=this.gl;return this.indexBuffer?r.drawElements(e,t||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(e,n,t||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,n){e.exports={compileProgram:n(46),defaultValue:n(50),extractAttributes:n(47),extractUniforms:n(49),generateUniformAccessObject:n(52),setPrecision:n(51),mapSize:n(48),mapType:n(25)}},function(e,t){console.log("I'm `fs` modules")},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(10),a=(r=o)&&r.__esModule?r:{default:r},s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.stencilMaskStack=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"setMaskStack",value:function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)}},{key:"pushStencil",value:function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,n,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()}},{key:"popStencil",value:function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}},{key:"_getBitwiseMask",value:function(){return(1<<this.stencilMaskStack.length)-1}},{key:"destroy",value:function(){a.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null}}]),n}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=h(n(10)),s=h(n(14)),o=h(n(54)),a=n(4),l=h(n(27)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(117)),c=h(n(20));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(){function e(){d(this,e),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.filters=[]}return r(e,[{key:"clear",value:function(){this.filters=null,this.target=null,this.renderTarget=null}}]),e}(),f=function(e){function n(e){d(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.gl=t.renderer.gl,t.quad=new o.default(t.gl,e.state.attribState),t.shaderCache={},t.pool={},t.filterData=null,t.managedFilters=[],t.renderer.on("prerender",t.onPrerender,t),t._screenWidth=e.view.width,t._screenHeight=e.view.height,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"pushFilter",value:function(e,t){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new p;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index],a=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new p);var s=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===n.screen.width&&e.filterArea.height===n.screen.height,l=t[0].resolution,u=0|t[0].padding,c=s?n.screen:e.filterArea||e.getBounds(!0),h=o.sourceFrame,d=o.destinationFrame;h.x=(c.x*l|0)/l,h.y=(c.y*l|0)/l,h.width=(c.width*l|0)/l,h.height=(c.height*l|0)/l,s||(r.stack[0].renderTarget.transform||t[0].autoFit&&h.fit(a),h.pad(u)),d.width=h.width,d.height=h.height;var f=this.getPotRenderTarget(n.gl,h.width,h.height,l);o.target=e,o.filters=t,o.resolution=l,(o.renderTarget=f).setFrame(d,h),n.bindRenderTarget(f),f.clear()}},{key:"popFilter",value:function(){var e=this.filterData,t=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,t.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,t.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}n.clear(),e.index--,0===e.index&&(this.filterData=null)}},{key:"applyFilter",value:function(e,t,n,r){var i=this.renderer,o=i.gl,a=e.glShaders[i.CONTEXT_UID];a||(e.glShaderKey?(a=this.shaderCache[e.glShaderKey])||(a=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[i.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=a,this.managedFilters.push(e)):(a=e.glShaders[i.CONTEXT_UID]=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(a,e),i.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}},{key:"syncUniforms",value:function(e,t){var n=t.uniformData,r=t.uniforms,i=1,o=void 0;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=e.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,e.uniforms.filterArea=a}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=e.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=s}for(var l in n)if(e.uniforms.data[l]){var u=n[l].type;if("sampler2d"===u&&0!==r[l]){if(r[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(r[l].baseTexture,i);else{e.uniforms[l]=i;var c=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],c.activeTexture(c.TEXTURE0+i),r[l].texture.bind()}i++}else if("mat3"===u)void 0!==r[l].a?e.uniforms[l]=r[l].toArray(!0):e.uniforms[l]=r[l];else if("vec2"===u)if(void 0!==r[l].x){var h=e.uniforms[l]||new Float32Array(2);h[0]=r[l].x,h[1]=r[l].y,e.uniforms[l]=h}else e.uniforms[l]=r[l];else"float"===u?e.uniforms.data[l].value!==n[l]&&(e.uniforms[l]=r[l]):e.uniforms[l]=r[l]}}},{key:"getRenderTarget",value:function(e,t){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,t||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r}},{key:"returnRenderTarget",value:function(e){this.freePotRenderTarget(e)}},{key:"calculateScreenSpaceMatrix",value:function(e){var t=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)}},{key:"calculateNormalizedScreenSpaceMatrix",value:function(e){var t=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)}},{key:"calculateSpriteMatrix",value:function(e,t){var n=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,t)}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,n=this.managedFilters;t.off("prerender",this.onPrerender,this);for(var r=0;r<n.length;r++)e||n[r].glShaders[t.CONTEXT_UID].destroy(),delete n[r].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()}},{key:"getPotRenderTarget",value:function(e,t,n,r){var i="screen";n*=r,(t*=r)===this._screenWidth&&n===this._screenHeight||(i=(65535&(t=c.default.nextPow2(t)))<<16|65535&(n=c.default.nextPow2(n))),this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var a=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),o=new s.default(e,t,n,null,1),e.bindTexture(e.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=r,o.defaultFrame.width=o.size.width=t/r,o.defaultFrame.height=o.size.height=n/r,o.filterPoolKey=i,o}},{key:"emptyPool",value:function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var n=0;n<t.length;n++)t[n].destroy(!0)}this.pool={}}},{key:"freePotRenderTarget",value:function(e){this.pool[e.filterPoolKey].push(e)}},{key:"onPrerender",value:function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool.screen;if(e)for(var t=0;t<e.length;t++)e[t].destroy(!0);this.pool.screen=[]}}}]),n}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScreenSpaceMatrix=function(e,t,n){var r=e.identity();return r.translate(t.x/n.width,t.y/n.height),r.scale(n.width,n.height),r},t.calculateNormalizedScreenSpaceMatrix=function(e,t,n){var r=e.identity();r.translate(t.x/n.width,t.y/n.height);var i=n.width/t.width,o=n.height/t.height;return r.scale(i,o),r},t.calculateSpriteMatrix=function(e,t,n,r){var i=r._texture.orig,o=e.set(n.width,0,0,n.height,t.x,t.y),a=r.worldTransform.copy(s.Matrix.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/i.width,1/i.height),o.translate(r.anchor.x,r.anchor.y),o};var s=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=n(6),u=n(0),o=n(14),c=(r=o)&&r.__esModule?r:{default:r},a=n(3),s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return i(t,[{key:"bindTexture",value:function(){}},{key:"getTexture",value:function(){}},{key:"updateTexture",value:function(e,t){var n=this.gl,r=!!e._glRenderTargets;if(!e.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===t)for(var o=t=0;o<i.length;++o)if(i[o]===e){t=o;break}i[t]=e,n.activeTexture(n.TEXTURE0+t);var a=e._glTextures[this.renderer.CONTEXT_UID];if(a)r?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):a.upload(e.source);else{if(r){var s=new c.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);s.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=s,a=s.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(a=new l.GLTexture(this.gl,null,null,null,null)).bind(t),a.premultiplyAlpha=!0,a.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=a,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&a.enableMipmap(),e.wrapMode===u.WRAP_MODES.CLAMP?a.enableWrapClamp():e.wrapMode===u.WRAP_MODES.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),e.scaleMode===u.SCALE_MODES.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a}},{key:"destroyTexture",value:function(e,t){if((e=e.baseTexture||e).hasLoaded){var n=this.renderer.CONTEXT_UID,r=e._glTextures,i=e._glRenderTargets;if(r[n]&&(this.renderer.unbindTexture(e),r[n].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete r[n],!t)){var o=this._managedTextures.indexOf(e);-1!==o&&(0,a.removeItems)(this._managedTextures,o,1)}i&&i[n]&&(i[n].destroy(),delete i[n])}}},{key:"removeAll",value:function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}}},{key:"destroy",value:function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(0),a=n(2),s=(r=a)&&r.__esModule?r:{default:r},l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return i(t,[{key:"update",value:function(){this.count++,this.mode!==o.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))}},{key:"run",value:function(){for(var e=this.renderer.textureManager,t=e._managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){for(var o=0,a=0;a<t.length;a++)null!==t[a]&&(t[o++]=t[a]);t.length=o}}},{key:"unload",value:function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var n=e.children.length-1;0<=n;n--)this.unload(e.children[n])}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(121),a=(r=o)&&r.__esModule?r:{default:r},s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,a.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return i(t,[{key:"push",value:function(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]}},{key:"pop",value:function(){var e=this.stack[--this.stackIndex];this.setState(e)}},{key:"setState",value:function(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])}},{key:"setBlend",value:function(e){e=e?1:0,this.activeState[0]!==e&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))}},{key:"setBlendMode",value:function(e){if(e!==this.activeState[4]){this.activeState[4]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}}},{key:"setDepthTest",value:function(e){e=e?1:0,this.activeState[1]!==e&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))}},{key:"setCullFace",value:function(e){e=e?1:0,this.activeState[3]!==e&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))}},{key:"setFrontFace",value:function(e){e=e?1:0,this.activeState[2]!==e&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))}},{key:"resetAttributes",value:function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)}},{key:"resetToDefault",value:function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[r.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[r.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[r.DRAW_MODES.POINTS]=e.POINTS,t[r.DRAW_MODES.LINES]=e.LINES,t[r.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[r.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[r.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[r.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[r.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=l.default,r=u;r=(r=r.replace(/%count%/gi,t)).replace(/%forloop%/gi,function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)0<n&&(t+="\nelse "),n<e-1&&(t+="if(textureId == "+n+".0)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"}(t));for(var i=new s.default(e,n,r),o=[],a=0;a<t;a++)o[a]=a;return i.bind(),i.uniforms.uSamplers=o,i};var s=r(n(27)),l=r(n(125));function r(e){return e&&e.__esModule?e:{default:e}}n(26);var u=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!t;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var r=document.createElement("canvas");r.width=1,r.height=1,t=a.default.createContext(r)}for(var i=t.createShader(t.FRAGMENT_SHADER);;){var o=s.replace(/%forloop%/gi,l(e));if(t.shaderSource(i,o),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}return n&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),e};var r,i=n(6),a=(r=i)&&r.__esModule?r:{default:r},s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function l(e){for(var t="",n=0;n<e;++n)0<n&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return r(t,[{key:"destroy",value:function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=o(n(36)),s=o(n(8)),l=n(4),u=n(3),v=n(0),c=o(n(2)),h=o(n(56)),y=o(n(57)),d=o(n(129));function o(e){return e&&e.__esModule?e:{default:e}}var f={texture:!0,children:!1,baseTexture:!0},p=function(e){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=n||document.createElement("canvas")).width=3,n.height=3;var r=s.default.fromCanvas(n,c.default.SCALE_MODE,"text");r.orig=new l.Rectangle,r.trim=new l.Rectangle;var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,r));return s.default.addToCache(i._texture,i._texture.baseTexture.textureCacheIds[0]),i.canvas=n,i.context=i.canvas.getContext("2d"),i.resolution=c.default.RESOLUTION,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=t,i.localStyleID=-1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.default),r(o,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n=this.context,r=y.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*t.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*t.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=t.stroke,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;var h=void 0,d=void 0;if(t.dropShadow){n.fillStyle=t.dropShadowColor,n.globalAlpha=t.dropShadowAlpha,n.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(n.shadowColor=t.dropShadowColor);for(var f=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,p=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,v=0;v<a.length;v++)h=t.strokeThickness/2,d=t.strokeThickness/2+v*s+c.ascent,"right"===t.align?h+=u-l[v]:"center"===t.align&&(h+=(u-l[v])/2),t.fill&&(this.drawLetterSpacing(a[v],h+f+t.padding,d+p+t.padding),t.stroke&&t.strokeThickness&&(n.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(a[v],h+f+t.padding,d+p+t.padding,!0),n.strokeStyle=t.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(t,a);for(var _=0;_<a.length;_++)h=t.strokeThickness/2,d=t.strokeThickness/2+_*s+c.ascent,"right"===t.align?h+=u-l[_]:"center"===t.align&&(h+=(u-l[_])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[_],h+t.padding,d+t.padding,!0),t.fill&&this.drawLetterSpacing(a[_],h+t.padding,d+t.padding);this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(e,""),a=t,s=0,l="";s<e.length;)l=o[s++],r?this.context.strokeText(l,a,n):this.context.fillText(l,a,n),a+=this.context.measureText(l).width+i;else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)}},{key:"updateTexture",value:function(){var e=this.canvas;if(this._style.trim){var t=(0,d.default)(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=e.width,o.realHeight=e.height,o.width=e.width/this.resolution,o.height=e.height/this.resolution,n.trim.width=n._frame.width=e.width/this.resolution,n.trim.height=n._frame.height=e.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1}},{key:"renderWebGL",value:function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"renderWebGL",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"_generateFillStyle",value:function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=e.fill.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var c=l.length+1,h=1;h<c;++h)u.push(h/c);if(l.unshift(e.fill[0]),u.unshift(0),l.push(e.fill[e.fill.length-1]),u.push(1),e.fillGradientType===v.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(l.length+1)*t.length;for(var d=i=0;d<t.length;d++){i+=1;for(var f=0;f<l.length;f++)o="number"==typeof u[f]?u[f]/t.length+d/t.length:i/r,n.addColorStop(o,l[f]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=l.length+1,i=1;for(var p=0;p<l.length;p++)o="number"==typeof u[p]?u[p]:i/r,n.addColorStop(o,l[p]),i++}return n}},{key:"destroy",value:function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},f,e),i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"destroy",this).call(this,e),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,u.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,u.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){(e=e||{})instanceof h.default?this._style=e:this._style=new h.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null==e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),o}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=null,l=void 0,u=void 0,c=void 0;for(l=0;l<o;l+=4)0!==i[l+3]&&(u=l/4%t,c=~~(l/4/t),null===a.top&&(a.top=c),null===a.left?a.left=u:u<a.left&&(a.left=u),null===a.right?a.right=u+1:a.right<u&&(a.right=u+1),null===a.bottom?a.bottom=c:a.bottom<c&&(a.bottom=c));return null!==a.top&&(t=a.right-a.left,n=a.bottom-a.top+1,s=r.getImageData(a.left,a.top,t,n)),{height:n,width:t,data:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),d=n(1),i=n(3),o=function(){function h(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),this.baseTexture=e,this.textures={},this.animations={},this.data=t,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(h,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),r(h,[{key:"_updateResolution",value:function(e){var t=this.data.meta.scale,n=(0,i.getResolutionOfUrl)(e,null);return null===n&&(n=void 0!==t?parseFloat(t):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n}},{key:"parse",value:function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=h.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}},{key:"_processFrames",value:function(e){for(var t=e,n=h.BATCH_SIZE,r=this.baseTexture.sourceScale;t-e<n&&t<this._frameKeys.length;){var i=this._frameKeys[t],o=this._frames[i],a=o.frame;if(a){var s=null,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new d.Rectangle(0,0,Math.floor(u.w*r)/this.resolution,Math.floor(u.h*r)/this.resolution);s=o.rotated?new d.Rectangle(Math.floor(a.x*r)/this.resolution,Math.floor(a.y*r)/this.resolution,Math.floor(a.h*r)/this.resolution,Math.floor(a.w*r)/this.resolution):new d.Rectangle(Math.floor(a.x*r)/this.resolution,Math.floor(a.y*r)/this.resolution,Math.floor(a.w*r)/this.resolution,Math.floor(a.h*r)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new d.Rectangle(Math.floor(o.spriteSourceSize.x*r)/this.resolution,Math.floor(o.spriteSourceSize.y*r)/this.resolution,Math.floor(a.w*r)/this.resolution,Math.floor(a.h*r)/this.resolution)),this.textures[i]=new d.Texture(this.baseTexture,s,c,l,o.rotated?2:0,o.anchor),d.Texture.addToCache(this.textures[i],i)}t++}}},{key:"_processAnimations",value:function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];var n=!0,r=!1,i=void 0;try{for(var o,a=e[t][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.animations[t].push(this.textures[s])}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var e=this;this._processFrames(this._batchIndex*h.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*h.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null}}]),h}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoDetectRenderer=function(e,t,n,r){var i=e&&e.forceCanvas;return void 0!==r&&(i=r),!i&&o.isWebGLSupported()?new s.default(e,t,n):new a.default(e,t,n)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),a=r(n(22)),s=r(n(24));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(133);Object.defineProperty(t,"Game",{enumerable:!0,get:function(){return s(r).default}});var i=n(140);Object.defineProperty(t,"SpriteClip",{enumerable:!0,get:function(){return s(i).default}});var o=n(141);Object.defineProperty(t,"TextClip",{enumerable:!0,get:function(){return s(o).default}});var a=n(142);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AnimatedClip",{enumerable:!0,get:function(){return s(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=c(n(1)),a=n(134),s=(r=a)&&r.__esModule?r:{default:r},l=c(n(28)),u=n(66);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}o.utils.skipHello(),o.settings.PRECISION_FRAGMENT="highp";var h=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),void 0===e&&(e={}),e=Object.assign({domElement:null,initWidth:750,initHeight:1334,showFPS:!0,backgroundColor:0},e);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{width:e.initWidth,height:e.initHeight,backgroundColor:e.backgroundColor}));return t.domElement=e.domElement,t.initWidth=e.initWidth,t.initHeight=e.initHeight,t.domElement.appendChild(t.view),e.showFPS&&(t.stats=new s.default,t.domElement.appendChild(t.stats.dom)),SINT.TyLoader=new l.Loader,SINT.Audios=new u.AudioManager,t._init(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.Application),i(n,[{key:"_init",value:function(){this.initWidth,this.initHeight,window.addEventListener("resize",this._resize.bind(this)),this._resize(),this.ticker.add(this._animate,this)}},{key:"_resize",value:function(){var e=this.domElement.offsetWidth/this.initWidth;console.log("resize "+e),this.initHeight=this.domElement.offsetHeight/e,this.view.style.width="100%",this.renderer.resize(this.initWidth,this.initHeight),this.render()}},{key:"_animate",value:function(e){this.stats&&this.stats.update()}},{key:"preload",value:function(n){for(var e in void 0===n&&(n={}),(n=Object.assign({assets:{},loading:null,loaded:null},n)).assets)SINT.TyLoader.add(e,n.assets[e]);SINT.TyLoader.onProgress.add(function(e){n.loading&&n.loading(e.progress)}),SINT.TyLoader.load(function(e,t){n.loaded&&n.loaded()})}},{key:"add",value:function(e){return this.stage.addChild(e),e}},{key:"remove",value:function(e){this.stage.removeChild(e)}},{key:"removeThis",value:function(){this.stats&&this.domElement.removeChild(this.stats.dom),console.log("removeThis");for(var e=document.getElementsByTagName("button"),t=0;t<e.length;t++){var n=e[t];"HOOK DIV"==n.title&&document.body.removeChild(n)}for(var r in this.destroy(!0),SINT.TyLoader.resources){var i=SINT.TyLoader.resources[r],o=i.texture;o&&o.destroy(!0);var a=i.textures;if(a)for(var s in a)a[s].destroy(!0)}SINT.TyLoader.destroy()}}]),n}();t.default=h},function(e,t,n){var c;e.exports=((c=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++n%r.children.length)},!1);var i=(performance||Date).now(),o=i,a=0,s=e(new c.Panel("FPS","#0ff","#002")),l=e(new c.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=e(new c.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(l.update(e-i,200),o+1e3<e&&(s.update(1e3*a/(e-o),100),o=e,a=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:r,setMode:t}}).Panel=function(n,r,i){var o=1/0,a=0,s=Math.round,l=s(window.devicePixelRatio||1),u=80*l,e=48*l,c=3*l,h=2*l,d=3*l,f=15*l,p=74*l,v=30*l,_=document.createElement("canvas");_.width=u,_.height=e,_.style.cssText="width:80px;height:48px";var y=_.getContext("2d");return y.font="bold "+9*l+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=i,y.fillRect(0,0,u,e),y.fillStyle=r,y.fillText(n,c,h),y.fillRect(d,f,p,v),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(d,f,p,v),{dom:_,update:function(e,t){o=Math.min(o,e),a=Math.max(a,e),y.fillStyle=i,y.globalAlpha=1,y.fillRect(0,0,u,f),y.fillStyle=r,y.fillText(s(e)+" "+n+" ("+s(o)+"-"+s(a)+")",c,h),y.drawImage(_,d+l,f,p-l,v,d,f,p-l,v),y.fillRect(d+p-l,f,l,v),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(d+p-l,f,l,s((1-e/t)*v))}}},c)},function(e,t,n){"use strict";t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=r(n(60)),a=r(n(61)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(62)),h=r(n(29));function r(e){return e&&e.__esModule?e:{default:e}}var l=/(#[\w-]+)?$/,u=function(){function r(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=s.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return r.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===(void 0===e?"undefined":c(e))&&(r=t||e.callback||e.onComplete,t=(n=e).url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new h.default(e,t,n),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[e]),o.progressChunk=l;for(var u=0;u<a.length;++u)a[u].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},r.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},r.prototype.use=function(e){return this._afterMiddleware.push(e),this},r.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},r.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},r.prototype._prepareUrl=function(e){var t=(0,a.default)(e,{strictMode:!0}),n=void 0;if(n=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=l.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=r}return n},r.prototype._loadResource=function(n,e){var r=this;n._dequeue=e,s.eachSeries(this._beforeMiddleware,function(e,t){e.call(r,n,function(){t(n.isComplete?{}:null)})},function(){n.isComplete?r._onLoad(n):(n._onLoadBinding=n.onComplete.once(r._onLoad,r),n.load())},!0)},r.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r.prototype._onLoad=function(n){var r=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),s.eachSeries(this._afterMiddleware,function(e,t){e.call(r,n,t)},function(){n.onAfterMiddleware.dispatch(n),r.progress+=n.progressChunk,r.onProgress.dispatch(r,n),n.error?r.onError.dispatch(n.error,r,n):r.onLoad.dispatch(r,n),r._resourcesParsing.splice(r._resourcesParsing.indexOf(n),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},i(r,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),r}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=c(n(11)),i=n(137),a=c(n(5)),s=c(n(65)),l=c(n(64)),u=c(n(59));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));a.default.call(r);for(var n=0;n<i._pixiMiddleware.length;++n)r.use(i._pixiMiddleware[n]());return r.onStart.add(function(e){return r.emit("start",e)}),r.onProgress.add(function(e,t){return r.emit("progress",e,t)}),r.onError.add(function(e,t,n){return r.emit("error",e,t,n)}),r.onLoad.add(function(e,t){return r.emit("load",e,t)}),r.onComplete.add(function(e,t){return r.emit("complete",e,t)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.default),r(i,[{key:"destroy",value:function(){this.removeAllListeners(),this.reset()}}],[{key:"addPixiMiddleware",value:function(e){i._pixiMiddleware.push(e)}}]),i}();for(var d in t.default=h,a.default.prototype)h.prototype[d]=a.default.prototype[d];h._pixiMiddleware=[i.blobMiddlewareFactory,s.default,l.default,u.default];var f=o.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,n){"use strict";t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.blobMiddlewareFactory=function(){return function(e,t){if(e.data){if(e.xhr&&e.xhrType===a.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=(i=l.createObjectURL(e.data),e.blob=e.data,e.data=new Image,e.data.src=i,e.type=a.default.TYPE.IMAGE,e.data.onload=function(){l.revokeObjectURL(i),e.data.onload=null,t()},{v:void 0});if("object"===(void 0===n?"undefined":o(n)))return n.v}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+s.default.encodeBinary(e.xhr.responseText),e.type=a.default.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}var i;t()}else t()}};var a=r(n(29)),s=r(n(63));function r(e){return e&&e.__esModule?e:{default:e}}var l=window.URL||window.webkitURL},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){if(!i.default.isAudioSupported||!e.data)return t();var n=e.url.split("?").shift().split(".").pop().toLowerCase();if(-1===i.default.exts.indexOf(n))return t();var r=e.name||e.url;if(!i.default.isWebAudioSupported)return o.default.audios[r]=e.data,t();i.default.globalWebAudioContext.decodeAudioData(e.data,function(e){o.default.audios[r]=e,t()})}};var i=r(n(15)),o=r(n(67));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(15),s=(r=a)&&r.__esModule?r:{default:r},l=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n._loop=!1,n._paused=!1,n._muted=!1,n._volume=1,n._startTime=0,n._lastPauseTime=0,n._offsetTime=0,n.playing=!1,n.manager=t,n.data=e,n.name="",s.default.isWebAudioSupported||(n.audio=new window.Audio,n.audio.addEventListener("ended",n._onEnd.bind(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.utils.EventEmitter),i(r,[{key:"play",value:function(e){return!e&&this.paused||!e&&this.playing||(this.playing=!0,this.emit("play"),s.default.isWebAudioSupported?(this.audio=this.manager.context.createBufferSource(),this.audio.start=this.audio.start||this.audio.noteOn,this.audio.stop=this.audio.stop||this.audio.noteOff,this.audio.buffer=this.data,this.audio.loop=this.loop,this._startTime=this.manager.context.currentTime,this.audio.onended=this._onEnd.bind(this),this.audio.gainNode=s.default.createGainNode(this.manager.context),this.audio.gainNode.gain.value=this.muted?0:this.volume,this.audio.gainNode.connect(this.manager.gainNode),this.audio.connect(this.audio.gainNode),this.audio.start(0,e?this._lastPauseTime:null)):(this.audio.src=this.data.children[0].src,this.audio.preload="auto",this.audio.volume=this.muted?0:this.volume,this.audio.load(),this.audio.play())),this}},{key:"stop",value:function(){return this.playing&&(s.default.isWebAudioSupported?this.audio.stop(0):(this.audio.pause(),this.audio.currentTime=0),this.playing=!1,this.emit("stop")),this}},{key:"reset",value:function(){this._startTime=0,this._lastPauseTime=0,this._offsetTime=0,this.playing=!1}},{key:"remove",value:function(){this.manager.removeAudio(this)}},{key:"_onEnd",value:function(){s.default.isWebAudioSupported?this.paused||(this.reset(),this.emit("end")):this.loop?(this.audio.currentTime=0,this.audio.play()):(this.reset(),this.emit("end"))}},{key:"paused",get:function(){return this._paused},set:function(e){e!==this._paused&&(e?(s.default.isWebAudioSupported?(this._offsetTime+=this.manager.context.currentTime-this._startTime,this._lastPauseTime=this._offsetTime%this.audio.buffer.duration,this.audio&&this.audio.stop(0)):this.audio&&this.audio.pause(),this.emit("pause")):(s.default.isWebAudioSupported?this.play(!0):this.audio&&this.audio.play(),this.emit("resume")),this._paused=e)}},{key:"loop",get:function(){return this._loop},set:function(e){e!==this._loop&&(this._loop=e,s.default.isWebAudioSupported&&this.audio&&(this.audio.loop=e))}},{key:"volume",get:function(){return this._volume},set:function(e){e!==this._volume&&(s.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this.muted?0:this.volume):this.audio&&(this.audio.volume=this.muted?0:this.volume),this._volume=e)}},{key:"muted",get:function(){return this._muted},set:function(e){e!==this._muted&&(this._muted=e,s.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this._muted?0:this.volume):this.audio&&(this.audio.volume=this._muted?0:this.volume))}}]),r}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=function(e){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=a.Texture.fromFrame(n),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,r));return i.x=e,i.y=t,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.Sprite),o}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=function(e){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r));return i.x=e,i.y=t,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r.Text),o}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(143),o=(r=i)&&r.__esModule?r:{default:r},a=function(e){function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var r=SINT.TyLoader.resources[n].textures,i=[];for(var o in r){var a=u.Texture.fromFrame(o);i.push(a)}var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,i));return s.x=e,s.y=t,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o.default),l}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e[0]instanceof o.Texture?e[0]:e[0].texture));return n._textures=null,n._durations=null,n.textures=e,n._autoUpdate=!1!==t,n.animationSpeed=1,n.loop=!0,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n.playing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.Sprite),i(r,[{key:"stop",value:function(){this.playing&&(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))}},{key:"play",value:function(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH))}},{key:"gotoAndStop",value:function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}},{key:"gotoAndPlay",value:function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()}},{key:"update",value:function(e){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())}},{key:"updateTexture",value:function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)}},{key:"destroy",value:function(e){this.stop(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"destroy",this).call(this,e)}},{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof o.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}],[{key:"fromFrames",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(o.Texture.fromFrame(e[n]));return new r(t)}},{key:"fromImages",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(o.Texture.fromImage(e[n]));return new r(t)}}]),r}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlStr=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},t.degToRad=function(e){return e*Math.PI/180},t.getImageXYData=function(e,t,n){var r=document.createElement("canvas");document.body.appendChild(r),r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0,t,n);var o=i.getImageData(0,0,t,n);document.body.removeChild(r);for(var a=[],s=.5*t,l=.5*n,u=0;u<n;u+=2)for(var c=0;c<t;c+=2){var h=u*t+c,d=[o.data[4*h],o.data[4*h+1],o.data[4*h+2],o.data[4*h+3]];0<o.data[4*h+3]&&a.push([c-s,-u+l,d])}return a},t.getImageRGBAData=function(e,t,n){var r=document.createElement("canvas");document.body.appendChild(r),r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0,t,n);var o=i.getImageData(0,0,t,n);return document.body.removeChild(r),o},t.getTxtImage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,n=document.createElement("canvas");document.body.appendChild(n),n.width=512,n.height=128;var r=n.getContext("2d");r.font=t+"px Verdana",r.fillStyle="#ffffff",r.textAlign="center",r.fillText(e,256,64);var i=n.toDataURL("image/png");document.body.removeChild(n);var o=document.createElement("img");return o.src=i,o},t.canvasToImage=function(e){e.getContext("experimental-webgl",{preserveDrawingBuffer:!0});var t=e.toDataURL("image/png"),n=document.createElement("img");return n.src=t,n},t.readFile=function(r){return console.log(r.type),new Promise(function(t,e){var n=new FileReader;n.readAsDataURL(r),n.onload=function(e){/image\/\w+/.test(r.type)?console.log("type: /image"):t(this.result)},n.onerror=function(){e(new Error("Could not load file"+r))}})},t.readJson=function(r){return console.log(r.type),new Promise(function(t,e){var n=new FileReader;n.readAsText(r),n.onload=function(e){t(JSON.parse(this.result))},n.onerror=function(){e(new Error("Could not load file"+r))}})},t.loadJson=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.send(null),r.onload=function(e){200==r.status?t(JSON.parse(this.responseText)):n(new Error("Could not loadJson"))}})},t.postJson=function(e,n){return new Promise(function(t,r){$.ajax({type:"POST",url:e,data:n,success:function(e){t(JSON.parse(e))},error:function(e,t,n){r(t)}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlitchFilter=t.BulgePinchFilter=t.BlurFilter=t.ColorMatrixFilter=t.AlphaFilter=void 0,t.doGlitch=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=new c.GlitchFilter;e.filters=[r],s.default.to(r,t,{time:1,ease:Linear.easeNone,onComplete:function(){n&&(e.filters=[])}})},t.doDye=function(e,t){var n=new i.default(t),r=new o.default;r.blackAndWhite(),e.filters=[r,n]},t.doTwist=function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=new u.TwistFilter(n,0);o.offset.set(t);var a=new l.default;e.filters=[o,a],s.default.to(o,r,{angle:10,ease:Strong.easeInOut}),i&&s.default.to(a,.7*r,{ease:Strong.easeInOut,alpha:0,delay:.3*r,onComplete:function(){e.filters=[a],s.default.to(a,1,{alpha:1,onComplete:function(){e.filters=[]}})}})};var s=h(n(68)),i=h(n(147)),o=h(n(149)),l=h(n(151)),r=h(n(153)),a=n(156),u=n(159),c=n(162);function h(e){return e&&e.__esModule?e:{default:e}}t.AlphaFilter=l.default,t.ColorMatrixFilter=o.default,t.BlurFilter=r.default,t.BulgePinchFilter=a.BulgePinchFilter,t.GlitchFilter=c.GlitchFilter},function(i,o,a){(function(e){var t,n,r,g=i.exports&&void 0!==e?e:this||window;(g._gsQueue||(g._gsQueue=[])).push(function(){"use strict";g._gsDefine("easing.Back",["easing.Ease"],function(_){var n,r,t,e,i=g.GreenSockGlobals||g,o=i.com.greensock,a=2*Math.PI,s=Math.PI/2,l=o._class,u=function(e,t){var n=l("easing."+e,function(){},!0),r=n.prototype=new _;return r.constructor=n,r.getRatio=t,n},c=_.register||function(){},h=function(e,t,n,r,i){var o=l("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return c(o,e),o},y=function(e,t,n){this.t=e,this.v=t,n&&(((this.next=n).prev=this).c=n.v-t,this.gap=n.t-e)},d=function(e,t){var n=l("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new _;return r.constructor=n,r.getRatio=t,r.config=function(e){return new n(e)},n},f=h("Back",d("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),d("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),d("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),p=l("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:1<e&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),v=p.prototype=new _;return v.constructor=p,v.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},p.ease=new p(.7,.7),v.config=p.config=function(e,t,n){return new p(e,t,n)},(v=(n=l("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new _).constructor=n,v.getRatio=function(e){return e<0?e=0:1<=e&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},v.config=n.config=function(e,t){return new n(e,t)},(v=(r=l("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0)).prototype=new _).constructor=r,v.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},v.config=r.config=function(e,t,n){return new r(e,t,n)},(v=(t=l("easing.RoughEase",function(e){for(var t,n,r,i,o,a,s=(e=e||{}).taper||"none",l=[],u=0,c=0|(e.points||20),h=c,d=!1!==e.randomize,f=!0===e.clamp,p=e.template instanceof _?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;-1<--h;)t=d?Math.random():1/c*h,n=p?p.getRatio(t):t,r="none"===s?v:"out"===s?(i=1-t)*i*v:"in"===s?t*t*v:t<.5?(i=2*t)*i*.5*v:(i=2*(1-t))*i*.5*v,d?n+=Math.random()*r-.5*r:h%2?n+=.5*r:n-=.5*r,f&&(1<n?n=1:n<0&&(n=0)),l[u++]={x:t,y:n};for(l.sort(function(e,t){return e.x-t.x}),a=new y(1,1,null),h=c;-1<--h;)o=l[h],a=new y(o.x,o.y,a);this._prev=new y(0,0,0!==a.t?a:a.next)},!0)).prototype=new _).constructor=t,v.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return(this._prev=t).v+(e-t.t)/t.gap*t.c},v.config=function(e){return new t(e)},t.ease=new t,h("Bounce",u("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),h("Elastic",(e=function(e,t,n){var r=l("easing."+e,function(e,t){this._p1=1<=e?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),i=r.prototype=new _;return i.constructor=r,i.getRatio=t,i.config=function(e,t){return new r(e,t)},r})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),e("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),e("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),h("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return Math.sin(e*s)}),u("SineIn",function(e){return 1-Math.cos(e*s)}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(e){return _.map[e]}},!0),c(i.SlowMo,"SlowMo","ease,"),c(t,"RoughEase","ease,"),c(n,"SteppedEase","ease,"),f},!0)}),g._gsDefine&&g._gsQueue.pop()(),function(){"use strict";var e=function(){return g.GreenSockGlobals||g};i.exports?(a(30),i.exports=e()):(n=[a(30)],void 0===(r="function"==typeof(t=e)?t.apply(o,n):t)||(i.exports=r))}()}).call(this,a(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=s(n(7)),a=s(n(148));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16777215;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o.default,a.default));return t.uniforms.uColor=new Float32Array(3),t.color=e,t.glShaderKey="dyeColor",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.Filter),r(n,[{key:"color",get:function(){return this._uColor},set:function(e){var t=this.uniforms.uColor;this._uColor="number"==typeof e?(i.utils.hex2rgb(e,t),e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],i.utils.rgb2hex(t))}}]),n}();t.default=l},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec3 uColor;\n\nvoid main(void)\n{\n   vec4 currentColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor = vec4(mix(currentColor.rgb, uColor * currentColor.a, 0.7)*1.3, currentColor.a);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=s(n(7)),a=s(n(150));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.default,a.default));return e.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],e.alpha=1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Filter),r(t,[{key:"_loadMatrix",value:function(e){var t=e;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}},{key:"_colorMatrix",value:function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}},{key:"brightness",value:function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"greyscale",value:function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=(0,Math.sqrt)(1/3),o=[n+1/3*(1-n),1/3*(1-n)-i*r,1/3*(1-n)+i*r,0,0,1/3*(1-n)+i*r,n+1/3*(1-n),1/3*(1-n)-i*r,0,0,1/3*(1-n)-i*r,1/3*(1-n)+i*r,n+1/3*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,t)}},{key:"contrast",value:function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)}},{key:"saturate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=2*e/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,t)}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,u,c,t=t||.15,0,o-l,a-u,s-c,0,0];this._loadMatrix(h,i)}},{key:"night",value:function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"predator",value:function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}();(t.default=l).prototype.grayscale=l.prototype.greyscale},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=s(n(7)),a=s(n(152));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o.default,a.default));return t.alpha=e,t.glShaderKey="alpha",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.Filter),r(n,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),n}();t.default=l},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=i(n(154)),l=i(n(155));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function o(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.blurXFilter=new s.default(e,t,n,r),i.blurYFilter=new l.default(e,t,n,r),i.padding=0,i.resolution=n||a.settings.RESOLUTION,i.quality=t||4,i.blur=e||8,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.Filter),r(o,[{key:"apply",value:function(e,t,n){var r=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,r,!0),this.blurYFilter.apply(e,r,n,!1),e.returnRenderTarget(r)}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),o}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),h=i(n(69)),d=i(n(70)),f=i(n(71));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function s(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=r||5;var i=(0,h.default)(r,!0),o=(0,d.default)(r),a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,i,o));return a.resolution=n||l.settings.RESOLUTION,a._quality=0,a.quality=t||4,a.strength=e||8,a.firstRun=!0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,l.Filter),r(s,[{key:"apply",value:function(e,t,n,r){if(this.firstRun){var i=e.renderer.gl,o=(0,f.default)(i);this.vertexSrc=(0,h.default)(o,!0),this.fragmentSrc=(0,d.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{for(var a=e.getRenderTarget(!0),s=t,l=a,u=0;u<this.passes-1;u++){e.applyFilter(this,s,l,!0);var c=l;l=s,s=c}e.applyFilter(this,s,n,r),e.returnRenderTarget(a)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),s}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),h=i(n(69)),d=i(n(70)),f=i(n(71));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function s(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r=r||5;var i=(0,h.default)(r,!1),o=(0,d.default)(r),a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,i,o));return a.resolution=n||l.settings.RESOLUTION,a._quality=0,a.quality=t||4,a.strength=e||8,a.firstRun=!0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,l.Filter),r(s,[{key:"apply",value:function(e,t,n,r){if(this.firstRun){var i=e.renderer.gl,o=(0,f.default)(i);this.vertexSrc=(0,h.default)(o,!1),this.fragmentSrc=(0,d.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{for(var a=e.getRenderTarget(!0),s=t,l=a,u=0;u<this.passes-1;u++){e.applyFilter(this,s,l,!0);var c=l;l=s,s=c}e.applyFilter(this,s,n,r),e.returnRenderTarget(a)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),s}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(157);Object.defineProperty(t,"BulgePinchFilter",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=i(n(7)),s=i(n(158));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,a.default,s.default));return r.uniforms.dimensions=new Float32Array(2),r.center=e||[.5,.5],r.radius=t||100,r.strength=n||1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.Filter),r(i,[{key:"apply",value:function(e,t,n,r){this.uniforms.dimensions[0]=t.sourceFrame.width,this.uniforms.dimensions[1]=t.sourceFrame.height,e.applyFilter(this,t,n,r)}},{key:"radius",get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e}},{key:"strength",get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e}},{key:"center",get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e}}]),i}();t.default=l},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord; // tybug for go first\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float strength;\nuniform vec2 center;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(160);Object.defineProperty(t,"TwistFilter",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=i(n(7)),s=i(n(161));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,a.default,s.default));return r.radius=e,r.angle=t,r.padding=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.Filter),r(i,[{key:"offset",get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e}},{key:"radius",get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e}},{key:"angle",get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e}}]),i}();t.default=l},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(163);Object.defineProperty(t,"GlitchFilter",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=s(n(7)),a=s(n(164));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.default,a.default));return e.uniforms.time=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Filter),r(t,[{key:"time",get:function(){return this.uniforms.time},set:function(e){this.uniforms.time=e}}]),t}();t.default=l},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float time;\n\n\nfloat random_1_0(vec2 c){\n  return fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_2_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_2_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_2_2(vec4 x) {\n     return mod289_2_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_2_3(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_2_4(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_2_5 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_2_6 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_2_6;\n  vec3 i1 = min( g_2_6.xyz, l.zxy );\n  vec3 i2 = max( g_2_6.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_2_5.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_2_1(i);\n  vec4 p = permute_2_2( permute_2_2( permute_2_2(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_2_5.wyz - D_2_5.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_2_7 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_2_8 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_2_7.xy,h.z);\n  vec3 p3 = vec3(a1_2_7.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_2_3(vec4(dot(p0_2_8,p0_2_8), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_2_8 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_2_8,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nconst float interval = 3.0;\n\nvoid main(void){\n  float strength = smoothstep(interval * 0.5, interval, interval - mod(time, interval));\n  vec2 shake = vec2(strength * 8.0 + 0.5) * vec2(\n    random_1_0(vec2(time)) * 2.0 - 1.0,\n    random_1_0(vec2(time * 2.0)) * 2.0 - 1.0\n  ) / filterArea.xy;\n\n  float y = vTextureCoord.y * filterArea.y;\n  float rgbWave = (\n      snoise_2_4(vec3(0.0, y * 0.01, time * 400.0)) * (2.0 + strength * 32.0)\n      * snoise_2_4(vec3(0.0, y * 0.02, time * 200.0)) * (1.0 + strength * 4.0)\n      + step(0.9995, sin(y * 0.005 + time * 1.6)) * 12.0\n      + step(0.9999, sin(y * 0.005 + time * 2.0)) * -18.0\n    ) / filterArea.x;\n  float rgbDiff = (6.0 + sin(time * 500.0 + vTextureCoord.y * 40.0) * (20.0 * strength + 1.0)) / filterArea.x;\n  float rgbUvX = vTextureCoord.x + rgbWave;\n  float r = texture2D(uSampler, vec2(rgbUvX + rgbDiff, vTextureCoord.y) + shake).r;\n  float g = texture2D(uSampler, vec2(rgbUvX, vTextureCoord.y) + shake).g;\n  float b = texture2D(uSampler, vec2(rgbUvX - rgbDiff, vTextureCoord.y) + shake).b;\n\n  float whiteNoise = (random_1_0(vTextureCoord + mod(time, 10.0)) * 2.0 - 1.0) * (0.15 + strength * 0.15);\n\n  float bnTime = floor(time * 20.0) * 200.0;\n  float noiseX = step((snoise_2_4(vec3(0.0, vTextureCoord.x * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float noiseY = step((snoise_2_4(vec3(0.0, vTextureCoord.y * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float bnMask = noiseX * noiseY;\n  float bnUvX = vTextureCoord.x + sin(bnTime) * 0.2 + rgbWave;\n  float bnR = texture2D(uSampler, vec2(bnUvX + rgbDiff, vTextureCoord.y)).r * bnMask;\n  float bnG = texture2D(uSampler, vec2(bnUvX, vTextureCoord.y)).g * bnMask;\n  float bnB = texture2D(uSampler, vec2(bnUvX - rgbDiff, vTextureCoord.y)).b * bnMask;\n  vec4 blockNoise = vec4(bnR, bnG, bnB, 1.0);\n\n  float bnTime2 = floor(time * 25.0) * 300.0;\n  float noiseX2 = step((snoise_2_4(vec3(0.0, vTextureCoord.x * 2.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.5);\n  float noiseY2 = step((snoise_2_4(vec3(0.0, vTextureCoord.y * 8.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float bnMask2 = noiseX2 * noiseY2;\n  float bnR2 = texture2D(uSampler, vec2(bnUvX + rgbDiff, vTextureCoord.y)).r * bnMask2;\n  float bnG2 = texture2D(uSampler, vec2(bnUvX, vTextureCoord.y)).g * bnMask2;\n  float bnB2 = texture2D(uSampler, vec2(bnUvX - rgbDiff, vTextureCoord.y)).b * bnMask2;\n  vec4 blockNoise2 = vec4(bnR2, bnG2, bnB2, 1.0);\n\n  float waveNoise = (sin(vTextureCoord.y * 1200.0) + 1.0) / 2.0 * (0.15 + strength * 0.2);\n\n  gl_FragColor = vec4(r, g, b, 1.0) * (1.0 - bnMask - bnMask2) + (whiteNoise + blockNoise + blockNoise2 - waveNoise);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(5),a=(r=o)&&r.__esModule?r:{default:r},s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return void 0===e&&(e={}),e=Object.assign({parentElement:document.body,videoUrl:"./assets/video/v1.mp4",posterImg:"./assets/video/v1.jpg"},e),t.parentElement=e.parentElement,t.parentElement.style.display="block",t.videoElement=document.createElement("div"),t.videoElement.className="video-player",t.videoElement.style.position="absolute",t.videoElement.style.margin=0,t.videoElement.style.padding=0,t.videoElement.style.width="100%",t.videoElement.style.height="100%",t.videoElement.style.zIndex=1e3,t.videoElement.innerHTML='<video id="video"  webkit-playsinline="true" x-webkit-airplay="true" x5-video-player-type="h5" playsinline width="100%"  preload="auto"  poster="" src="" ></video>',t.parentElement.appendChild(t.videoElement),t._video=t.videoElement.querySelectorAll("video")[0],t._video.src=e.videoUrl,t._video.poster=e.posterImg,t._init(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"_init",value:function(){var e=this;this._video.addEventListener("ended",function(){console.log("video_ended"),e.emit("ended",e._video)},!1),this._video.addEventListener("playing",function(){console.log("video_playing"),e.emit("playing",e._video),e.debugDiv&&(e.parentElement.removeChild(e.debugDiv),e.debugDiv=null)},!1),this._video.addEventListener("canplay",function(){console.log("video_canplay"),e.emit("canplay",e._video)},!1),this._video.addEventListener("waiting",function(){console.log("video_waiting"),e.emit("waiting",e._video)},!1)}},{key:"seek",value:function(e){this._video.currentTime=e}},{key:"toPlay",value:function(){this._video.play(),this.debugDiv=document.createElement("div"),this.parentElement.appendChild(this.debugDiv)}},{key:"toPause",value:function(){this._video.pause()}},{key:"destroy",value:function(){this.removeAllListeners(),this._video.remove(),this.videoElement&&(this.parentElement.removeChild(this.videoElement),this.videoElement=null),this.parentElement.style.display="none"}}]),n}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72);Object.defineProperty(t,"InteractionData",{enumerable:!0,get:function(){return l(r).default}});var i=n(167);Object.defineProperty(t,"InteractionManager",{enumerable:!0,get:function(){return l(i).default}});var o=n(75);Object.defineProperty(t,"interactiveTarget",{enumerable:!0,get:function(){return l(o).default}});var a=n(74);Object.defineProperty(t,"InteractionTrackingData",{enumerable:!0,get:function(){return l(a).default}});var s=n(73);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"InteractionEvent",{enumerable:!0,get:function(){return l(s).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=c(n(72)),l=c(n(73)),f=c(n(74)),u=c(n(5)),r=c(n(75));function c(e){return e&&e.__esModule?e:{default:e}}a.utils.mixins.delayMixin(a.DisplayObject.prototype,r.default);var h={target:null,data:{global:null}},d=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t=t||{},n.renderer=e,n.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,n.interactionFrequency=t.interactionFrequency||10,n.mouse=new s.default,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new l.default,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n._tempPoint=new a.Point,n.resolution=1,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,u.default),o(r,[{key:"hitTest",value:function(e,t){return h.target=null,h.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(h,t,null,!0),h.target}},{key:"setTargetElement",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()}},{key:"addEvents",value:function(){this.interactionDOMElement&&(a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(a.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var n=this.activeInteractionData[t];if(n.originalEvent&&"touch"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(void 0===t?"undefined":i(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}}},{key:"dispatchEvent",value:function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))}},{key:"mapPositionToPoint",value:function(e,t,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i}},{key:"processInteractive",value:function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,l=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:l=r=!1),s=!1):t._mask&&r&&(t._mask.containsPoint(o)||(l=r=!1)),l&&t.interactiveChildren&&t.children)for(var u=t.children,c=u.length-1;0<=c;c--){var h=u[c],d=this.processInteractive(e,h,n,r,s);if(d){if(!h.parent)continue;s=!1,d&&(e.target&&(r=!1),a=!0)}}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),n&&n(e,t,!!a))),a}},{key:"onPointerDown",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}}},{key:"processPointerDown",value:function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new f.default(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}}},{key:"onPointerComplete",value:function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=e,this.processInteractive(u,this.renderer._lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,u),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(s.pointerId,l))}}},{key:"onPointerCancel",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)}},{key:"processPointerCancel",value:function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))}},{key:"onPointerUp",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)}},{key:"processPointerUp",value:function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(s){var u=2===r.button,c=f.default.FLAGS,h=u?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&h;n?(this.dispatchEvent(t,u?"rightup":"mouseup",e),d&&(this.dispatchEvent(t,u?"rightclick":"click",e),l=!0)):d&&this.dispatchEvent(t,u?"rightupoutside":"mouseupoutside",e),o&&(u?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&(s&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]}},{key:"onPointerMove",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))}},{key:"onPointerOut",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}}},{key:"processPointerOverOut",value:function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new f.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(t,"pointerover",e),o&&this.dispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))}},{key:"onPointerOver",value:function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);"mouse"===(r.data.originalEvent=t).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)}},{key:"getInteractionDataForPointerId",value:function(e){var t=e.pointerId,n=void 0;return 1===t||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[t]?n=this.activeInteractionData[t]:((n=this.interactionDataPool.pop()||new s.default).identifier=t,this.activeInteractionData[t]=n),n.copyEvent(e),n}},{key:"releaseInteractionDataForPointerId",value:function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))}},{key:"configureInteractionEventForDOMEvent",value:function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),navigator.isCocoonJS&&"touch"===t.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];void 0===i.button&&(i.button=e.touches.length?1:0),void 0===i.buttons&&(i.buttons=e.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,void(i.tangentialPressure=0)===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||(void 0===e.isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0),t.push(e);return t}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}]),r}();t.default=d,a.WebGLRenderer.registerPlugin("interaction",d),a.CanvasRenderer.registerPlugin("interaction",d)}])},function(e,t,n){
/*!
 * vConsole v3.2.0 (https://github.com/Tencent/vConsole)
 * 
 * Tencent is pleased to support the open source community by making vConsole available.
 * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.
 * Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 * http://opensource.org/licenses/MIT
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
e.exports=function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(1);var i=n(2),o=r(i),a=n(18),s=r(a);o.default.VConsolePlugin=s.default,t.default=o.default,e.exports=t.default},function(e,t){"use strict";if("undefined"==typeof Symbol){window.Symbol=function(){};var n="__symbol_iterator_key";window.Symbol.iterator=n,Array.prototype[n]=function(){var e=this,t=0;return{next:function(){return{done:e.length===t,value:e.length===t?void 0:e[t++]}}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(3),a=r(o),s=n(4),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),u=n(5),c=r(u);n(7);var h=n(11),d=r(h),f=n(12),p=r(f),v=n(13),_=r(v),y=n(14),g=r(y),m=n(15),b=r(m),x=n(16),w=r(x),T=n(24),E=r(T),O=n(26),S=r(O),k=n(30),P=r(k),M=n(37),C=r(M),A="#__vconsole",R=function(){function o(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),c.default.one(A))console.debug("vConsole is already exists.");else{var t=this;if(this.version=a.default.version,this.$dom=null,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"]},this.activedTab="",this.tabList=[],this.pluginList={},this.switchPos={x:10,y:10,startX:0,startY:0,endX:0,endY:0},this.tool=l,this.$=c.default,l.isObject(e))for(var n in e)this.option[n]=e[n];this._addBuiltInPlugins();var r,i=function(){t.isInited||(t._render(),t._mockTap(),t._bindEvent(),t._autoRun())};void 0!==document?"complete"==document.readyState?i():c.default.bind(window,"load",i):(r=void 0,r=setTimeout(function e(){document&&"complete"==document.readyState?(r&&clearTimeout(r),i()):r=setTimeout(e,1)},1))}}return i(o,[{key:"_addBuiltInPlugins",value:function(){this.addPlugin(new w.default("default","Log"));var e=this.option.defaultPlugins,t={system:{proto:E.default,name:"System"},network:{proto:S.default,name:"Network"},element:{proto:P.default,name:"Element"},storage:{proto:C.default,name:"Storage"}};if(e&&l.isArray(e))for(var n=0;n<e.length;n++){var r=t[e[n]];r?this.addPlugin(new r.proto(e[n],r.name)):console.debug("Unrecognized default plugin ID:",e[n])}}},{key:"_render",value:function(){if(!c.default.one(A)){var e=document.createElement("div");e.innerHTML=d.default,document.documentElement.insertAdjacentElement("beforeend",e.children[0])}this.$dom=c.default.one(A);var t=c.default.one(".vc-switch",this.$dom),n=1*l.getStorage("switch_x"),r=1*l.getStorage("switch_y");(n||r)&&(n+t.offsetWidth>document.documentElement.offsetWidth&&(n=document.documentElement.offsetWidth-t.offsetWidth),r+t.offsetHeight>document.documentElement.offsetHeight&&(r=document.documentElement.offsetHeight-t.offsetHeight),n<0&&(n=0),r<0&&(r=0),this.switchPos.x=n,this.switchPos.y=r,c.default.one(".vc-switch").style.right=n+"px",c.default.one(".vc-switch").style.bottom=r+"px");var i=window.devicePixelRatio||1,o=document.querySelector('[name="viewport"]');if(o&&o.content){var a=o.content.match(/initial\-scale\=\d+(\.\d+)?/),s=a?parseFloat(a[0].split("=")[1]):1;s<1&&(this.$dom.style.fontSize=13*i+"px")}c.default.one(".vc-mask",this.$dom).style.display="none"}},{key:"_mockTap",value:function(){var o=void 0,n=void 0,r=void 0,a=!1,s=null;this.$dom.addEventListener("touchstart",function(e){if(void 0===o){var t=e.targetTouches[0];n=t.pageX,r=t.pageY,o=e.timeStamp,s=e.target.nodeType===Node.TEXT_NODE?e.target.parentNode:e.target}},!1),this.$dom.addEventListener("touchmove",function(e){var t=e.changedTouches[0];(10<Math.abs(t.pageX-n)||10<Math.abs(t.pageY-r))&&(a=!0)}),this.$dom.addEventListener("touchend",function(e){if(!1===a&&e.timeStamp-o<700&&null!=s){var t=s.tagName.toLowerCase(),n=!1;switch(t){case"textarea":n=!0;break;case"input":switch(s.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":n=!1;break;default:n=!s.disabled&&!s.readOnly}}n?s.focus():e.preventDefault();var r=e.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,i.initEvent("click",!0,!0),s.dispatchEvent(i)}o=void 0,a=!1,s=null},!1)}},{key:"_bindEvent",value:function(){var o=this,a=c.default.one(".vc-switch",o.$dom);c.default.bind(a,"touchstart",function(e){o.switchPos.startX=e.touches[0].pageX,o.switchPos.startY=e.touches[0].pageY}),c.default.bind(a,"touchend",function(e){o.switchPos.x=o.switchPos.endX,o.switchPos.y=o.switchPos.endY,o.switchPos.startX=0,o.switchPos.startY=0,o.switchPos.endX=0,o.switchPos.endY=0,l.setStorage("switch_x",o.switchPos.x),l.setStorage("switch_y",o.switchPos.y)}),c.default.bind(a,"touchmove",function(e){if(0<e.touches.length){var t=e.touches[0].pageX-o.switchPos.startX,n=e.touches[0].pageY-o.switchPos.startY,r=o.switchPos.x-t,i=o.switchPos.y-n;r+a.offsetWidth>document.documentElement.offsetWidth&&(r=document.documentElement.offsetWidth-a.offsetWidth),i+a.offsetHeight>document.documentElement.offsetHeight&&(i=document.documentElement.offsetHeight-a.offsetHeight),r<0&&(r=0),i<0&&(i=0),a.style.right=r+"px",a.style.bottom=i+"px",o.switchPos.endX=r,o.switchPos.endY=i,e.preventDefault()}}),c.default.bind(c.default.one(".vc-switch",o.$dom),"click",function(){o.show()}),c.default.bind(c.default.one(".vc-hide",o.$dom),"click",function(){o.hide()}),c.default.bind(c.default.one(".vc-mask",o.$dom),"click",function(e){return e.target==c.default.one(".vc-mask")&&void o.hide()}),c.default.delegate(c.default.one(".vc-tabbar",o.$dom),"click",".vc-tab",function(e){var t=this.dataset.tab;t!=o.activedTab&&o.showTab(t)}),c.default.bind(c.default.one(".vc-panel",o.$dom),"transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(e){return e.target==c.default.one(".vc-panel")&&void(c.default.hasClass(o.$dom,"vc-toggle")||(e.target.style.display="none"))});var i=c.default.one(".vc-content",o.$dom),s=!1;c.default.bind(i,"touchstart",function(e){var t=i.scrollTop,n=i.scrollHeight,r=t+i.offsetHeight;0===t?(i.scrollTop=1,0===i.scrollTop&&(c.default.hasClass(e.target,"vc-cmd-input")||(s=!0))):r===n&&(i.scrollTop=t-1,i.scrollTop===t&&(c.default.hasClass(e.target,"vc-cmd-input")||(s=!0)))}),c.default.bind(i,"touchmove",function(e){s&&e.preventDefault()}),c.default.bind(i,"touchend",function(e){s=!1})}},{key:"_autoRun",value:function(){for(var e in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[e]);0<this.tabList.length&&this.showTab(this.tabList[0]),this.triggerEvent("ready")}},{key:"triggerEvent",value:function(e,t){e="on"+e.charAt(0).toUpperCase()+e.slice(1),l.isFunction(this.option[e])&&this.option[e].apply(this,t)}},{key:"_initPlugin",value:function(a){var s=this;a.vConsole=this,a.trigger("init"),a.trigger("renderTab",function(e){s.tabList.push(a.id);var t=c.default.render(p.default,{id:a.id,name:a.name});c.default.one(".vc-tabbar",s.$dom).insertAdjacentElement("beforeend",t);var n=c.default.render(_.default,{id:a.id});e&&(l.isString(e)?n.innerHTML+=e:l.isFunction(e.appendTo)?e.appendTo(n):l.isElement(e)&&n.insertAdjacentElement("beforeend",e)),c.default.one(".vc-content",s.$dom).insertAdjacentElement("beforeend",n)}),a.trigger("addTopBar",function(i){if(i)for(var o=c.default.one(".vc-topbar",s.$dom),e=function(e){var n=i[e],r=c.default.render(g.default,{name:n.name||"Undefined",className:n.className||"",pluginID:a.id});if(n.data)for(var t in n.data)r.dataset[t]=n.data[t];l.isFunction(n.onClick)&&c.default.bind(r,"click",function(e){var t=n.onClick.call(r);!1===t||(c.default.removeClass(c.default.all(".vc-topbar-"+a.id),"vc-actived"),c.default.addClass(r,"vc-actived"))}),o.insertAdjacentElement("beforeend",r)},t=0;t<i.length;t++)e(t)}),a.trigger("addTool",function(r){if(r)for(var i=c.default.one(".vc-tool-last",s.$dom),e=function(e){var t=r[e],n=c.default.render(b.default,{name:t.name||"Undefined",pluginID:a.id});1==t.global&&c.default.addClass(n,"vc-global-tool"),l.isFunction(t.onClick)&&c.default.bind(n,"click",function(e){t.onClick.call(n)}),i.parentNode.insertBefore(n,i)},t=0;t<r.length;t++)e(t)}),a.isReady=!0,a.trigger("ready")}},{key:"_triggerPluginsEvent",value:function(e){for(var t in this.pluginList)this.pluginList[t].isReady&&this.pluginList[t].trigger(e)}},{key:"_triggerPluginEvent",value:function(e,t){var n=this.pluginList[e];n&&n.isReady&&n.trigger(t)}},{key:"addPlugin",value:function(e){return void 0!==this.pluginList[e.id]?(console.debug("Plugin "+e.id+" has already been added."),!1):(this.pluginList[e.id]=e,this.isInited&&(this._initPlugin(e),1==this.tabList.length&&this.showTab(this.tabList[0])),!0)}},{key:"removePlugin",value:function(t){t=(t+"").toLowerCase();var e=this.pluginList[t];if(void 0===e)return console.debug("Plugin "+t+" does not exist."),!1;if(e.trigger("remove"),this.isInited){var n=c.default.one("#__vc_tab_"+t);n&&n.parentNode.removeChild(n);for(var r=c.default.all(".vc-topbar-"+t,this.$dom),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);var o=c.default.one("#__vc_log_"+t);o&&o.parentNode.removeChild(o);for(var a=c.default.all(".vc-tool-"+t,this.$dom),s=0;s<a.length;s++)a[s].parentNode.removeChild(a[s])}var l=this.tabList.indexOf(t);-1<l&&this.tabList.splice(l,1);try{delete this.pluginList[t]}catch(e){this.pluginList[t]=void 0}return this.activedTab==t&&0<this.tabList.length&&this.showTab(this.tabList[0]),!0}},{key:"show",value:function(){if(this.isInited){var t=this,e=c.default.one(".vc-panel",this.$dom);e.style.display="block",setTimeout(function(){c.default.addClass(t.$dom,"vc-toggle"),t._triggerPluginsEvent("showConsole");var e=c.default.one(".vc-mask",t.$dom);e.style.display="block"},10)}}},{key:"hide",value:function(){if(this.isInited){c.default.removeClass(this.$dom,"vc-toggle"),this._triggerPluginsEvent("hideConsole");var t=c.default.one(".vc-mask",this.$dom),n=c.default.one(".vc-panel",this.$dom);c.default.bind(t,"transitionend",function(e){t.style.display="none",n.style.display="none"})}}},{key:"showSwitch",value:function(){if(this.isInited){var e=c.default.one(".vc-switch",this.$dom);e.style.display="block"}}},{key:"hideSwitch",value:function(){if(this.isInited){var e=c.default.one(".vc-switch",this.$dom);e.style.display="none"}}},{key:"showTab",value:function(e){if(this.isInited){var t=c.default.one("#__vc_log_"+e);c.default.removeClass(c.default.all(".vc-tab",this.$dom),"vc-actived"),c.default.addClass(c.default.one("#__vc_tab_"+e),"vc-actived"),c.default.removeClass(c.default.all(".vc-logbox",this.$dom),"vc-actived"),c.default.addClass(t,"vc-actived");var n=c.default.all(".vc-topbar-"+e,this.$dom);c.default.removeClass(c.default.all(".vc-toptab",this.$dom),"vc-toggle"),c.default.addClass(n,"vc-toggle"),0<n.length?c.default.addClass(c.default.one(".vc-content",this.$dom),"vc-has-topbar"):c.default.removeClass(c.default.one(".vc-content",this.$dom),"vc-has-topbar"),c.default.removeClass(c.default.all(".vc-tool",this.$dom),"vc-toggle"),c.default.addClass(c.default.all(".vc-tool-"+e,this.$dom),"vc-toggle"),this.activedTab&&this._triggerPluginEvent(this.activedTab,"hide"),this.activedTab=e,this._triggerPluginEvent(this.activedTab,"show")}}},{key:"setOption",value:function(e,t){if(l.isString(e))this.option[e]=t,this._triggerPluginsEvent("updateOption");else if(l.isObject(e)){for(var n in e)this.option[n]=e[n];this._triggerPluginsEvent("updateOption")}else console.debug("The first parameter of vConsole.setOption() must be a string or an object.")}},{key:"destroy",value:function(){if(this.isInited){for(var e=Object.keys(this.pluginList),t=e.length-1;0<=t;t--)this.removePlugin(e[t]);this.$dom.parentNode.removeChild(this.$dom)}}}]),o}();t.default=R,e.exports=t.default},function(e,t){e.exports={name:"vconsole",version:"3.2.0",description:"A lightweight, extendable front-end developer tool for mobile web page.",homepage:"https://github.com/Tencent/vConsole",main:"dist/vconsole.min.js",scripts:{test:"mocha",dist:"webpack"},keywords:["console","debug","mobile"],repository:{type:"git",url:"git+https://github.com/Tencent/vConsole.git"},dependencies:{},devDependencies:{"babel-core":"^6.7.7","babel-loader":"^6.2.4","babel-plugin-add-module-exports":"^0.1.4","babel-preset-es2015":"^6.6.0","babel-preset-stage-3":"^6.5.0",chai:"^3.5.0","css-loader":"^0.23.1","extract-text-webpack-plugin":"^1.0.1","html-loader":"^0.4.3",jsdom:"^9.2.1","json-loader":"^0.5.4",less:"^2.5.3","less-loader":"^2.2.3",mocha:"^2.5.3","style-loader":"^0.13.1",webpack:"~1.12.11"},author:"Tencent",license:"MIT"}},function(e,t){"use strict";function n(e){return"[object Number]"==Object.prototype.toString.call(e)}function r(e){return"[object String]"==Object.prototype.toString.call(e)}function i(e){return"[object Array]"==Object.prototype.toString.call(e)}function o(e){return"[object Boolean]"==Object.prototype.toString.call(e)}function a(e){return"[object Undefined]"==Object.prototype.toString.call(e)}function s(e){return"[object Null]"==Object.prototype.toString.call(e)}function l(e){return"[object Symbol]"==Object.prototype.toString.call(e)}function u(e){return!("[object Object]"!=Object.prototype.toString.call(e)&&(n(e)||r(e)||o(e)||i(e)||s(e)||c(e)||a(e)||l(e)))}function c(e){return"[object Function]"==Object.prototype.toString.call(e)}function h(e){var t=Object.prototype.toString.call(e);return"[object global]"==t||"[object Window]"==t||"[object DOMWindow]"==t}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.getDate=function(e){var t=0<e?new Date(e):new Date,n=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getFullYear(),o=t.getHours()<10?"0"+t.getHours():t.getHours(),a=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),l=t.getMilliseconds()<10?"0"+t.getMilliseconds():t.getMilliseconds();return l<100&&(l="0"+l),{time:+t,year:i,month:r,day:n,hour:o,minute:a,second:s,millisecond:l}},t.isNumber=n,t.isString=r,t.isArray=i,t.isBoolean=o,t.isUndefined=a,t.isNull=s,t.isSymbol=l,t.isObject=u,t.isFunction=c,t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":d(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":d(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.isWindow=h,t.isPlainObject=function(e){var t=Object.prototype.hasOwnProperty;if(!e||"object"!==(void 0===e?"undefined":d(e))||e.nodeType||h(e))return!1;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n=void 0;for(n in e);return void 0===n||t.call(e,n)},t.htmlEncode=function(e){return document.createElement("a").appendChild(document.createTextNode(e)).parentNode.innerHTML},t.JSONStringify=function(e){var t=arguments.length<=1||void 0===arguments[1]?"\t":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"CIRCULAR_DEPENDECY_OBJECT":arguments[2],r=[],i=JSON.stringify(e,function(e,t){if("object"===(void 0===t?"undefined":d(t))&&null!==t){if(~r.indexOf(t))return n;r.push(t)}return t},t);return r=null,i},t.getObjAllKeys=function(e){if(!u(e)&&!i(e))return[];var t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=[];for(var r in e)t.indexOf(r)<0&&n.push(r);return n=n.sort()},t.getObjName=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},t.setStorage=function(e,t){window.localStorage&&(e="vConsole_"+e,localStorage.setItem(e,t))},t.getStorage=function(e){return window.localStorage?(e="vConsole_"+e,localStorage.getItem(e)):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=n(6),a=(r=i)&&r.__esModule?r:{default:r},s={one:function(e,t){return t?t.querySelector(e):document.querySelector(e)},all:function(e,t){var n=void 0,r=[];return(n=t?t.querySelectorAll(e):document.querySelectorAll(e))&&0<n.length&&(r=Array.prototype.slice.call(n)),r},addClass:function(e,t){if(e){(0,o.isArray)(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n].className||"",i=r.split(" ");-1<i.indexOf(t)||(i.push(t),e[n].className=i.join(" "))}}},removeClass:function(e,t){if(e){(0,o.isArray)(e)||(e=[e]);for(var n=0;n<e.length;n++){for(var r=e[n].className.split(" "),i=0;i<r.length;i++)r[i]==t&&(r[i]="");e[n].className=r.join(" ").trim()}}},hasClass:function(e,t){if(!e)return!1;for(var n=e.className.split(" "),r=0;r<n.length;r++)if(n[r]==t)return!0;return!1},bind:function(e,t,n,r){if(e){void 0===r&&(r=!1),(0,o.isArray)(e)||(e=[e]);for(var i=0;i<e.length;i++)e[i].addEventListener(t,n,r)}},delegate:function(i,e,o,a){i&&i.addEventListener(e,function(e){var t=s.all(o,i);if(t)e:for(var n=0;n<t.length;n++)for(var r=e.target;r;){if(r==t[n]){a.call(r,e);break e}if((r=r.parentNode)==i)break}},!1)}};s.render=a.default,t.default=s,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=/\{\{([^\}]+)\}\}/g,i="",o="",a=0,s=[],l=function(e,t){""!==e&&(i+=t?e.match(/^ ?else/g)?"} "+e+" {\n":e.match(/\/(if|for|switch)/g)?"}\n":e.match(/^ ?if|for|switch/g)?e+" {\n":e.match(/^ ?(break|continue) ?$/g)?e+";\n":e.match(/^ ?(case|default)/g)?e+":\n":"arr.push("+e+");\n":'arr.push("'+e.replace(/"/g,'\\"')+'");\n')};for(window.__mito_data=t,window.__mito_code="",window.__mito_result="",e=(e=e.replace(/(\{\{ ?switch(.+?)\}\})[\r\n\t ]+\{\{/g,"$1{{")).replace(/^[\r\n]/,"").replace(/\n/g,"\\\n").replace(/\r/g,"\\\r"),o="(function(){\n",i="var arr = [];\n";s=r.exec(e);)l(e.slice(a,s.index),!1),l(s[1],!0),a=s.index+s[0].length;l(e.substr(a,e.length-a),!1),o+=i="with (__mito_data) {\n"+(i+='__mito_result = arr.join("");')+"\n}",o+="})();";var u=document.getElementsByTagName("script"),c="";0<u.length&&(c=u[0].getAttribute("nonce")||"");var h=document.createElement("SCRIPT");h.innerHTML=o,h.setAttribute("nonce",c),document.documentElement.appendChild(h);var d=__mito_result;if(document.documentElement.removeChild(h),!n){var f=document.createElement("DIV");f.innerHTML=d,d=f.children[0]}return d},e.exports=t.default},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.id,r,""]]),n(10)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)()).push([e.id,'#__vconsole{color:#000;font-size:13px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#__vconsole .vc-max-height{max-height:19.23076923em}#__vconsole .vc-max-height-line{max-height:3.38461538em}#__vconsole .vc-min-height{min-height:3.07692308em}#__vconsole dd,#__vconsole dl,#__vconsole pre{margin:0}#__vconsole .vc-switch{display:block;position:fixed;right:.76923077em;bottom:.76923077em;color:#fff;background-color:#04be02;line-height:1;font-size:1.07692308em;padding:.61538462em 1.23076923em;z-index:10000;border-radius:.30769231em;box-shadow:0 0 .61538462em rgba(0,0,0,.4)}#__vconsole .vc-mask{top:0;background:transparent;z-index:10001;transition:background .3s;-webkit-tap-highlight-color:transparent;overflow-y:scroll}#__vconsole .vc-mask,#__vconsole .vc-panel{display:none;position:fixed;left:0;right:0;bottom:0}#__vconsole .vc-panel{min-height:85%;z-index:10002;background-color:#efeff4;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translateY(100%);transform:translateY(100%)}#__vconsole .vc-tabbar{border-bottom:1px solid #d9d9d9;overflow-x:auto;height:3em;width:auto;white-space:nowrap}#__vconsole .vc-tabbar .vc-tab{display:inline-block;line-height:3em;padding:0 1.15384615em;border-right:1px solid #d9d9d9;text-decoration:none;color:#000;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}#__vconsole .vc-tabbar .vc-tab:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-tabbar .vc-tab.vc-actived{background-color:#fff}#__vconsole .vc-content{background-color:#fff;overflow-x:hidden;overflow-y:auto;position:absolute;top:3.07692308em;left:0;right:0;bottom:3.07692308em;-webkit-overflow-scrolling:touch}#__vconsole .vc-content.vc-has-topbar{top:5.46153846em}#__vconsole .vc-topbar{background-color:#fbf9fe;display:flex;display:-webkit-box;flex-direction:row;flex-wrap:wrap;-webkit-box-direction:row;-webkit-flex-wrap:wrap;width:100%}#__vconsole .vc-topbar .vc-toptab{display:none;flex:1;-webkit-box-flex:1;line-height:2.30769231em;padding:0 1.15384615em;border-bottom:1px solid #d9d9d9;text-decoration:none;text-align:center;color:#000;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}#__vconsole .vc-topbar .vc-toptab.vc-toggle{display:block}#__vconsole .vc-topbar .vc-toptab:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-topbar .vc-toptab.vc-actived{border-bottom:1px solid #3e82f7}#__vconsole .vc-logbox{display:none;position:relative;min-height:100%}#__vconsole .vc-logbox i{font-style:normal}#__vconsole .vc-logbox .vc-log{padding-bottom:3em;-webkit-tap-highlight-color:transparent}#__vconsole .vc-logbox .vc-log:empty:before{content:"Empty";color:#999;position:absolute;top:45%;left:0;right:0;bottom:0;font-size:1.15384615em;text-align:center}#__vconsole .vc-logbox .vc-item{margin:0;padding:.46153846em .61538462em;overflow:hidden;line-height:1.3;border-bottom:1px solid #eee;word-break:break-word}#__vconsole .vc-logbox .vc-item-info{color:#6a5acd}#__vconsole .vc-logbox .vc-item-debug{color:#daa520}#__vconsole .vc-logbox .vc-item-warn{color:orange;border-color:#ffb930;background-color:#fffacd}#__vconsole .vc-logbox .vc-item-error{color:#dc143c;border-color:#f4a0ab;background-color:#ffe4e1}#__vconsole .vc-logbox .vc-log.vc-log-partly .vc-item{display:none}#__vconsole .vc-logbox .vc-log.vc-log-partly-error .vc-item-error,#__vconsole .vc-logbox .vc-log.vc-log-partly-info .vc-item-info,#__vconsole .vc-logbox .vc-log.vc-log-partly-log .vc-item-log,#__vconsole .vc-logbox .vc-log.vc-log-partly-warn .vc-item-warn{display:block}#__vconsole .vc-logbox .vc-item .vc-item-content{margin-right:4.61538462em;display:block}#__vconsole .vc-logbox .vc-item .vc-item-meta{color:#888;float:right;width:4.61538462em;text-align:right}#__vconsole .vc-logbox .vc-item.vc-item-nometa .vc-item-content{margin-right:0}#__vconsole .vc-logbox .vc-item.vc-item-nometa .vc-item-meta{display:none}#__vconsole .vc-logbox .vc-item .vc-item-code{display:block;white-space:pre-wrap;overflow:auto;position:relative}#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input,#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output{padding-left:.92307692em}#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input:before,#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before{content:"\\203A";position:absolute;top:-.23076923em;left:0;font-size:1.23076923em;color:#6a5acd}#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before{content:"\\2039"}#__vconsole .vc-logbox .vc-item .vc-fold{display:block;overflow:auto;-webkit-overflow-scrolling:touch}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer{display:block;font-style:italic;padding-left:.76923077em;position:relative}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:active{background-color:#e6e6e6}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:before{content:"";position:absolute;top:.30769231em;left:.15384615em;width:0;height:0;border:.30769231em solid transparent;border-left-color:#000}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer.vc-toggle:before{top:.46153846em;left:0;border-top-color:#000;border-left-color:transparent}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner{display:none;margin-left:.76923077em}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner.vc-toggle{display:block}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner .vc-code-key{margin-left:.76923077em}#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer .vc-code-key{margin-left:0}#__vconsole .vc-logbox .vc-code-key{color:#905}#__vconsole .vc-logbox .vc-code-private-key{color:#d391b5}#__vconsole .vc-logbox .vc-code-function{color:#905;font-style:italic}#__vconsole .vc-logbox .vc-code-boolean,#__vconsole .vc-logbox .vc-code-number{color:#0086b3}#__vconsole .vc-logbox .vc-code-string{color:#183691}#__vconsole .vc-logbox .vc-code-null,#__vconsole .vc-logbox .vc-code-undefined{color:#666}#__vconsole .vc-logbox .vc-cmd{position:absolute;height:3.07692308em;left:0;right:0;bottom:0;border-top:1px solid #d9d9d9;display:block!important}#__vconsole .vc-logbox .vc-cmd .vc-cmd-input-wrap{display:block;height:2.15384615em;margin-right:3.07692308em;padding:.46153846em .61538462em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-input{width:100%;border:none;resize:none;outline:none;padding:0;font-size:.92307692em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-input::-webkit-input-placeholder{line-height:2.15384615em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn{position:absolute;top:0;right:0;bottom:0;width:3.07692308em;border:none;background-color:#efeff4;outline:none;-webkit-touch-callout:none;font-size:1em}#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-logbox .vc-group .vc-group-preview{-webkit-touch-callout:none}#__vconsole .vc-logbox .vc-group .vc-group-preview:active{background-color:#e6e6e6}#__vconsole .vc-logbox .vc-group .vc-group-detail{display:none;padding:0 0 .76923077em 1.53846154em;border-bottom:1px solid #eee}#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-detail{display:block;background-color:#fbf9fe}#__vconsole .vc-logbox .vc-group.vc-actived .vc-table-row{background-color:#fff}#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-preview{background-color:#fbf9fe}#__vconsole .vc-logbox .vc-table .vc-table-row{display:flex;display:-webkit-flex;flex-direction:row;flex-wrap:wrap;-webkit-box-direction:row;-webkit-flex-wrap:wrap;overflow:hidden;border-bottom:1px solid #eee}#__vconsole .vc-logbox .vc-table .vc-table-row.vc-left-border{border-left:1px solid #eee}#__vconsole .vc-logbox .vc-table .vc-table-col{flex:1;-webkit-box-flex:1;padding:.23076923em .30769231em;border-left:1px solid #eee;overflow:auto;white-space:pre-wrap;word-break:break-word;-webkit-overflow-scrolling:touch}#__vconsole .vc-logbox .vc-table .vc-table-col:first-child{border:none}#__vconsole .vc-logbox .vc-table .vc-small .vc-table-col{padding:0 .30769231em;font-size:.92307692em}#__vconsole .vc-logbox .vc-table .vc-table-col-2{flex:2;-webkit-box-flex:2}#__vconsole .vc-logbox .vc-table .vc-table-col-3{flex:3;-webkit-box-flex:3}#__vconsole .vc-logbox .vc-table .vc-table-col-4{flex:4;-webkit-box-flex:4}#__vconsole .vc-logbox .vc-table .vc-table-col-5{flex:5;-webkit-box-flex:5}#__vconsole .vc-logbox .vc-table .vc-table-col-6{flex:6;-webkit-box-flex:6}#__vconsole .vc-logbox .vc-table .vc-table-row-error{border-color:#f4a0ab;background-color:#ffe4e1}#__vconsole .vc-logbox .vc-table .vc-table-row-error .vc-table-col{color:#dc143c;border-color:#f4a0ab}#__vconsole .vc-logbox .vc-table .vc-table-col-title{font-weight:700}#__vconsole .vc-logbox.vc-actived{display:block}#__vconsole .vc-toolbar{border-top:1px solid #d9d9d9;line-height:3em;position:absolute;left:0;right:0;bottom:0;display:flex;display:-webkit-box;flex-direction:row;-webkit-box-direction:row}#__vconsole .vc-toolbar .vc-tool{display:none;text-decoration:none;color:#000;width:50%;flex:1;-webkit-box-flex:1;text-align:center;position:relative;-webkit-touch-callout:none}#__vconsole .vc-toolbar .vc-tool.vc-global-tool,#__vconsole .vc-toolbar .vc-tool.vc-toggle{display:block}#__vconsole .vc-toolbar .vc-tool:active{background-color:rgba(0,0,0,.15)}#__vconsole .vc-toolbar .vc-tool:after{content:" ";position:absolute;top:.53846154em;bottom:.53846154em;right:0;border-left:1px solid #d9d9d9}#__vconsole .vc-toolbar .vc-tool-last:after{border:none}#__vconsole.vc-toggle .vc-switch{display:none}#__vconsole.vc-toggle .vc-mask{background:rgba(0,0,0,.6);display:block}#__vconsole.vc-toggle .vc-panel{-webkit-transform:translate(0);transform:translate(0)}',""])},function(e,t){"use strict";e.exports=function(){var a=[];return a.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),a.push(o))}},a}},function(e,t,n){function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(s(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(s(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function c(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],l=i[3],u={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function l(e,t){var n=o(),r=a[a.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){e.parentNode.removeChild(e);var t=a.indexOf(e);0<=t&&a.splice(t,1)}function d(e){var t=document.createElement("style");return t.type="text/css",l(e,t),t}function s(t,e){var n,r,i,o,a;if(e.singleton){var s=_++;n=v||(v=d(e)),r=f.bind(null,n,s,!1),i=f.bind(null,n,s,!0)}else i=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=e,(a=document.createElement("link")).rel="stylesheet",l(o,a),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n=a),function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}var p={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},i=r(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),o=r(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,_=0,a=[];e.exports=function(e,s){void 0===(s=s||{}).singleton&&(s.singleton=i()),void 0===s.insertAt&&(s.insertAt="bottom");var l=c(e);return u(l,s),function(e){for(var t=[],n=0;n<l.length;n++){var r=l[n],i=p[r.id];i.refs--,t.push(i)}if(e){var o=c(e);u(o,s)}for(var n=0;n<t.length;n++){var i=t[n];if(0===i.refs){for(var a=0;a<i.parts.length;a++)i.parts[a]();delete p[i.id]}}}};var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")})},function(e,t){e.exports='<div id="__vconsole" class="">\n  <div class="vc-switch">vConsole</div>\n  <div class="vc-mask">\n  </div>\n  <div class="vc-panel">\n    <div class="vc-tabbar">\n    </div>\n    <div class="vc-topbar">\n    </div>\n    <div class="vc-content">\n    </div>\n    <div class="vc-toolbar">\n      <a class="vc-tool vc-global-tool vc-tool-last vc-hide">Hide</a>\n    </div>\n  </div>\n</div>'},function(e,t){e.exports='<a class="vc-tab" data-tab="{{id}}" id="__vc_tab_{{id}}">{{name}}</a>'},function(e,t){e.exports='<div class="vc-logbox" id="__vc_log_{{id}}">\n  \n</div>'},function(e,t){e.exports='<a class="vc-toptab vc-topbar-{{pluginID}}{{if (className)}} {{className}}{{/if}}">{{name}}</a>'},function(e,t){e.exports='<a class="vc-tool vc-tool-{{pluginID}}">{{name}}</a>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=n(5),l=r(o),s=n(4),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n(17),h=r(c),d=n(22),f=r(d),p=n(23),v=r(p),_=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.tplTabbox=f.default,i.windowOnError=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onReady",value:function(){var r=this;a(Object.getPrototypeOf(o.prototype),"onReady",this).call(this),l.default.bind(l.default.one(".vc-cmd",this.$tabbox),"submit",function(e){e.preventDefault();var t=l.default.one(".vc-cmd-input",e.target),n=t.value;(t.value="")!==n&&r.evalCommand(n)});var e=document.getElementsByTagName("script"),t="";0<e.length&&(t=e[0].getAttribute("nonce")||"");var n=document.createElement("SCRIPT");n.innerHTML="if (!!window) {window.__vConsole_cmd_result = undefined;window.__vConsole_cmd_error = false;}",n.setAttribute("nonce",t),document.documentElement.appendChild(n),document.documentElement.removeChild(n)}},{key:"mockConsole",value:function(){a(Object.getPrototypeOf(o.prototype),"mockConsole",this).call(this);var l=this;u.isFunction(window.onerror)&&(this.windowOnError=window.onerror),window.onerror=function(e,t,n,r,i){var o=e;t&&(o+="\n"+t.replace(location.origin,"")),(n||r)&&(o+=":"+n+":"+r);var a=!!i&&!!i.stack,s=a&&i.stack.toString()||"";l.printLog({logType:"error",logs:[o,s],noOrigin:!0}),u.isFunction(l.windowOnError)&&l.windowOnError.call(window,e,t,n,r,i)}}},{key:"evalCommand",value:function(e){this.printLog({logType:"log",content:l.default.render(v.default,{content:e,type:"input"}),noMeta:!0,style:""});var t="";t+="try {\n",t+="window.__vConsole_cmd_result = (function() {\n",t+="return "+e+";\n",t+="})();\n",t+="window.__vConsole_cmd_error = false;\n",t+="} catch (e) {\n",t+="window.__vConsole_cmd_result = e.message;\n",t+="window.__vConsole_cmd_error = true;\n",t+="}";var n=document.getElementsByTagName("script"),r="";0<n.length&&(r=n[0].getAttribute("nonce")||"");var i=document.createElement("SCRIPT");i.innerHTML=t,i.setAttribute("nonce",r),document.documentElement.appendChild(i);var o=window.__vConsole_cmd_result,a=window.__vConsole_cmd_error;if(document.documentElement.removeChild(i),0==a){var s=void 0;s=u.isArray(o)||u.isObject(o)?this.getFoldedLine(o):(u.isNull(o)?o="null":u.isUndefined(o)?o="undefined":u.isFunction(o)?o="function()":u.isString(o)&&(o='"'+o+'"'),l.default.render(v.default,{content:o,type:"output"})),this.printLog({logType:"log",content:s,noMeta:!0,style:""})}else this.printLog({logType:"error",logs:[o],noMeta:!0,style:""})}}]),o}(h.default);t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(4),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),a=n(5),y=r(a),s=n(18),l=r(s),u=n(19),d=r(u),c=n(20),g=r(c),f=n(21),m=r(f),p=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.tplTabbox="",i.allowUnformattedLog=!0,i.isReady=!1,i.isShow=!1,i.$tabbox=null,i.console={},i.logList=[],i.isInBottom=!0,i.maxLogNumber=1e3,i.logNumber=0,i.mockConsole(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onInit",value:function(){this.$tabbox=y.default.render(this.tplTabbox,{}),this.updateMaxLogNumber()}},{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTopBar",value:function(e){for(var t=this,n=["All","Log","Info","Warn","Error"],r=[],i=0;i<n.length;i++)r.push({name:n[i],data:{type:n[i].toLowerCase()},className:"",onClick:function(){return!y.default.hasClass(this,"vc-actived")&&void t.showLogType(this.dataset.type||"all")}});r[0].className="vc-actived",e(r)}},{key:"onAddTool",value:function(e){var t=this,n=[{name:"Clear",global:!1,onClick:function(){t.clearLog(),t.vConsole.triggerEvent("clearLog")}}];e(n)}},{key:"onReady",value:function(){var r=this;r.isReady=!0;var i=y.default.all(".vc-subtab",r.$tabbox);y.default.bind(i,"click",function(e){if(e.preventDefault(),y.default.hasClass(this,"vc-actived"))return!1;y.default.removeClass(i,"vc-actived"),y.default.addClass(this,"vc-actived");var t=this.dataset.type,n=y.default.one(".vc-log",r.$tabbox);y.default.removeClass(n,"vc-log-partly-log"),y.default.removeClass(n,"vc-log-partly-info"),y.default.removeClass(n,"vc-log-partly-warn"),y.default.removeClass(n,"vc-log-partly-error"),"all"==t?y.default.removeClass(n,"vc-log-partly"):(y.default.addClass(n,"vc-log-partly"),y.default.addClass(n,"vc-log-partly-"+t))});var t=y.default.one(".vc-content");y.default.bind(t,"scroll",function(e){r.isShow&&(t.scrollTop+t.offsetHeight>=t.scrollHeight?r.isInBottom=!0:r.isInBottom=!1)});for(var e=0;e<r.logList.length;e++)r.printLog(r.logList[e]);r.logList=[]}},{key:"onRemove",value:function(){window.console.log=this.console.log,window.console.info=this.console.info,window.console.warn=this.console.warn,window.console.debug=this.console.debug,window.console.error=this.console.error,window.console.time=this.console.time,window.console.timeEnd=this.console.timeEnd,window.console.clear=this.console.clear,this.console={}}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onUpdateOption",value:function(){this.vConsole.option.maxLogNumber!=this.maxLogNumber&&(this.updateMaxLogNumber(),this.limitMaxLogs())}},{key:"updateMaxLogNumber",value:function(){this.maxLogNumber=this.vConsole.option.maxLogNumber||1e3,this.maxLogNumber=Math.max(1,this.maxLogNumber)}},{key:"limitMaxLogs",value:function(){if(this.isReady)for(;this.logNumber>this.maxLogNumber;){var e=y.default.one(".vc-item",this.$tabbox);if(!e)break;e.parentNode.removeChild(e),this.logNumber--}}},{key:"showLogType",value:function(e){var t=y.default.one(".vc-log",this.$tabbox);y.default.removeClass(t,"vc-log-partly-log"),y.default.removeClass(t,"vc-log-partly-info"),y.default.removeClass(t,"vc-log-partly-warn"),y.default.removeClass(t,"vc-log-partly-error"),"all"==e?y.default.removeClass(t,"vc-log-partly"):(y.default.addClass(t,"vc-log-partly"),y.default.addClass(t,"vc-log-partly-"+e))}},{key:"autoScrollToBottom",value:function(){this.vConsole.option.disableLogScrolling||this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=y.default.one(".vc-content");e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}},{key:"mockConsole",value:function(){var i=this,r=this,e=["log","info","warn","debug","error"];window.console?(e.map(function(e){r.console[e]=window.console[e]}),r.console.time=window.console.time,r.console.timeEnd=window.console.timeEnd,r.console.clear=window.console.clear):window.console={},e.map(function(r){window.console[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.printLog({logType:r,logs:t})}});var n={};window.console.time=function(e){n[e]=Date.now()},window.console.timeEnd=function(e){var t=n[e];t?(console.log(e+":",Date.now()-t+"ms"),delete n[e]):console.log(e+": 0ms")},window.console.clear=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.clearLog(),r.console.clear.apply(window.console,t)}}},{key:"clearLog",value:function(){y.default.one(".vc-log",this.$tabbox).innerHTML=""}},{key:"printOriginLog",value:function(e){"function"==typeof this.console[e.logType]&&this.console[e.logType].apply(window.console,e.logs)}},{key:"printLog",value:function(e){var t=e.logs||[];if(t.length||e.content){t=[].slice.call(t||[]);var n=!0,r=/^\[(\w+)\]$/i,i="";if(_.isString(t[0])){var o=t[0].match(r);null!==o&&0<o.length&&(i=o[1].toLowerCase())}if(i?n=i==this.id:0==this.allowUnformattedLog&&(n=!1),!n)return void(e.noOrigin||this.printOriginLog(e));if(e.date||(e.date=+new Date),!this.isReady)return void this.logList.push(e);if(_.isString(t[0])&&(t[0]=t[0].replace(r,""),""===t[0]&&t.shift()),!e.meta){var a=_.getDate(e.date);e.meta=a.hour+":"+a.minute+":"+a.second}for(var s=y.default.render(d.default,{logType:e.logType,noMeta:!!e.noMeta,meta:e.meta,style:e.style||""}),l=y.default.one(".vc-item-content",s),u=0;u<t.length;u++){var c=void 0;try{if(""===t[u])continue;c=_.isFunction(t[u])?"<span> "+t[u].toString()+"</span>":_.isObject(t[u])||_.isArray(t[u])?this.getFoldedLine(t[u]):"<span> "+_.htmlEncode(t[u]).replace(/\n/g,"<br/>")+"</span>"}catch(e){c="<span> ["+h(t[u])+"]</span>"}c&&("string"==typeof c?l.insertAdjacentHTML("beforeend",c):l.insertAdjacentElement("beforeend",c))}_.isObject(e.content)&&l.insertAdjacentElement("beforeend",e.content),y.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",s),this.logNumber++,this.limitMaxLogs(),this.isInBottom&&this.autoScrollToBottom(),e.noOrigin||this.printOriginLog(e)}}},{key:"getFoldedLine",value:function(f,e){var p=this;if(!e){var t=_.JSONStringify(f),n=t.substr(0,26);e=_.getObjName(f),26<t.length&&(n+="..."),e+=" "+n}var v=y.default.render(g.default,{outer:e,lineType:"obj"});return y.default.bind(y.default.one(".vc-fold-outer",v),"click",function(e){e.preventDefault(),e.stopPropagation(),y.default.hasClass(v,"vc-toggle")?(y.default.removeClass(v,"vc-toggle"),y.default.removeClass(y.default.one(".vc-fold-inner",v),"vc-toggle"),y.default.removeClass(y.default.one(".vc-fold-outer",v),"vc-toggle")):(y.default.addClass(v,"vc-toggle"),y.default.addClass(y.default.one(".vc-fold-inner",v),"vc-toggle"),y.default.addClass(y.default.one(".vc-fold-outer",v),"vc-toggle"));var t=y.default.one(".vc-fold-inner",v);if(0==t.children.length&&f){for(var n=_.getObjAllKeys(f),r=0;r<n.length;r++){var i=f[n[r]],o="undefined",a="";_.isString(i)?(o="string",i='"'+i+'"'):_.isNumber(i)?o="number":_.isBoolean(i)?o="boolean":_.isNull(i)?i=o="null":_.isUndefined(i)?i=o="undefined":_.isFunction(i)?(o="function",i="function()"):_.isSymbol(i)&&(o="symbol");var s=void 0;if(_.isArray(i)){var l=_.getObjName(i)+"["+i.length+"]";s=p.getFoldedLine(i,y.default.render(m.default,{key:n[r],keyType:a,value:l,valueType:"array"},!0))}else if(_.isObject(i)){var u=_.getObjName(i);s=p.getFoldedLine(i,y.default.render(m.default,{key:_.htmlEncode(n[r]),keyType:a,value:u,valueType:"object"},!0))}else{f.hasOwnProperty&&!f.hasOwnProperty(n[r])&&(a="private");var c={lineType:"kv",key:_.htmlEncode(n[r]),keyType:a,value:_.htmlEncode(i),valueType:o};s=y.default.render(g.default,c)}t.insertAdjacentElement("beforeend",s)}if(_.isObject(f)){var h=f.__proto__,d=void 0;d=_.isObject(h)?p.getFoldedLine(h,y.default.render(m.default,{key:"__proto__",keyType:"private",value:_.getObjName(h),valueType:"object"},!0)):y.default.render(m.default,{key:"__proto__",keyType:"private",value:"null",valueType:"null"}),t.insertAdjacentElement("beforeend",d)}}return!1}),v}}]),o}(l.default);t.default=p,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),n=function(){function n(e){var t=arguments.length<=1||void 0===arguments[1]?"newPlugin":arguments[1];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.id=e,this.name=t,this.isReady=!1,this.eventList={}}return r(n,[{key:"on",value:function(e,t){return this.eventList[e]=t,this}},{key:"trigger",value:function(e,t){if("function"==typeof this.eventList[e])this.eventList[e].call(this,t);else{var n="on"+e.charAt(0).toUpperCase()+e.slice(1);"function"==typeof this[n]&&this[n].call(this,t)}return this}},{key:"id",get:function(){return this._id},set:function(e){if(!e)throw"Plugin ID cannot be empty";this._id=e.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(e){if(!e)throw"Plugin name cannot be empty";this._name=e}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(e){if(!e)throw"vConsole cannot be empty";this._vConsole=e}}]),n}();t.default=n,e.exports=t.default},function(e,t){e.exports='<div class="vc-item vc-item-{{logType}} {{if (!noMeta)}}vc-item-nometa{{/if}} {{style}}">\n\t<span class="vc-item-meta">{{if (!noMeta)}}{{meta}}{{/if}}</span>\n\t<div class="vc-item-content"></div>\n</div>'},function(e,t){e.exports='<div class="vc-fold">\n  {{if (lineType == \'obj\')}}\n    <i class="vc-fold-outer">{{outer}}</i>\n    <div class="vc-fold-inner"></div>\n  {{else if (lineType == \'value\')}}\n    <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{else if (lineType == \'kv\')}}\n    <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{/if}}\n</div>'},function(e,t){e.exports='<span>\n  <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n</span>'},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n  <form class="vc-cmd">\n    <button class="vc-cmd-btn" type="submit">OK</button>\n    <div class="vc-cmd-input-wrap">\n      <textarea class="vc-cmd-input" placeholder="command..."></textarea>\n    </div>\n  </form>\n</div>'},function(e,t){e.exports='<pre class="vc-item-code vc-item-code-{{type}}">{{content}}</pre>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(4),a=(function(e){if(!e||!e.__esModule){var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(o),n(17)),s=r(a),l=n(25),u=r(l),c=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.tplTabbox=u.default,i.allowUnformattedLog=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onInit",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(Object.getPrototypeOf(o.prototype),"onInit",this).call(this),this.printSystemInfo()}},{key:"printSystemInfo",value:function(){var e=navigator.userAgent,t="",n=e.match(/(ipod).*\s([\d_]+)/i),r=e.match(/(ipad).*\s([\d_]+)/i),i=e.match(/(iphone)\sos\s([\d_]+)/i),o=e.match(/(android)\s([\d\.]+)/i);t="Unknown",o?t="Android "+o[2]:i?t="iPhone, iOS "+i[2].replace(/_/g,"."):r?t="iPad, iOS "+r[2].replace(/_/g,"."):n&&(t="iPod, iOS "+n[2].replace(/_/g,"."));var a=t,s=e.match(/MicroMessenger\/([\d\.]+)/i);t="Unknown",s&&s[1]&&(t=s[1],a+=", WeChat "+t),console.info("[system]","System:",a),t="Unknown",t="https:"==location.protocol?"HTTPS":"http:"==location.protocol?"HTTP":location.protocol.replace(":",""),a=t;var l=e.toLowerCase().match(/ nettype\/([^ ]+)/g);t="Unknown",l&&l[0]?(l=l[0].split("/"),t=l[1],a+=", "+t,console.info("[system]","Network:",a)):console.info("[system]","Protocol:",a),console.info("[system]","UA:",e),setTimeout(function(){var e=window.performance||window.msPerformance||window.webkitPerformance;if(e&&e.timing){var t=e.timing;t.navigationStart&&console.info("[system]","navigationStart:",t.navigationStart),t.navigationStart&&t.domainLookupStart&&console.info("[system]","navigation:",t.domainLookupStart-t.navigationStart+"ms"),t.domainLookupEnd&&t.domainLookupStart&&console.info("[system]","dns:",t.domainLookupEnd-t.domainLookupStart+"ms"),t.connectEnd&&t.connectStart&&(t.connectEnd&&t.secureConnectionStart?console.info("[system]","tcp (ssl):",t.connectEnd-t.connectStart+"ms ("+(t.connectEnd-t.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",t.connectEnd-t.connectStart+"ms")),t.responseStart&&t.requestStart&&console.info("[system]","request:",t.responseStart-t.requestStart+"ms"),t.responseEnd&&t.responseStart&&console.info("[system]","response:",t.responseEnd-t.responseStart+"ms"),t.domComplete&&t.domLoading&&(t.domContentLoadedEventStart&&t.domLoading?console.info("[system]","domComplete (domLoaded):",t.domComplete-t.domLoading+"ms ("+(t.domContentLoadedEventStart-t.domLoading)+"ms)"):console.info("[system]","domComplete:",t.domComplete-t.domLoading+"ms")),t.loadEventEnd&&t.loadEventStart&&console.info("[system]","loadEvent:",t.loadEventEnd-t.loadEventStart+"ms"),t.navigationStart&&t.loadEventEnd&&console.info("[system]","total (DOM):",t.loadEventEnd-t.navigationStart+"ms ("+(t.domComplete-t.navigationStart)+"ms)")}},0)}}]),o}(s.default);t.default=c,e.exports=t.default},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(5),u=r(o),a=n(4),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s=n(18),l=r(s),c=n(27),h=r(c),d=n(28),f=r(d),p=n(29),v=r(p),_=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.$tabbox=u.default.render(h.default,{}),i.$header=null,i.reqList={},i.domList={},i.isReady=!1,i.isShow=!1,i.isInBottom=!0,i._open=void 0,i._send=void 0,i.mockAjax(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTool",value:function(e){var t=this,n=[{name:"Clear",global:!1,onClick:function(e){t.clearLog()}}];e(n)}},{key:"onReady",value:function(){var r=this;r.isReady=!0,this.renderHeader(),u.default.delegate(u.default.one(".vc-log",this.$tabbox),"click",".vc-group-preview",function(e){var t=this.dataset.reqid,n=this.parentNode;u.default.hasClass(n,"vc-actived")?(u.default.removeClass(n,"vc-actived"),r.updateRequest(t,{actived:!1})):(u.default.addClass(n,"vc-actived"),r.updateRequest(t,{actived:!0})),e.preventDefault()});var t=u.default.one(".vc-content");for(var e in u.default.bind(t,"scroll",function(e){r.isShow&&(t.scrollTop+t.offsetHeight>=t.scrollHeight?r.isInBottom=!0:r.isInBottom=!1)}),r.reqList)r.updateRequest(e,{})}},{key:"onRemove",value:function(){window.XMLHttpRequest&&(window.XMLHttpRequest.prototype.open=this._open,window.XMLHttpRequest.prototype.send=this._send,this._open=void 0,this._send=void 0)}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.scrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=u.default.one(".vc-content");e.scrollTop=e.scrollHeight-e.offsetHeight}},{key:"clearLog",value:function(){for(var e in this.reqList={},this.domList)this.domList[e].remove(),this.domList[e]=void 0;this.domList={},this.renderHeader()}},{key:"renderHeader",value:function(){var e=Object.keys(this.reqList).length,t=u.default.render(f.default,{count:e}),n=u.default.one(".vc-log",this.$tabbox);this.$header?this.$header.parentNode.replaceChild(t,this.$header):n.parentNode.insertBefore(t,n),this.$header=t}},{key:"updateRequest",value:function(e,t){var n=Object.keys(this.reqList).length,r=this.reqList[e]||{};for(var i in t)r[i]=t[i];if(this.reqList[e]=r,this.isReady){var o={id:e,url:r.url,status:r.status,method:r.method||"-",costTime:0<r.costTime?r.costTime+"ms":"-",header:r.header||null,getData:r.getData||null,postData:r.postData||null,response:null,actived:!!r.actived};switch(r.responseType){case"":case"text":if(m.isString(r.response))try{o.response=JSON.parse(r.response),o.response=JSON.stringify(o.response,null,1),o.response=m.htmlEncode(o.response)}catch(e){o.response=m.htmlEncode(r.response)}else void 0!==r.response&&(o.response=Object.prototype.toString.call(r.response));break;case"json":void 0!==r.response&&(o.response=JSON.stringify(r.response,null,1));break;case"blob":case"document":case"arraybuffer":default:void 0!==r.response&&(o.response=Object.prototype.toString.call(r.response))}0==r.readyState||1==r.readyState?o.status="Pending":2==r.readyState||3==r.readyState?o.status="Loading":4==r.readyState||(o.status="Unknown");var a=u.default.render(v.default,o),s=this.domList[e];400<=r.status&&u.default.addClass(u.default.one(".vc-group-preview",a),"vc-table-row-error"),s?s.parentNode.replaceChild(a,s):u.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",a),this.domList[e]=a;var l=Object.keys(this.reqList).length;l!=n&&this.renderHeader(),this.isInBottom&&this.scrollToBottom()}}},{key:"mockAjax",value:function(){var e=window.XMLHttpRequest;if(e){var y=this,o=window.XMLHttpRequest.prototype.open,g=window.XMLHttpRequest.prototype.send;y._open=o,y._send=g,window.XMLHttpRequest.prototype.open=function(){var l=this,e=[].slice.call(arguments),t=e[0],n=e[1],u=y.getUniqueID(),c=null;l._requestID=u,l._method=t,l._url=n;var h=l.onreadystatechange||function(){},r=function(){var e=y.reqList[u]||{};if(e.readyState=l.readyState,e.status=0,1<l.readyState&&(e.status=l.status),e.responseType=l.responseType,0==l.readyState)e.startTime||(e.startTime=+new Date);else if(1==l.readyState)e.startTime||(e.startTime=+new Date);else if(2==l.readyState){e.header={};for(var t=l.getAllResponseHeaders()||"",n=t.split("\n"),r=0;r<n.length;r++){var i=n[r];if(i){var o=i.split(": "),a=o[0],s=o.slice(1).join(": ");e.header[a]=s}}}else 3==l.readyState||(4==l.readyState?(clearInterval(c),e.endTime=+new Date,e.costTime=e.endTime-(e.startTime||e.endTime),e.response=l.response):clearInterval(c));return l._noVConsole||y.updateRequest(u,e),h.apply(l,arguments)};l.onreadystatechange=r;var i=-1;return c=setInterval(function(){i!=l.readyState&&(i=l.readyState,r.call(l))},10),o.apply(l,e)},window.XMLHttpRequest.prototype.send=function(){var e=[].slice.call(arguments),t=e[0],n=y.reqList[this._requestID]||{};n.method=this._method.toUpperCase();var r=this._url.split("?");if(n.url=r.shift(),0<r.length){n.getData={},r=(r=r.join("?")).split("&");var i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u=u.split("="),n.getData[u[0]]=u[1]}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}if("POST"==n.method)if(m.isString(t)){var c=t.split("&");n.postData={};var h=!0,d=!1,f=void 0;try{for(var p,v=c[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var _=p.value;_=_.split("="),n.postData[_[0]]=_[1]}}catch(e){d=!0,f=e}finally{try{!h&&v.return&&v.return()}finally{if(d)throw f}}}else m.isPlainObject(t)&&(n.postData=t);return this._noVConsole||y.updateRequest(this._requestID,n),g.apply(this,e)}}}},{key:"getUniqueID",value:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)});return e}}]),o}(l.default);t.default=_,e.exports=t.default},function(e,t){e.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(e,t){e.exports='<dl class="vc-table-row">\n  <dd class="vc-table-col vc-table-col-4">Name {{if (count > 0)}}({{count}}){{/if}}</dd>\n  <dd class="vc-table-col">Method</dd>\n  <dd class="vc-table-col">Status</dd>\n  <dd class="vc-table-col">Time</dd>\n</dl>'},function(e,t){e.exports='<div class="vc-group {{actived ? \'vc-actived\' : \'\'}}">\n  <dl class="vc-table-row vc-group-preview" data-reqid="{{id}}">\n    <dd class="vc-table-col vc-table-col-4">{{url}}</dd>\n    <dd class="vc-table-col">{{method}}</dd>\n    <dd class="vc-table-col">{{status}}</dd>\n    <dd class="vc-table-col">{{costTime}}</dd>\n  </dl>\n  <div class="vc-group-detail">\n    {{if (header !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Headers</dt>\n      </dl>\n      {{for (var key in header)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{header[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (getData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Query String Parameters</dt>\n      </dl>\n      {{for (var key in getData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{getData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (postData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Form Data</dt>\n      </dl>\n      {{for (var key in postData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{postData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Response</dt>\n      </dl>\n      <div class="vc-table-row vc-left-border vc-small">\n        <pre class="vc-table-col vc-max-height vc-min-height">{{response || \'\'}}</pre>\n      </div>\n    </div>\n  </div>\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();n(31);var o=n(18),a=r(o),s=n(33),l=r(s),u=n(34),c=r(u),h=n(4),d=(function(e){if(!e||!e.__esModule){var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(h),n(5)),f=r(d),p=function(e){function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(s)).call.apply(e,[this].concat(n))),o=i;o.isInited=!1,o.node={},o.$tabbox=f.default.render(l.default,{}),o.nodes=[],o.activedElem={};var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return o.observer=new a(function(e){for(var t=0;t<e.length;t++){var n=e[t];o._isInVConsole(n.target)||o.onMutation(n)}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,e),i(s,[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTool",value:function(e){var r=this,t=[{name:"Expend",global:!1,onClick:function(e){if(r.activedElem)if(f.default.hasClass(r.activedElem,"vc-toggle"))for(var t=0;t<r.activedElem.childNodes.length;t++){var n=r.activedElem.childNodes[t];if(f.default.hasClass(n,"vcelm-l")&&!f.default.hasClass(n,"vcelm-noc")&&!f.default.hasClass(n,"vc-toggle")){f.default.one(".vcelm-node",n).click();break}}else f.default.one(".vcelm-node",r.activedElem).click()}},{name:"Collapse",global:!1,onClick:function(e){r.activedElem&&(f.default.hasClass(r.activedElem,"vc-toggle")?f.default.one(".vcelm-node",r.activedElem).click():r.activedElem.parentNode&&f.default.hasClass(r.activedElem.parentNode,"vcelm-l")&&f.default.one(".vcelm-node",r.activedElem.parentNode).click())}}];e(t)}},{key:"onShow",value:function(){if(!this.isInited){this.isInited=!0,this.node=this.getNode(document.documentElement);var e=this.renderView(this.node,f.default.one(".vc-log",this.$tabbox)),t=f.default.one(".vcelm-node",e);t&&t.click(),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}},{key:"onRemove",value:function(){this.observer.disconnect()}},{key:"onMutation",value:function(e){switch(e.type){case"childList":0<e.removedNodes.length&&this.onChildRemove(e),0<e.addedNodes.length&&this.onChildAdd(e);break;case"attributes":this.onAttributesChange(e);break;case"characterData":this.onCharacterDataChange(e)}}},{key:"onChildRemove",value:function(e){var t=e.target,n=t.__vconsole_node;if(n){for(var r=0;r<e.removedNodes.length;r++){var i=e.removedNodes[r],o=i.__vconsole_node;o&&o.view&&o.view.parentNode.removeChild(o.view)}this.getNode(t)}}},{key:"onChildAdd",value:function(e){var t=e.target,n=t.__vconsole_node;if(n){this.getNode(t),n.view&&f.default.removeClass(n.view,"vcelm-noc");for(var r=0;r<e.addedNodes.length;r++){var i=e.addedNodes[r],o=i.__vconsole_node;if(o)if(null!==e.nextSibling){var a=e.nextSibling.__vconsole_node;a.view&&this.renderView(o,a.view,"insertBefore")}else n.view&&(n.view.lastChild?this.renderView(o,n.view.lastChild,"insertBefore"):this.renderView(o,n.view))}}}},{key:"onAttributesChange",value:function(e){var t=e.target.__vconsole_node;t&&(t=this.getNode(e.target)).view&&this.renderView(t,t.view,!0)}},{key:"onCharacterDataChange",value:function(e){var t=e.target.__vconsole_node;t&&(t=this.getNode(e.target)).view&&this.renderView(t,t.view,!0)}},{key:"renderView",value:function(o,e,t){var a=this,n=new c.default(o).get();switch(o.view=n,f.default.delegate(n,"click",".vcelm-node",function(e){e.stopPropagation();var t=this.parentNode;if(!f.default.hasClass(t,"vcelm-noc")){a.activedElem=t,f.default.hasClass(t,"vc-toggle")?f.default.removeClass(t,"vc-toggle"):f.default.addClass(t,"vc-toggle");for(var n=-1,r=0;r<t.children.length;r++){var i=t.children[r];f.default.hasClass(i,"vcelm-l")&&(n++,0<i.children.length||(o.childNodes[n]?a.renderView(o.childNodes[n],i,"replace"):i.style.display="none"))}}}),t){case"replace":e.parentNode.replaceChild(n,e);break;case"insertBefore":e.parentNode.insertBefore(n,e);break;default:e.appendChild(n)}return n}},{key:"getNode",value:function(e){if(!this._isIgnoredElement(e)){var t=e.__vconsole_node||{};if(t.nodeType=e.nodeType,t.nodeName=e.nodeName,t.tagName=e.tagName||"",t.textContent="",t.nodeType!=e.TEXT_NODE&&t.nodeType!=e.DOCUMENT_TYPE_NODE||(t.textContent=e.textContent),t.id=e.id||"",t.className=e.className||"",t.attributes=[],e.hasAttributes&&e.hasAttributes())for(var n=0;n<e.attributes.length;n++)t.attributes.push({name:e.attributes[n].name,value:e.attributes[n].value||""});if(t.childNodes=[],0<e.childNodes.length)for(var r=0;r<e.childNodes.length;r++){var i=this.getNode(e.childNodes[r]);i&&t.childNodes.push(i)}return e.__vconsole_node=t}}},{key:"_isIgnoredElement",value:function(e){return e.nodeType==e.TEXT_NODE&&""==e.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,"")}},{key:"_isInVConsole",value:function(e){for(var t=e;null!=t;){if("__vconsole"==t.id)return!0;t=t.parentNode||void 0}return!1}}]),s}(a.default);t.default=p,e.exports=t.default},function(e,t,n){var r=n(32);"string"==typeof r&&(r=[[e.id,r,""]]),n(10)(r,{}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(9)()).push([e.id,'.vcelm-node{color:#183691}.vcelm-k{color:#0086b3}.vcelm-v{color:#905}.vcelm-l{padding-left:8px;position:relative;word-wrap:break-word;line-height:1}.vcelm-l.vc-toggle>.vcelm-node{display:block}.vcelm-l .vcelm-node:active{background-color:rgba(0,0,0,.15)}.vcelm-l.vcelm-noc .vcelm-node:active{background-color:transparent}.vcelm-t{white-space:pre-wrap;word-wrap:break-word}.vcelm-l .vcelm-l{display:none}.vcelm-l.vc-toggle>.vcelm-l{margin-left:4px;display:block}.vcelm-l:before{content:"";display:block;position:absolute;top:6px;left:3px;width:0;height:0;border:3px solid transparent;border-left-color:#000}.vcelm-l.vc-toggle:before{display:block;top:6px;left:0;border-top-color:#000;border-left-color:transparent}.vcelm-l.vcelm-noc:before{display:none}',""])},function(e,t){e.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(35),c=r(o),a=n(36),h=r(a),s=n(4),l=(function(e){if(!e||!e.__esModule){var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}}(s),n(5)),d=r(l),u=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.node=e,this.view=this._create(this.node)}return i(t,[{key:"get",value:function(){return this.view}},{key:"_create",value:function(e,t){var n=document.createElement("DIV");switch(d.default.addClass(n,"vcelm-l"),e.nodeType){case n.ELEMENT_NODE:this._createElementNode(e,n);break;case n.TEXT_NODE:this._createTextNode(e,n);break;case n.COMMENT_NODE:case n.DOCUMENT_NODE:case n.DOCUMENT_TYPE_NODE:case n.DOCUMENT_FRAGMENT_NODE:}return n}},{key:"_createTextNode",value:function(e,t){var n,r;d.default.addClass(t,"vcelm-t vcelm-noc"),e.textContent&&t.appendChild((r=e.textContent,n=r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),document.createTextNode(n)))}},{key:"_createElementNode",value:function(e,t){var n,r,i=(n=e.tagName,r=["br","hr","img","input","link","meta"],n=n?n.toLowerCase():"",-1<r.indexOf(n)),o=i;0==e.childNodes.length&&(o=!0);var a=d.default.render(c.default,{node:e}),s=d.default.render(h.default,{node:e});if(o)d.default.addClass(t,"vcelm-noc"),t.appendChild(a),i||t.appendChild(s);else{t.appendChild(a);for(var l=0;l<e.childNodes.length;l++){var u=document.createElement("DIV");d.default.addClass(u,"vcelm-l"),t.appendChild(u)}i||t.appendChild(s)}}}]),t}();t.default=u,e.exports=t.default},function(e,t){e.exports='<span class="vcelm-node">&lt;{{node.tagName.toLowerCase()}}{{if (node.className || node.attributes.length)}}\n  <i class="vcelm-k">\n    {{for (var i = 0; i < node.attributes.length; i++)}}\n      {{if (node.attributes[i].value !== \'\')}}\n        {{node.attributes[i].name}}="<i class="vcelm-v">{{node.attributes[i].value}}</i>"{{else}}\n        {{node.attributes[i].name}}{{/if}}{{/for}}</i>{{/if}}&gt;</span>'},function(e,t){e.exports='<span class="vcelm-node">&lt;/{{node.tagName.toLowerCase()}}&gt;</span>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=n(18),a=r(o),s=n(38),l=r(s),u=n(39),c=r(u),h=n(4),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),f=n(5),p=r(f),v=function(e){function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.$tabbox=p.default.render(l.default,{}),i.currentType="",i.typeNameMap={cookies:"Cookies",localstorage:"LocalStorage"},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"onRenderTab",value:function(e){e(this.$tabbox)}},{key:"onAddTopBar",value:function(e){for(var t=this,n=["Cookies","LocalStorage"],r=[],i=0;i<n.length;i++)r.push({name:n[i],data:{type:n[i].toLowerCase()},className:"",onClick:function(){return!p.default.hasClass(this,"vc-actived")&&(t.currentType=this.dataset.type,void t.renderStorage())}});r[0].className="vc-actived",e(r)}},{key:"onAddTool",value:function(e){var t=this,n=[{name:"Refresh",global:!1,onClick:function(e){t.renderStorage()}},{name:"Clear",global:!1,onClick:function(e){t.clearLog()}}];e(n)}},{key:"onReady",value:function(){}},{key:"onShow",value:function(){""==this.currentType&&(this.currentType="cookies",this.renderStorage())}},{key:"clearLog",value:function(){if(this.currentType&&window.confirm){var e=window.confirm("Remove all "+this.typeNameMap[this.currentType]+"?");if(!e)return!1}switch(this.currentType){case"cookies":this.clearCookieList();break;case"localstorage":this.clearLocalStorageList();break;default:return!1}this.renderStorage()}},{key:"renderStorage",value:function(){var e=[];switch(this.currentType){case"cookies":e=this.getCookieList();break;case"localstorage":e=this.getLocalStorageList();break;default:return!1}var t=p.default.one(".vc-log",this.$tabbox);if(0==e.length)t.innerHTML="";else{for(var n=0;n<e.length;n++)e[n].name=d.htmlEncode(e[n].name),e[n].value=d.htmlEncode(e[n].value);t.innerHTML=p.default.render(c.default,{list:e},!0)}}},{key:"getCookieList",value:function(){if(!document.cookie||!navigator.cookieEnabled)return[];for(var e=[],t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("="),i=r.shift().replace(/^ /,""),o=r.join("=");e.push({name:decodeURIComponent(i),value:decodeURIComponent(o)})}return e}},{key:"getLocalStorageList",value:function(){if(!window.localStorage)return[];try{for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t),r=localStorage.getItem(n);e.push({name:n,value:r})}return e}catch(e){return[]}}},{key:"clearCookieList",value:function(){if(document.cookie&&navigator.cookieEnabled){for(var e=this.getCookieList(),t=0;t<e.length;t++)document.cookie=e[t].name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";this.renderStorage()}}},{key:"clearLocalStorageList",value:function(){if(window.localStorage)try{localStorage.clear(),this.renderStorage()}catch(e){alert("localStorage.clear() fail.")}}}]),o}(a.default);t.default=v,e.exports=t.default},function(e,t){e.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(e,t){e.exports='<div>\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">Name</dd>\n    <dd class="vc-table-col vc-table-col-2">Value</dd>\n  </dl>\n  {{for (var i = 0; i < list.length; i++)}}\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">{{list[i].name}}</dd>\n    <dd class="vc-table-col vc-table-col-2">{{list[i].value}}</dd>\n  </dl>\n  {{/for}}\n</div>'}])}])});