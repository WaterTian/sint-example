/*!
 * @sint.js v0.0.12 (https://watertian.github.io/sint.js/) 
 * author:WaterTian
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Sint",[],t):"object"==typeof exports?exports.Sint=t():e.Sint=t()}(window,function(){return r={},i.m=n=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VERSION="0.0.11",t.PI_2=2*Math.PI,t.RAD_TO_DEG=180/Math.PI,t.DEG_TO_RAD=Math.PI/180,t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},t.SCALE_MODES={LINEAR:0,NEAREST:1},t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},t.GC_MODES={AUTO:0,MANUAL:1},t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},t.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Application=t.Filter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var r=n(0);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(4);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(31);Object.defineProperty(t,"Bounds",{enumerable:!0,get:function(){return L(o).default}});var s=n(32);Object.defineProperty(t,"DisplayObject",{enumerable:!0,get:function(){return L(s).default}});var a=n(13);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return L(a).default}});var u=n(34);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return L(u).default}});var l=n(33);Object.defineProperty(t,"TransformStatic",{enumerable:!0,get:function(){return L(l).default}});var h=n(19);Object.defineProperty(t,"TransformBase",{enumerable:!0,get:function(){return L(h).default}});var c=n(35);Object.defineProperty(t,"Sprite",{enumerable:!0,get:function(){return L(c).default}});var f=n(99);Object.defineProperty(t,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return L(f).default}});var d=n(41);Object.defineProperty(t,"CanvasTinter",{enumerable:!0,get:function(){return L(d).default}});var p=n(104);Object.defineProperty(t,"SpriteRenderer",{enumerable:!0,get:function(){return L(p).default}});var v=n(130);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return L(v).default}});var _=n(56);Object.defineProperty(t,"TextStyle",{enumerable:!0,get:function(){return L(_).default}});var y=n(57);Object.defineProperty(t,"TextMetrics",{enumerable:!0,get:function(){return L(y).default}});var m=n(132);Object.defineProperty(t,"Spritesheet",{enumerable:!0,get:function(){return L(m).default}});var g=n(8);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return L(g).default}});var b=n(52);Object.defineProperty(t,"TextureMatrix",{enumerable:!0,get:function(){return L(b).default}});var x=n(9);Object.defineProperty(t,"BaseTexture",{enumerable:!0,get:function(){return L(x).default}});var T=n(39);Object.defineProperty(t,"RenderTexture",{enumerable:!0,get:function(){return L(T).default}});var w=n(26);Object.defineProperty(t,"Shader",{enumerable:!0,get:function(){return L(w).default}});var E=n(10);Object.defineProperty(t,"WebGLManager",{enumerable:!0,get:function(){return L(E).default}});var O=n(23);Object.defineProperty(t,"ObjectRenderer",{enumerable:!0,get:function(){return L(O).default}});var S=n(14);Object.defineProperty(t,"RenderTarget",{enumerable:!0,get:function(){return L(S).default}});var P=n(53);Object.defineProperty(t,"Quad",{enumerable:!0,get:function(){return L(P).default}});var M=n(42);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return L(M).default}});var k=n(58);Object.defineProperty(t,"Application",{enumerable:!0,get:function(){return L(k).default}});var C=I(n(3)),A=I(n(21)),D=L(n(2)),R=L(n(22)),n=L(n(24));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}t.settings=D.default,t.utils=C,t.ticker=A,t.CanvasRenderer=R.default,t.WebGLRenderer=n.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(83)),n=i(n(84));function i(e){return e&&e.__esModule?e:{default:e}}t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,n.default)(),MESH_CANVAS_PADDING:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=void 0,t.uid=function(){return++h},t.hex2rgb=function(e,t){return(t=t||[])[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),"#"+(e="000000".substr(0,6-e.length)+e)},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},t.getResolutionOfUrl=function(e,t){e=i.default.RETINA_PREFIX.exec(e);if(e)return parseFloat(e[1]);return void 0!==t?t:1},t.decomposeDataUri=function(e){e=r.DATA_URI.exec(e);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]};return},t.getUrlFileExtension=function(e){e=r.URL_FILE_EXTENSION.exec(e);if(e)return e[1].toLowerCase();return},t.getSvgSize=function(e){var t=r.SVG_SIZE.exec(e),e={};t&&(e[t[1]]=Math.round(parseFloat(t[3])),e[t[5]]=Math.round(parseFloat(t[7])));return e},t.skipHello=function(){c=!0},t.sayHello=function(e){var t;c||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(t=["\n %c %c %c SINTJS "+r.VERSION+" - ✰ "+e+" ✰  %c  %c  http://www.sintlib.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],window.console.log.apply(console,t)):window.console&&window.console.log("SINTJS "+r.VERSION+" - "+e+" - http://www.sintlib.com/"),c=!0)},t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t,n=document.createElement("canvas"),r=n.getContext("webgl",e)||n.getContext("experimental-webgl",e),i=!(!r||!r.getContextAttributes().stencil);return!r||(t=r.getExtension("WEBGL_lose_context"))&&t.loseContext(),r=null,i}catch(e){return!1}},t.sign=function(e){return 0===e?0:e<0?-1:1},t.destroyTextureCache=function(){var e=void 0;for(e in f)f[e].destroy();for(e in d)d[e].destroy()},t.clearTextureCache=function(){var e=void 0;for(e in f)delete f[e];for(e in d)delete d[e]},t.correctBlendMode=function(e,t){return p[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,e=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(e=e*t+.5|0)},t.premultiplyRgba=function(e,t,n,r){n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]);return n[3]=t,n},t.premultiplyTintToRgba=function(e,t,n,r){(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,!r&&void 0!==r||(n[0]*=t,n[1]*=t,n[2]*=t);return n[3]=t,n};var r=n(0),i=l(n(2)),o=l(n(5)),s=l(n(85)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(86)),u=l(n(87)),n=l(n(88));function l(e){return e&&e.__esModule?e:{default:e}}var h=0,c=!1;t.removeItems=u.default,t.EventEmitter=o.default,t.pluginTarget=s.default,t.mixins=a;var f=t.TextureCache=Object.create(null),d=t.BaseTextureCache=Object.create(null);var p=t.premultiplyBlendMode=(0,n.default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return f(r).default}});var i=n(78);Object.defineProperty(t,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=n(17);Object.defineProperty(t,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=n(30);Object.defineProperty(t,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=n(79);Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=n(80);Object.defineProperty(t,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var l=n(81);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return f(l).default}});var h=n(18);Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return f(h).default}});var c=n(82);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,d="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");i=new o(n,r||e,i),t=d?d+t:t;return e._events[t]?e._events[t].fn?e._events[t]=[e._events[t],i]:e._events[t].push(i):(e._events[t]=i,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(d=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(d?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=this._events[d?d+e:e];if(!t)return[];if(t.fn)return[t.fn];for(var n=0,r=t.length,i=new Array(r);n<r;n++)i[n]=t[n].fn;return i},a.prototype.listenerCount=function(e){e=this._events[d?d+e:e];return e?e.fn?1:e.length:0},a.prototype.emit=function(e,t,n,r,i,o){var s=d?d+e:e;if(!this._events[s])return!1;var a,u=this._events[s],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(f=1,a=new Array(l-1);f<l;f++)a[f-1]=arguments[f];u.fn.apply(u.context,a)}else for(var h,c=u.length,f=0;f<c;f++)switch(u[f].once&&this.removeListener(e,u[f].fn,void 0,!0),l){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,t);break;case 3:u[f].fn.call(u[f].context,t,n);break;case 4:u[f].fn.call(u[f].context,t,n,r);break;default:if(!a)for(h=1,a=new Array(l-1);h<l;h++)a[h-1]=arguments[h];u[f].fn.apply(u[f].context,a)}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){e=d?d+e:e;if(!this._events[e])return this;if(!t)return u(this,e),this;var i=this._events[e];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,e);else{for(var o=0,s=[],a=i.length;o<a;o++)(i[o].fn!==t||r&&!i[o].once||n&&i[o].context!==n)&&s.push(i[o]);s.length?this._events[e]=1===s.length?s[0]:s:u(this,e)}return this},a.prototype.removeAllListeners=function(e){return e?this._events[e=d?d+e:e]&&u(this,e):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=d,e.exports=a.EventEmitter=a},function(e,t,n){n={createContext:n(108),setVertexAttribArrays:n(43),GLBuffer:n(109),GLFramebuffer:n(110),GLShader:n(111),GLTexture:n(44),VertexArrayObject:n(112),shader:n(113)};e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=f(n(9)),s=f(n(95)),a=f(n(98)),u=f(n(5)),l=n(4),h=n(3),c=f(n(2));function f(e){return e&&e.__esModule?e:{default:e}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,u.default),r(p,[{key:"update",value:function(){this.baseTexture.update()}},{key:"onBaseTextureLoaded",value:function(e){this._updateID++,this.noFrame?this.frame=new l.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)}},{key:"onBaseTextureUpdated",value:function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)}},{key:"destroy",value:function(e){this.baseTexture&&(e&&(h.TextureCache[this.baseTexture.imageUrl]&&p.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,p.removeFromCache(this),this.textureCacheIds=null}},{key:"clone",value:function(){return new p(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)}},{key:"_updateUvs",value:function(){this._uvs||(this._uvs=new a.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,s=n+i>this.baseTexture.height;if(o||s){t="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,n="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+t+" "+(o&&s?"and":"or")+" "+n)}this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}],[{key:"fromImage",value:function(e,t,n,r){var i=h.TextureCache[e];return i||(i=new p(o.default.fromImage(e,t,n,r)),p.addToCache(i,e)),i}},{key:"fromFrame",value:function(e){var t=h.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t}},{key:"fromCanvas",value:function(e,t){return new p(o.default.fromCanvas(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas"))}},{key:"fromVideo",value:function(e,t,n,r){return"string"==typeof e?p.fromVideoUrl(e,t,n,r):new p(s.default.fromVideo(e,t,r))}},{key:"fromVideoUrl",value:function(e,t,n,r){return new p(s.default.fromUrl(e,t,n,r))}},{key:"from",value:function(e){if("string"!=typeof e)return e instanceof HTMLImageElement?new p(o.default.from(e)):e instanceof HTMLCanvasElement?p.fromCanvas(e,c.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?p.fromVideo(e):e instanceof o.default?new p(e):e;var t=h.TextureCache[e];return t||(null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?p.fromVideoUrl(e):p.fromImage(e))}},{key:"fromLoader",value:function(e,t,n){var r=new o.default(e,void 0,(0,h.getResolutionOfUrl)(t)),e=new p(r);return r.imageUrl=t,o.default.addToCache(e.baseTexture,n=n||t),p.addToCache(e,n),n!==t&&(o.default.addToCache(e.baseTexture,t),p.addToCache(e,t)),e}},{key:"addToCache",value:function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),h.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),h.TextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=h.TextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return-1<n&&t.textureCacheIds.splice(n,1),delete h.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)h.TextureCache[e.textureCacheIds[r]]===e&&delete h.TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),p);function p(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));if(s.noFrame=!1,t||(s.noFrame=!0,t=new l.Rectangle(0,0,1,1)),e instanceof p&&(e=e.baseTexture),s.baseTexture=e,s._frame=t,s.trim=r,s.valid=!1,s.requiresUpdate=!1,s._uvs=null,s.orig=n||t,s._rotate=Number(i||0),!0===i)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return e.hasLoaded?(s.noFrame&&(t=new l.Rectangle(0,0,e.width,e.height),e.on("update",s.onBaseTextureUpdated,s)),s.frame=t):e.once("loaded",s.onBaseTextureLoaded,s),s.defaultAnchor=o?new l.Point(o.x,o.y):new l.Point(0,0),s._updateID=0,s.transform=null,s.textureCacheIds=[],s}function v(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}(t.default=d).EMPTY=new d(new o.default),v(d.EMPTY),v(d.EMPTY.baseTexture),d.WHITE=function(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new d(new o.default(e))}(),v(d.WHITE),v(d.WHITE.baseTexture)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(3),o=h(n(2)),a=h(n(5)),u=h(n(36)),l=h(n(20));function h(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,a.default),r(c,[{key:"update",value:function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)}},{key:"_updateDimensions",value:function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=l.default.isPow2(this.realWidth)&&l.default.isPow2(this.realHeight)}},{key:"loadSource",value:function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var n,r=!this.source;((this.source=e).src&&e.complete||e.getContext)&&e.width&&e.height?(this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this)):e.getContext||(this.isLoading=!0,n=this,e.onload=function(){n._updateImageType(),e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},e.complete&&e.src&&(e.onload=null,e.onerror=null,"svg"!==n.imageType?(this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)):n._loadSvgSource()))}},{key:"_updateImageType",value:function(){if(this.imageUrl){var e=(0,s.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&"image"===e.mediaType){e=e.subType.split("+")[0];if(!(t=(0,s.getUrlFileExtension)("."+e)))throw new Error("Invalid image type in data URI.")}else t=(t=(0,s.getUrlFileExtension)(this.imageUrl))||"png";this.imageType=t}}},{key:"_loadSvgSource",value:function(){var e;"svg"===this.imageType&&((e=(0,s.decomposeDataUri)(this.imageUrl))?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr())}},{key:"_loadSvgSourceUsingDataUri",value:function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)}},{key:"_loadSvgSourceUsingXhr",value:function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()}},{key:"_loadSvgSourceUsingString",value:function(e){var t=(0,s.getSvgSize)(e),n=t.width,e=t.height;if(!n||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(e*this.sourceScale),this._updateDimensions();t=document.createElement("canvas");t.width=this.realWidth,t.height=this.realHeight,t._SINTId="canvas_"+(0,s.uid)(),t.getContext("2d").drawImage(this.source,0,0,n,e,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=t,c.addToCache(this,t._SINTId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)}},{key:"_sourceLoaded",value:function(){this.hasLoaded=!0,this.update()}},{key:"destroy",value:function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),c.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"updateSourceImage",value:function(e){this.source.src=e,this.loadSource(this.source)}}],[{key:"fromImage",value:function(e,t,n,r){var i,o=s.BaseTextureCache[e];return o||(i=new Image,void 0===t&&0!==e.indexOf("data:")?i.crossOrigin=(0,u.default)(e):t&&(i.crossOrigin="string"==typeof t?t:"anonymous"),(o=new c(i,n)).imageUrl=e,r&&(o.sourceScale=r),o.resolution=(0,s.getResolutionOfUrl)(e),i.src=e,c.addToCache(o,e)),o}},{key:"fromCanvas",value:function(e,t){e._SINTId||(e._SINTId=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas")+"_"+(0,s.uid)());var n=s.BaseTextureCache[e._SINTId];return n||(n=new c(e,t),c.addToCache(n,e._SINTId)),n}},{key:"from",value:function(e,t,n){if("string"==typeof e)return c.fromImage(e,void 0,t,n);if(e instanceof HTMLImageElement){var r=e.src,i=s.BaseTextureCache[r];return i||((i=new c(e,t)).imageUrl=r,n&&(i.sourceScale=n),i.resolution=(0,s.getResolutionOfUrl)(r),c.addToCache(i,r)),i}return e instanceof HTMLCanvasElement?c.fromCanvas(e,t):e}},{key:"addToCache",value:function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),s.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),s.BaseTextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=s.BaseTextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return-1<n&&t.textureCacheIds.splice(n,1),delete s.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete s.BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),r=c;function c(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return r.uid=(0,s.uid)(),r.touched=0,r.resolution=n||o.default.RESOLUTION,r.width=100,r.height=100,r.realWidth=100,r.realHeight=100,r.scaleMode=void 0!==t?t:o.default.SCALE_MODE,r.hasLoaded=!1,r.isLoading=!1,r.source=null,r.origSource=null,r.imageType=null,r.sourceScale=1,r.premultipliedAlpha=!0,r.imageUrl=null,r.isPowerOfTwo=!1,r.mipmap=o.default.MIPMAP_TEXTURES,r.wrapMode=o.default.WRAP_MODE,r._glTextures={},r._enabled=0,r._virtalBoundId=-1,r._destroyed=!1,r.textureCacheIds=[],e&&r.loadSource(e),r}t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"onContextChange",value:function(){}},{key:"destroy",value:function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}t.default=i},function(e,t,n){"use strict";var r=n(134).Loader,i=n(28).Resource,o=n(63),n=n(64);r.Resource=i,r.async=o,r.encodeBinary=n,r.base64=n,e.exports=r,e.exports.Loader=r,e.exports.default=r},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s,a=n(3),u=n(32);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,((s=u)&&s.__esModule?s:{default:s}).default),r(l,[{key:"onChildrenChange",value:function(){}},{key:"addChild",value:function(e){var t=arguments.length;if(1<t)for(var n=0;n<t;n++)this.addChild(arguments[n]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e}},{key:"swapChildren",value:function(e,t){var n,r;e!==t&&(n=this.getChildIndex(e),r=this.getChildIndex(t),this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r))}},{key:"getChildIndex",value:function(e){e=this.children.indexOf(e);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);(0,a.removeItems)(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]}},{key:"removeChild",value:function(e){var t=arguments.length;if(1<t)for(var n=0;n<t;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this)}return e}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),t}},{key:"removeChildren",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n="number"==typeof t?t:this.children.length,t=n-e,r=void 0;if(0<t&&t<=n){for(var r=this.children.splice(e,t),i=0;i<r.length;++i)r[i].parent=null,r[i].transform&&(r[i].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var o=0;o<r.length;++o)r[o].emit("removed",this);return r}if(0==t&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID}},{key:"_calculateBounds",value:function(){}},{key:"renderWebGL",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderWebGL(e)}}},{key:"renderAdvancedWebGL",value:function(e){e.flush();var t=this._filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}n&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(e);e.flush(),n&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()}},{key:"_renderWebGL",value:function(e){}},{key:"_renderCanvas",value:function(e){}},{key:"renderCanvas",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}}},{key:"destroy",value:function(e){o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"destroy",this).call(this);var t="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var r=0;r<n.length;++r)n[r].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),r=l;function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.children=[],e}(t.default=r).prototype.containerUpdateTransform=r.prototype.updateTransform},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(4),a=n(0),u=n(2),l=(o=u)&&o.__esModule?o:{default:o},h=n(6);r(c,[{key:"clear",value:function(e){e=e||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])}},{key:"attachStencilBuffer",value:function(){this.root||this.frameBuffer.enableStencil()}},{key:"setFrame",value:function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame}},{key:"activate",value:function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}},{key:"calculateProjection",value:function(e,t){var n=this.projectionMatrix;t=t||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-t.x*n.a,n.ty=1-t.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-t.x*n.a,n.ty=-1-t.y*n.d)}},{key:"resize",value:function(e,t){t|=0,this.size.width===(e|=0)&&this.size.height===t||(this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution),t=this.frame||this.size,this.calculateProjection(t))}},{key:"destroy",value:function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null}}]),r=c;function c(e,t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new s.Rectangle(0,0,1,1),this.resolution=i||l.default.RESOLUTION,this.projectionMatrix=new s.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new s.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==r?r:l.default.SCALE_MODE,this.root=o||!1,this.root?(this.frameBuffer=new h.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=h.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===a.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(t,n)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!!window.Audio,i=window.AudioContext||window.webkitAudioContext,o=!!i,s=o||r,a=o?new i:null;t.default={isHTMLAudioSupported:r,webAudioContext:i,isWebAudioSupported:o,isAudioSupported:s,globalWebAudioContext:a,createGainNode:null,exts:["mp3","ogg","oga","opus","mpeg","wav","m4a","mp4"]}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"clone",value:function(){return new o(this.x,this.y)}},{key:"copy",value:function(e){this.set(e.x,e.y)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)}}]),o);function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.x=e,this.y=t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(16),a=(o=s)&&o.__esModule?o:{default:o},u=n(0);r(l,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this}},{key:"toArray",value:function(e,t){this.array||(this.array=new Float32Array(9));t=t||this.array;return e?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0),t[8]=1,t}},{key:"apply",value:function(e,t){t=t||new a.default;var n=e.x,e=e.y;return t.x=this.a*n+this.c*e+this.tx,t.y=this.b*n+this.d*e+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new a.default;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,e=e.y;return t.x=this.d*n*r+-this.c*n*e+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*e+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,e=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=e*t-this.ty*n,this.ty=e*n+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}},{key:"setTransform",value:function(e,t,n,r,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}},{key:"prepend",value:function(e){var t,n,r=this.tx;return 1===e.a&&0===e.b&&0===e.c&&1===e.d||(t=this.a,n=this.c,this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d),this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),s=Math.atan2(n,t),a=Math.abs(o+s);return a<1e-5||Math.abs(u.PI_2-a)<1e-5?(e.rotation=s,t<0&&0<=i&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx,e.position.y=this.ty,e}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var e=new l;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copy",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}}],[{key:"IDENTITY",get:function(){return new l}},{key:"TEMP_MATRIX",get:function(){return new l}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this.array=null}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0);r(s,[{key:"clone",value:function(){return new s(this.x,this.y,this.width,this.height)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}},{key:"pad",value:function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t}},{key:"fit",value:function(e){this.x<e.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,this.height<0&&(this.height=0))}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),e=Math.max(this.y+this.height,e.y+e.height);this.x=t,this.width=n-t,this.y=r,this.height=e-r}},{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new s(0,0,0,0)}}]),r=s;function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=o.SHAPES.RECT}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(4);r(s,[{key:"updateLocalTransform",value:function(){}},{key:"updateTransform",value:function(e){var t=e.worldTransform,n=this.worldTransform,e=this.localTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._worldID++}}]),r=s;function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.worldTransform=new o.Matrix,this.localTransform=new o.Matrix,this._worldID=0,this._parentID=0}(t.default=r).prototype.updateWorldTransform=r.prototype.updateTransform,r.IDENTITY=new r},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&--t,t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(0<e)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n=(65535<e)<<4;return n|=t=(255<(e>>>=n))<<3,n|=t=(15<(e>>>=t))<<2,(n|=t=(3<(e>>>=t))<<1)|(e>>>=t)>>1},t.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return 1+t|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=t.shared=void 0;var r,i=n(96),o=(r=i)&&r.__esModule?r:{default:r};n=new o.default;n.autoStart=!0,n.destroy=function(){},t.shared=n,t.Ticker=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=d(n(38)),a=d(n(101)),u=d(n(102)),l=d(n(103)),h=n(3),c=n(0),f=d(n(2));function d(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(p,s.default),r(p,[{key:"render",value:function(e,t,n,r,i){var o,s;this.view&&(this.renderingToScreen=!t,this.emit("prerender"),o=this.resolution,t?((t=t.baseTexture||t)._canvasRenderTarget||(t._canvasRenderTarget=new u.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext,s=this.context,t||(this._lastObjectRendered=e),i||(t=e.parent,i=this._tempDisplayObjectParent.transform.worldTransform,r?(r.copy(i),this._tempDisplayObjectParent.transform._worldID=-1):i.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t),s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=c.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height))),n=this.context,this.context=s,e.renderCanvas(this),this.context=n,s.restore(),this.resolution=o,this.emit("postrender"))}},{key:"clear",value:function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)}},{key:"setBlendMode",value:function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])}},{key:"destroy",value:function(e){this.destroyPlugins(),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"destroy",this).call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null}},{key:"resize",value:function(e,t){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"resize",this).call(this,e,t),this.smoothProperty&&(this.rootContext[this.smoothProperty]=f.default.SCALE_MODE===c.SCALE_MODES.LINEAR)}},{key:"invalidateBlendMode",value:function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)}}]),r=p;function p(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,"Canvas",e,t,n));return n.type=c.RENDERER_TYPE.CANVAS,n.rootContext=n.view.getContext("2d",{alpha:n.transparent}),n.context=n.rootContext,n.refresh=!0,n.maskManager=new a.default(n),n.smoothProperty="imageSmoothingEnabled",n.rootContext.imageSmoothingEnabled||(n.rootContext.webkitImageSmoothingEnabled?n.smoothProperty="webkitImageSmoothingEnabled":n.rootContext.mozImageSmoothingEnabled?n.smoothProperty="mozImageSmoothingEnabled":n.rootContext.oImageSmoothingEnabled?n.smoothProperty="oImageSmoothingEnabled":n.rootContext.msImageSmoothingEnabled&&(n.smoothProperty="msImageSmoothingEnabled")),n.initPlugins(),n.blendModes=(0,l.default)(),n._activeBlendMode=null,n.renderingToScreen=!1,n.resize(n.options.width,n.options.height),n}t.default=r,h.pluginTarget.mixin(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(10);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,((o=s)&&o.__esModule?o:{default:o}).default),r(a,[{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"flush",value:function(){}},{key:"render",value:function(e){}}]),r=a;function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=x(n(38)),a=x(n(105)),u=x(n(116)),l=x(n(117)),h=x(n(14)),c=x(n(23)),f=x(n(119)),d=x(n(9)),p=x(n(120)),v=x(n(121)),_=x(n(123)),y=x(n(124)),m=n(3),g=x(n(6)),b=n(0);function x(e){return e&&e.__esModule?e:{default:e}}var T=0,r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(w,s.default),r(w,[{key:"_initContext",value:function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this.textureManager=new f.default(this),this.filterManager=new l.default(this),this.textureGC=new p.default(this),this.state.resetToDefault(),this.rootRenderTarget=new h.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new g.default.GLTexture.fromData(e,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<t;i++){var o=new d.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)}},{key:"render",value:function(e,t,n,r,i){this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),i||(i=e.parent,e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=i),this.bindRenderTexture(t,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))}},{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"resize",value:function(e,t){s.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))}},{key:"setBlendMode",value:function(e){this.state.setBlendMode(e)}},{key:"clear",value:function(e){this._activeRenderTarget.clear(e)}},{key:"setTransform",value:function(e){this._activeRenderTarget.transform=e}},{key:"clearRenderTexture",value:function(e,t){e=e.baseTexture._glRenderTargets[this.CONTEXT_UID];return e&&e.clear(t),this}},{key:"bindRenderTexture",value:function(e,t){var n,r=void 0;return e?((n=e.baseTexture)._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)):r=this.rootRenderTarget,r.transform=t,this.bindRenderTarget(r),this}},{key:"bindRenderTarget",value:function(e){return e!==this._activeRenderTarget&&((this._activeRenderTarget=e).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this}},{key:"bindShader",value:function(e,t){return this._activeShader!==e&&((this._activeShader=e).bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this}},{key:"bindTexture",value:function(e,t,n){if((e=(e=e||this.emptyTextures[t]).baseTexture||e).touched=this.textureGC.count,n)t=t||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===e)return r;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,n=e._glTextures[this.CONTEXT_UID];return n?(this.boundTextures[t]=e,i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,n.texture)):this.textureManager.updateTexture(e,t),t}},{key:"unbindTexture",value:function(e){var t=this.gl;e=e.baseTexture||e;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===e&&(this.boundTextures[n]=this.emptyTextures[n],t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this}},{key:"createVao",value:function(){return new g.default.VertexArrayObject(this.gl,this.state.attribState)}},{key:"bindVao",value:function(e){return this._activeVao===e||(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e),this}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this}},{key:"handleContextLost",value:function(e){e.preventDefault()}},{key:"handleContextRestored",value:function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()}},{key:"destroy",value:function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"destroy",this).call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null}}]),w);function w(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w);n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,"WebGL",e,t,n));return n.legacy=n.options.legacy,n.legacy&&(g.default.VertexArrayObject.FORCE_NATIVE=!0),n.type=b.RENDERER_TYPE.WEBGL,n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),n.view.addEventListener("webglcontextlost",n.handleContextLost,!1),n.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n._contextOptions={alpha:n.transparent,antialias:n.options.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:n.options.preserveDrawingBuffer,powerPreference:n.options.powerPreference},n._backgroundColorRgba[3]=n.transparent?0:1,n.maskManager=new a.default(n),n.stencilManager=new u.default(n),n.emptyRenderer=new c.default(n),n.currentRenderer=n.emptyRenderer,n.textureManager=null,n.filterManager=null,n.initPlugins(),n.options.context&&(0,y.default)(n.options.context),n.gl=n.options.context||g.default.createContext(n.view,n._contextOptions),n.CONTEXT_UID=T++,n.state=new v.default(n.gl),n.renderingToScreen=!0,n.boundTextures=null,n._activeShader=null,n._activeVao=null,n._activeRenderTarget=null,n._initContext(),n.drawModes=(0,_.default)(n.gl),n._nextTextureLocation=0,n.setBlendMode(0),n}t.default=r,m.pluginTarget.mixin(r)},function(e,t){var o=null,s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(e,t){if(!o){var n=Object.keys(s);o={};for(var r=0;r<n.length;++r){var i=n[r];o[e[i]]=s[i]}}return o[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=n(2),s=(r=o)&&r.__esModule?r:{default:r};function a(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var n=e.slice(0);return n.unshift("precision "+t+" float;"),n}}else if("precision"!==e.trim().substring(0,9))return"precision "+t+" float;\n"+e;return e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,i.GLShader),i=u;function u(e,t,n,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e,a(t,i||s.default.PRECISION_VERTEX),a(n,i||s.default.PRECISION_FRAGMENT),void 0,r))}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var r=n(60);Object.defineProperty(t,"bitmapFontParser",{enumerable:!0,get:function(){return l(r).default}}),Object.defineProperty(t,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var i=n(65);Object.defineProperty(t,"spritesheetParser",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(t,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(66);Object.defineProperty(t,"textureParser",{enumerable:!0,get:function(){return l(o).default}});var s=n(11);Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=l(n(58)),u=l(n(135));function l(e){return e&&e.__esModule?e:{default:e}}t.Loader=u.default;var h=new u.default;h.destroy=function(){},t.shared=h;a=a.default.prototype;a._loader=null,Object.defineProperty(a,"loader",{get:function(){var e;return this._loader||(e=this._options.sharedLoader,this._loader=e?h:new u.default),this._loader}}),a._parentDestroy=a.destroy,a.destroy=function(e,t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.Resource=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(62)),s=a(n(61));function a(e){return e&&e.__esModule?e:{default:e}}var u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;function h(){}r=t.Resource=(c.setExtensionLoadType=function(e,t){f(c._loadTypeMap,e,t)},c.setExtensionXhrType=function(e,t){f(c._xhrTypeMap,e,t)},c.prototype.complete=function(){this._clearEvents(),this._finish()},c.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=c.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},c.prototype.load=function(e){var t=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(t)},1);else switch(e&&this.onComplete.once(e),this._setFlag(c.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case c.LOAD_TYPE.IMAGE:this.type=c.TYPE.IMAGE,this._loadElement("image");break;case c.LOAD_TYPE.AUDIO:this.type=c.TYPE.AUDIO,this._loadSourceElement("audio");break;case c.LOAD_TYPE.VIDEO:this.type=c.TYPE.VIDEO,this._loadSourceElement("video");break;case c.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},c.prototype._hasFlag=function(e){return 0!=(this._flags&e)},c.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},c.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},c.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(c.STATUS_FLAGS.COMPLETE,!0),this._setFlag(c.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},c.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},c.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},c.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===c.XHR_RESPONSE_TYPE.JSON||this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=c.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},c.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},c.prototype._createSource=function(e,t,n){n=n||e+"/"+this._getExtension(t);e=document.createElement("source");return e.src=t,e.type=n,e},c.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},c.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},c.prototype._onTimeout=function(){this.abort("Load timed out.")},c.prototype._xhrOnError=function(){var e=this.xhr;this.abort(d(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},c.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(d(e)+" Request timed out.")},c.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(d(e)+" Request was aborted by the user.")},c.prototype._xhrOnLoad=function(){var e,t,n=this.xhr,r="",i=void 0===n.status?200:n.status;if(""!==n.responseType&&"text"!==n.responseType&&void 0!==n.responseType||(r=n.responseText),0===i&&(0<r.length||n.responseType===c.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===c.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=c.TYPE.TEXT;else if(this.xhrType===c.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=c.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(e=new DOMParser,this.data=e.parseFromString(r,"text/xml")):((t=document.createElement("div")).innerHTML=r,this.data=t),this.type=c.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=n.response||r;this.complete()}else this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL)},c.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,(l=l||document.createElement("a")).href=e;var n=!(e=(0,o.default)(l.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&r===t.protocol?"":"anonymous"},c.prototype._determineXhrType=function(){return c._xhrTypeMap[this.extension]||c.XHR_RESPONSE_TYPE.TEXT},c.prototype._determineLoadType=function(){return c._loadTypeMap[this.extension]||c.LOAD_TYPE.XHR},c.prototype._getExtension=function(){var e,t,n=this.url;return(this.isDataUrl?(t=n.indexOf("/"),n.substring(t+1,n.indexOf(";",t))):(e=n.indexOf("?"),t=n.indexOf("#"),t=Math.min(-1<e?e:n.length,-1<t?t:n.length),(n=n.substring(0,t)).substring(n.lastIndexOf(".")+1))).toLowerCase()},c.prototype._getMimeFromXhrType=function(e){switch(e){case c.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case c.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case c.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case c.XHR_RESPONSE_TYPE.JSON:return"application/json";case c.XHR_RESPONSE_TYPE.DEFAULT:case c.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(c,[{key:"isDataUrl",get:function(){return this._hasFlag(c.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(c.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(c.STATUS_FLAGS.LOADING)}}]),c);function c(e,t,n){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(c.STATUS_FLAGS.DATA_URL,0===t.indexOf("data:")),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=c.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new s.default,this.onProgress=new s.default,this.onComplete=new s.default,this.onAfterMiddleware=new s.default}function f(e,t,n){(t=t&&0===t.indexOf(".")?t.substring(1):t)&&(e[t]=n)}function d(e){return e.toString().replace("object ","")}r.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},r.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,svg:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE,mp3:r.LOAD_TYPE.AUDIO,ogg:r.LOAD_TYPE.AUDIO,wav:r.LOAD_TYPE.AUDIO,mp4:r.LOAD_TYPE.VIDEO,webm:r.LOAD_TYPE.VIDEO},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT,ttf:r.XHR_RESPONSE_TYPE.BUFFER,otf:r.XHR_RESPONSE_TYPE.BUFFER},r.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.exports.default=r},function(oe,se,e){!function(e){var ie;!function(c,f){"use strict";var d={},p=c.document,v=c.GreenSockGlobals=c.GreenSockGlobals||c;if(v.TweenLite)return v.TweenLite;function _(e){for(var t=e.split("."),n=v,r=0;r<t.length;r++)n[t[r]]=n=n[t[r]]||{};return n}function a(e){for(var t=[],n=e.length,r=0;r!==n;t.push(e[r++]));return t}function y(){}var m,t,n,g=_("com.greensock"),b=1e-10,x=(t=Object.prototype.toString,n=t.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&t.call(e)===n)}),T={},w=function(a,u,l,h){this.sc=T[a]?T[a].sc:[],(T[a]=this).gsClass=null,this.func=l;var c=[];this.check=function(e){for(var t,n,r,i,o=u.length,s=o;-1<--o;)(t=T[u[o]]||new w(u[o],[])).gsClass?(c[o]=t.gsClass,s--):e&&t.sc.push(this);if(0===s&&l){if(r=(n=("com.greensock."+a).split(".")).pop(),i=_(n.join("."))[r]=this.gsClass=l.apply(l,c),h)if(v[r]=d[r]=i,oe.exports)if(a===f)for(o in oe.exports=d[f]=i,d)i[o]=d[o];else d[f]&&(d[f][r]=i);else void 0===(ie=function(){return i}.apply(se,[]))||(oe.exports=ie);for(o=0;o<this.sc.length;o++)this.sc[o].check()}},this.check(!0)},r=c._gsDefine=function(e,t,n,r){return new w(e,t,n,r)},E=g._class=function(e,t,n){return t=t||function(){},r(e,[],function(){return t},n),t};r.globals=v;var e,i=[0,0,1,1],O=E("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?i.concat(t):i},!0),S=O.map={},o=O.register=function(e,t,n,r){for(var i,o,s,a,u=t.split(","),l=u.length,h=(n||"easeIn,easeOut,easeInOut").split(",");-1<--l;)for(o=u[l],i=r?E("easing."+o,null,!0):g.easing[o]||{},s=h.length;-1<--s;)a=h[s],S[o+"."+a]=S[a+o]=i[a]=e.getRatio?e:e[a]||new e};for((e=O.prototype)._calcEnd=!1,e.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},u=(s=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--u;)e=s[u]+",Power"+u,o(new O(null,null,1,u),e,"easeOut",!0),o(new O(null,null,2,u),e,"easeIn"+(0===u?",easeNone":"")),o(new O(null,null,3,u),e,"easeInOut");S.linear=g.easing.Linear.easeIn,S.swing=g.easing.Quad.easeInOut;var P=E("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(e=P.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,s,a=this._listeners[e],u=0;for(this!==D||m||D.wake(),null==a&&(this._listeners[e]=a=[]),s=a.length;-1<--s;)(o=a[s]).c===t&&o.s===n?a.splice(s,1):0===u&&o.pr<i&&(u=s+1);a.splice(u,0,{c:t,s:n,up:r,pr:i})},e.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;-1<--n;)if(r[n].c===t)return void r.splice(n,1)},e.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for(1<(t=i.length)&&(i=i.slice(0)),n=this._eventTarget;-1<--t;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};for(var s,M=c.requestAnimationFrame,k=c.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},A=C(),u=(s=["ms","moz","webkit","o"]).length;-1<--u&&!M;)M=c[s[u]+"RequestAnimationFrame"],k=c[s[u]+"CancelAnimationFrame"]||c[s[u]+"CancelRequestAnimationFrame"];E("Ticker",function(e,t){var r,i,o,s,a,u=this,l=C(),n=!(!1===t||!M)&&"auto",h=500,c=33,f=function(e){var t,n=C()-A;h<n&&(l+=n-c),A+=n,u.time=(A-l)/1e3,n=u.time-a,(!r||0<n||!0===e)&&(u.frame++,a+=n+(s<=n?.004:s-n),t=!0),!0!==e&&(o=i(f)),t&&u.dispatchEvent("tick")};P.call(u),u.time=u.frame=0,u.tick=function(){f(!0)},u.lagSmoothing=function(e,t){if(!arguments.length)return h<1e10;h=e||1e10,c=Math.min(t,h,0)},u.sleep=function(){null!=o&&((n&&k?k:clearTimeout)(o),i=y,o=null,u===D&&(m=!1))},u.wake=function(e){null!==o?u.sleep():e?l+=-A+(A=C()):10<u.frame&&(A=C()-h+5),i=0===r?y:n&&M?M:function(e){return setTimeout(e,1e3*(a-u.time)+1|0)},u===D&&(m=!0),f(2)},u.fps=function(e){if(!arguments.length)return r;s=1/((r=e)||60),a=this.time+s,u.wake()},u.useRAF=function(e){if(!arguments.length)return n;u.sleep(),n=e,u.fps(r)},u.fps(e),setTimeout(function(){"auto"===n&&u.frame<5&&"hidden"!==(p||{}).visibilityState&&u.useRAF(!1)},1500)}),(e=g.Ticker.prototype=new g.events.EventDispatcher).constructor=g.Ticker;var l=E("core.Animation",function(e,t){this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,J&&(m||D.wake(),(t=this.vars.useFrames?K:J).add(this,t._time),this.vars.paused&&this.paused(!0))}),D=l.ticker=new g.Ticker;(e=l.prototype)._dirty=e._gc=e._initted=e._paused=!1,e._totalTime=e._time=0,e._rawPrevTime=-1,e._next=e._last=e._onUpdate=e._timeline=e.timeline=null,e._paused=!1;var h=function(){m&&2e3<C()-A&&("hidden"!==(p||{}).visibilityState||!D.lagSmoothing())&&D.wake();var e=setTimeout(h,2e3);e.unref&&e.unref()};h(),e.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},e.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},e.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},e.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},e.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},e.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},e.render=function(e,t,n){},e.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},e.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},e._enabled=function(e,t){return m||D.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},e._kill=function(e,t){return this._enabled(!1,!1)},e.kill=function(e,t){return this._kill(e,t),this},e._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},e._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();-1<--t;)"{self}"===e[t]&&(n[t]=this);return n},e._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},e.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=x(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},e.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},e.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},e.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},e.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},e.totalTime=function(e,t,n){if(m||D.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(r<e&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(B.length&&Z(),this.render(e,t,!1),B.length&&Z())}return this},e.progress=e.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},e.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},e.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},e.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||b,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},e.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},e.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(m||e||D.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!=n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var R=E("core.SimpleTimeline",function(e){l.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(e=R.prototype=new l).constructor=R,e.kill()._gc=!1,e._first=e._last=e._recent=null,e._sortChildren=!1,e.add=e.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},e._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},e.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},e.rawTime=function(){return m||D.wake(),this._totalTime};function I(e){return e&&e.length&&e!==c&&e[0]&&(e[0]===c||e[0].nodeType&&e[0].style&&!e.nodeType)}var L=E("TweenLite",function(e,t,n){if(l.call(this,t,n),this.render=L.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"==typeof e&&L.selector(e)||e;var r,i,o,n=e.jquery||e.length&&e!==c&&e[0]&&(e[0]===c||e[0].nodeType&&e[0].style&&!e.nodeType),s=this.vars.overwrite;if(this._overwrite=s=null==s?q[L.defaultOverwrite]:"number"==typeof s?s>>0:q[s],(n||e instanceof Array||e.push&&x(e))&&"number"!=typeof e[0])for(this._targets=o=a(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(i=o[r])?"string"!=typeof i?i.length&&i!==c&&i[0]&&(i[0]===c||i[0].nodeType&&i[0].style&&!i.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(a(i))):(this._siblings[r]=ee(i,this,!1),1===s&&1<this._siblings[r].length&&te(i,this,null,1,this._siblings[r])):"string"==typeof(i=o[r--]=L.selector(i))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=ee(e,this,!1),1===s&&1<this._siblings.length&&te(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-b,this.render(Math.min(0,-this._delay)))},!0);(e=L.prototype=new l).constructor=L,e.kill()._gc=!1,e.ratio=0,e._firstPT=e._targets=e._overwrittenProps=e._startAt=null,e._notifyPluginsOfEnabled=e._lazy=!1,L.version="1.20.5",L.defaultEase=e._ease=new O(null,null,1,1),L.defaultOverwrite="auto",L.ticker=D,L.autoSleep=120,L.lagSmoothing=function(e,t){D.lagSmoothing(e,t)},L.selector=c.$||c.jQuery||function(e){var t=c.$||c.jQuery;return t?(L.selector=t)(e):(p=p||c.document)?p.querySelectorAll?p.querySelectorAll(e):p.getElementById("#"===e.charAt(0)?e.substr(1):e):e};function j(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<1e-6&&-1e-6<t&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next}function N(e,t,n,r){var i,o,s,a,u,l,h=[],c=0,f="",d=0;for(h.start=e,h.end=t,e=h[0]=e+"",t=h[1]=t+"",n&&(n(h),e=h[0],t=h[1]),h.length=0,i=e.match(X)||[],o=t.match(X)||[],r&&(r._next=null,r.blob=1,h._firstPT=h._applyPT=r),a=o.length,s=0;s<a;s++)l=o[s],f+=(u=t.substr(c,t.indexOf(l,c)-c))||!s?u:",",c+=u.length,d?d=(d+1)%5:"rgba("===u.substr(-5)&&(d=1),l===i[s]||i.length<=s?f+=l:(f&&(h.push(f),f=""),u=parseFloat(i[s]),h.push(u),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:u,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-u)||0,f:0,m:d&&d<4?Math.round:0}),c+=l.length;return(f+=t.substr(c))&&h.push(f),h.setRatio=j,z.test(t)&&(h.end=null),h}function F(e,t,n,r,i,o,s,a,u){"function"==typeof r&&(r=r(u||0,e));var l=typeof e[t],u="function"!=l?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),n="get"!==n?n:u?s?e[u](s):e[u]():e[t],u="string"==typeof r&&"="===r.charAt(1),o={t:e,p:t,s:n,f:"function"==l,pg:0,n:i||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:u?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-n||0};if("number"==typeof n&&("number"==typeof r||u)||(s||isNaN(n)||!u&&isNaN(r)||"boolean"==typeof n||"boolean"==typeof r?(o.fp=s,o={t:N(n,u?parseFloat(o.s)+o.c+(o.s+"").replace(/[0-9\-\.]/g,""):r,a||L.defaultStringFilter,o),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(o.s=parseFloat(n),u||(o.c=parseFloat(r)-o.s||0))),o.c)return(o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o}var B=[],U={},X=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,G=L._internals={isArray:x,isSelector:I,lazyTweens:B,blobDif:N},Y=L._plugins={},H=G.tweenLookup={},W=0,V=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},K=l._rootFramesTimeline=new R,J=l._rootTimeline=new R,Q=30,Z=G.lazyRender=function(){var e,t=B.length;for(U={};-1<--t;)(e=B[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);B.length=0};J._startTime=D.time,K._startTime=D.frame,J._active=K._active=!0,setTimeout(Z,1),l._updateRoot=L.render=function(){var e,t,n;if(B.length&&Z(),J.render((D.time-J._startTime)*J._timeScale,!1,!1),K.render((D.frame-K._startTime)*K._timeScale,!1,!1),B.length&&Z(),D.frame>=Q){for(n in Q=D.frame+(parseInt(L.autoSleep,10)||120),H){for(e=(t=H[n].tweens).length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete H[n]}if((!(n=J._first)||n._paused)&&L.autoSleep&&!K._first&&1===D._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||D.sleep()}}},D.addEventListener("tick",l._updateRoot);function $(e,t,n,r){var i,o,s=e.vars.onOverwrite;return s&&(i=s(e,t,n,r)),(s=L.onOverwrite)&&(o=s(e,t,n,r)),!1!==i&&!1!==o}var ee=function(e,t,n){var r,i,o=e._gsTweenID;if(H[o||(e._gsTweenID=o="t"+W++)]||(H[o]={target:e,tweens:[]}),t&&((r=H[o].tweens)[i=r.length]=t,n))for(;-1<--i;)r[i]===t&&r.splice(i,1);return H[o].tweens},te=function(e,t,n,r,i){var o,s,a;if(1===r||4<=r){for(a=i.length,d=0;d<a;d++)if((s=i[d])!==t)s._gc||s._kill(null,e,t)&&(o=!0);else if(5===r)break;return o}for(var u,l=t._startTime+b,h=[],c=0,f=0===t._duration,d=i.length;-1<--d;)(s=i[d])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||ne(t,0,f),0===ne(s,u,f)&&(h[c++]=s)):s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((f||!s._initted)&&l-s._startTime<=2e-10||(h[c++]=s)));for(d=c;-1<--d;)s=h[d],2===r&&s._kill(n,e,t)&&(o=!0),(2!==r||!s._firstPT&&s._initted)&&(2===r||$(s,t))&&s._enabled(!1,!1)&&(o=!0);return o},ne=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return t<(o/=i)?o-t:n&&o===t||!e._initted&&o-t<2*b?b:(o+=e.totalDuration()/e._timeScale/i)>t+b?0:o-t-b};e._init=function(){var e,t,n,r,i,o,s=this.vars,a=this._overwrittenProps,u=this._duration,l=!!s.immediateRender,h=s.ease;if(s.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},s.startAt)i[r]=s.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=l&&!1!==s.lazy,i.startAt=i.delay=null,i.onUpdate=s.onUpdate,i.onUpdateParams=s.onUpdateParams,i.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=L.to(this.target||{},0,i),l)if(0<this._time)this._startAt=null;else if(0!==u)return}else if(s.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(l=!1),n={},s)V[r]&&"autoCSS"!==r||(n[r]=s[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&!1!==s.lazy,n.immediateRender=l,this._startAt=L.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof O?h:"function"==typeof h?new O(h,s.easeParams):S[h]||L.defaultEase:L.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],a?a[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(t&&L._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=s.onUpdate,this._initted=!0},e._initProps=function(e,t,n,r,i){var o,s,a,u,l,h;if(null==e)return!1;for(o in U[e._gsTweenID]&&Z(),this.vars.css||e.style&&e!==c&&e.nodeType&&Y.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)V[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!Y[n]||Y[n]&&Y[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(h=this.vars[o],V[o])h&&(h instanceof Array||h.push&&x(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(Y[o]&&(u=new Y[o])._onInitTween(e,this.vars[o],this,i)){for(this._firstPT=l={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:u._priority,m:0},s=u._overwriteProps.length;-1<--s;)t[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(a=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else t[o]=F.call(this,e,o,"get",h,o,0,null,this.vars.stringFilter,i);return r&&this._kill(r,e)?this._initProps(e,t,n,r,i):1<this._overwrite&&this._firstPT&&1<n.length&&te(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r,i)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(U[e._gsTweenID]=!0),a)},e.render=function(e,t,n){var r,i,o,s,a,u,l,h=this._time,c=this._duration,f=this._rawPrevTime;if(c-1e-7<=e&&0<=e?(this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===c&&(!this._initted&&this.vars.lazy&&!n||(this._startTime===this._timeline._duration&&(e=0),(f<0||e<=0&&-1e-7<=e||f===b&&"isPause"!==this.data)&&f!==e&&(n=!0,b<f&&(i="onReverseComplete")),this._rawPrevTime=s=!t||e||f===e?e:b))):e<1e-7?(this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===c&&0<f)&&(i="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===c&&(!this._initted&&this.vars.lazy&&!n||(0<=f&&(f!==b||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=s=!t||e||f===e?e:b))),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0)):(this._totalTime=this._time=e,this._easeType?(a=e/c,(1===(u=this._easeType)||3===u&&.5<=a)&&(a=1-a),3===u&&(a*=2),1===(l=this._easePower)?a*=a:2===l?a*=a*a:3===l?a*=a*a*a:4===l&&(a*=a*a*a*a),this.ratio=1===u?1-a:2===u?a:e/c<.5?a/2:1-a/2):this.ratio=this._ease.getRatio(e/c)),this._time!==h||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=f,B.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/c):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&0<=e&&(this._active=!0),0===h&&(this._startAt&&(0<=e?this._startAt.render(e,!0,n):i=i||"_dummyGS"),this.vars.onStart&&(0===this._time&&0!==c||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==h||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===c&&this._rawPrevTime===b&&s!==b&&(this._rawPrevTime=0)))}},e._kill=function(e,t,n){if(null==(e="all"===e?null:e)&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:L.selector(t)||t;var r,i,o,s,a,u,l,h,c,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((x(t)||I(t))&&"number"!=typeof t[0])for(r=t.length;-1<--r;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(t===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;a=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(a){if(l=e||a,h=e!==i&&"all"!==i&&e!==a&&("object"!=typeof e||!e._tempKill),n&&(L.onOverwrite||this.vars.onOverwrite)){for(o in l)a[o]&&(c=c||[]).push(o);if((c||!e)&&!$(this,n,t,c))return!1}for(o in l)(s=a[o])&&(f&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,u=!0),s.pg&&s.t._kill(l)&&(u=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),h&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},e.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],l.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-b,this.render(Math.min(0,-this._delay))),this},e._enabled=function(e,t){if(m||D.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;-1<--n;)this._siblings[n]=ee(r[n],this,!0);else this._siblings=ee(this.target,this,!0)}return l.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(e?"_onEnable":"_onDisable",this)},L.to=function(e,t,n){return new L(e,t,n)},L.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new L(e,t,n)},L.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new L(e,t,r)},L.delayedCall=function(e,t,n,r,i){return new L(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},L.set=function(e,t){return new L(e,0,t)},L.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"==typeof e&&L.selector(e)||e,(x(e)||I(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];-1<--n;)r=r.concat(L.getTweensOf(e[n],t));for(n=r.length;-1<--n;)for(o=r[n],i=n;-1<--i;)o===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=ee(e).concat()).length;-1<--n;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},L.killTweensOf=L.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=L.getTweensOf(e,t),i=r.length;-1<--i;)r[i]._kill(n,e)};var re=E("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=re.prototype},!0);if(e=re.prototype,re.version="1.19.0",re.API=2,e._firstPT=null,e._addTween=F,e.setRatio=j,e._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;-1<--t;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},e._mod=e._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},L._onPluginEvent=function(e,t){var n,r,i,o,s,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(s=a._next,r=i;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:o)?a._prev._next=a:i=a,(a._next=r)?r._prev=a:o=a,a=s}a=t._firstPT=i}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(n=!0),a=a._next;return n},re.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===re.API&&(Y[(new e[t])._propName]=e[t]);return!0},r.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=E("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){re.call(this,n,r),this._overwriteProps=i||[]},!0===e.global),a=s.prototype=new re(n);for(t in(a.constructor=s).API=e.API,o)"function"==typeof e[t]&&(a[o[t]]=e[t]);return s.version=e.version,re.activate([s]),s},s=c._gsQueue){for(u=0;u<s.length;u++)s[u]();for(e in T)T[e].func||c.console.log("GSAP encountered missing dependency: "+e)}m=!1}(oe.exports&&void 0!==e?e:this||window,"TweenLite")}.call(this,e(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(17),h=(r=i)&&r.__esModule?r:{default:r};var c=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],f=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],p=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],v=[],_=[];function y(e){return e<0?-1:0<e?1:0}!function(){for(var e=0;e<16;e++){var t=[];_.push(t);for(var n=0;n<16;n++)for(var r=y(c[e]*c[n]+d[e]*f[n]),i=y(f[e]*c[n]+p[e]*f[n]),o=y(c[e]*d[n]+d[e]*p[n]),s=y(f[e]*d[n]+p[e]*p[n]),a=0;a<16;a++)if(c[a]===r&&f[a]===i&&d[a]===o&&p[a]===s){t.push(a);break}}for(var u=0;u<16;u++){var l=new h.default;l.set(c[u],f[u],d[u],p[u],0,0),v.push(l)}}();var o={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return c[e]},uY:function(e){return f[e]},vX:function(e){return d[e]},vY:function(e){return p[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return _[e][t]},sub:function(e,t){return _[e][o.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?0<=t?o.S:o.N:2*Math.abs(t)<=Math.abs(e)?0<e?o.E:o.W:0<t?0<e?o.SE:o.SW:0<e?o.NE:o.NW},matrixAppendRotationInv:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,t=v[o.inv(t)];t.tx=n,t.ty=r,e.append(t)}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(4);r(s,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?o.Rectangle.EMPTY:((e=e||new o.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addQuad",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],s=e[1],t=o<t?o:t,n=s<n?s:n,r=r<o?o:r,i=i<s?s:i;t=(o=e[2])<t?o:t,n=(s=e[3])<n?s:n,r=r<o?o:r,i=i<s?s:i,t=(o=e[4])<t?o:t,n=(s=e[5])<n?s:n,r=r<o?o:r,i=i<s?s:i,o=e[6],n=(s=e[7])<n?s:n,r=r<o?o:r,i=i<s?s:i,this.minX=t=o<t?o:t,this.minY=n,this.maxX=r,this.maxY=i}},{key:"addFrame",value:function(e,t,n,r,i){var o=e.worldTransform,s=o.a,a=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=s*t+u*n+h,d=a*t+l*n+c,p=f<(p=this.minX)?f:p,v=d<(v=this.minY)?d:v,e=(e=this.maxX)<f?f:e,o=(o=this.maxY)<d?d:o;p=(f=s*r+u*n+h)<p?f:p,v=(d=a*r+l*n+c)<v?d:v,e=e<f?f:e,o=o<d?d:o,p=(f=s*t+u*i+h)<p?f:p,v=(d=a*t+l*i+c)<v?d:v,o=o<d?d:o,v=(d=a*r+l*i+c)<v?d:v,e=(e=e<f?f:e)<(f=s*r+u*i+h)?f:e,o=o<d?d:o,this.minX=p=f<p?f:p,this.minY=v,this.maxX=e,this.maxY=o}},{key:"addVertices",value:function(e,t,n,r){for(var e=e.worldTransform,i=e.a,o=e.b,s=e.c,a=e.d,u=e.tx,l=e.ty,h=this.minX,c=this.minY,f=this.maxX,d=this.maxY,p=n;p<r;p+=2)var v=t[p],_=t[p+1],y=i*v+s*_+u,v=a*_+o*v+l,h=y<h?y:h,c=v<c?v:c,f=f<y?y:f,d=d<v?v:d;this.minX=h,this.minY=c,this.maxX=f,this.maxY=d}},{key:"addBounds",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}},{key:"addBoundsMask",value:function(e,t){var n,r,i=(e.minX>t.minX?e:t).minX,o=(e.minY>t.minY?e:t).minY,s=(e.maxX<t.maxX?e:t).maxX,a=(e.maxY<t.maxY?e:t).maxY;i<=s&&o<=a&&(n=this.minX,r=this.minY,e=this.maxX,t=this.maxY,this.minX=i<n?i:n,this.minY=o<r?o:r,this.maxX=e<s?s:e,this.maxY=t<a?a:t)}},{key:"addBoundsArea",value:function(e,t){var n,r,i=e.minX>t.x?e.minX:t.x,o=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;i<=s&&o<=a&&(n=this.minX,r=this.minY,e=this.maxX,t=this.maxY,this.minX=i<n?i:n,this.minY=o<r?o:r,this.maxX=e<s?s:e,this.maxY=t<a?a:t)}}]),r=s;function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=f(n(5)),s=n(0),a=f(n(2)),u=f(n(33)),l=f(n(34)),h=f(n(31)),c=n(4);function f(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(d,o.default),r(d,[{key:"updateTransform",value:function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new c.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),e=this._localBoundsRect);e=this.getBounds(!1,e);return this.parent=n,this.transform=t,e}},{key:"toGlobal",value:function(e,t){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}},{key:"renderWebGL",value:function(e){}},{key:"renderCanvas",value:function(e){}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"setTransform",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this}},{key:"destroy",value:function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new d),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1}while(e=e.parent);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),r=d;function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this)),t=(a.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?u:l).default;return e.tempDisplayObjectParent=null,e.transform=new t,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._bounds=new h.default,e._boundsID=0,e._lastBoundsID=-1,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e}(t.default=r).prototype.displayObjectUpdateTransform=r.prototype.updateTransform},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(4),a=n(19);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,((o=a)&&o.__esModule?o:{default:o}).default),r(u,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t,n,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID&&(t=e.worldTransform,(n=this.worldTransform).a=r.a*t.a+r.b*t.c,n.b=r.a*t.b+r.b*t.d,n.c=r.c*t.a+r.d*t.c,n.d=r.c*t.b+r.d*t.d,n.tx=r.tx*t.a+r.ty*t.c+t.tx,n.ty=r.tx*t.b+r.ty*t.d+t.ty,this._parentID=e._worldID,this._worldID++)}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),r=u;function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return e.position=new s.ObservablePoint(e.onChange,e,0,0),e.scale=new s.ObservablePoint(e.onChange,e,1,1),e.pivot=new s.ObservablePoint(e.onChange,e,0,0),e.skew=new s.ObservablePoint(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(4),a=n(19);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,((o=a)&&o.__esModule?o:{default:o}).default),r(u,[{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)}},{key:"updateTransform",value:function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var n=e.worldTransform,e=this.worldTransform;e.a=t.a*n.a+t.b*n.c,e.b=t.a*n.b+t.b*n.d,e.c=t.c*n.a+t.d*n.c,e.d=t.c*n.b+t.d*n.d,e.tx=t.tx*n.a+t.ty*n.c+n.tx,e.ty=t.tx*n.b+t.ty*n.d+n.ty,this._worldID++}},{key:"setFromMatrix",value:function(e){e.decompose(this)}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),r=u;function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return e.position=new s.Point(0,0),e.scale=new s.Point(1,1),e.skew=new s.ObservablePoint(e.updateSkew,e,0,0),e.pivot=new s.Point(0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=n(4),a=n(3),u=n(0),l=h(n(8)),n=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var c=new s.Point,r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,n.default),r(f,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,a.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,a.sign)(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var e,t,n,r,i,o,s,a,u,l,h,c,f,d;this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID||(this._transformID=this.transform._worldID,this._textureID=this._texture._updateID,f=this._texture,e=(d=this.transform.worldTransform).a,t=d.b,n=d.c,r=d.d,i=d.tx,o=d.ty,s=this.vertexData,a=f.trim,u=f.orig,l=this._anchor,f=d=c=h=0,d=a?(h=(c=a.x-l._x*u.width)+a.width,(f=a.y-l._y*u.height)+a.height):(h=(c=-l._x*u.width)+u.width,(f=-l._y*u.height)+u.height),s[0]=e*c+n*f+i,s[1]=r*f+t*c+o,s[2]=e*h+n*f+i,s[3]=r*f+t*h+o,s[4]=e*h+n*d+i,s[5]=r*d+t*h+o,s[6]=e*c+n*d+i,s[7]=r*d+t*c+o)}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,e=-r._x*n.width,i=e+n.width,r=-r._y*n.height,n=r+n.height;t[0]=o*e+a*r+l,t[1]=u*r+s*e+h,t[2]=o*i+a*r+l,t[3]=u*r+s*i+h,t[4]=o*i+a*n+l,t[5]=u*n+s*i+h,t[6]=o*e+a*n+l,t[7]=u*n+s*e+h}},{key:"_renderWebGL",value:function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_renderCanvas",value:function(e){e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,c);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,e=0;return c.x>=r&&c.x<r+t&&(e=-n*this.anchor.y,c.y>=e&&c.y<e+n)}},{key:"destroy",value:function(e){o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&(e="boolean"==typeof e?e:e&&e.baseTexture,this._texture.destroy(!!e)),this._texture=null,this.shader=null}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,a.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,a.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e||l.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e){return new f(l.default.from(e))}},{key:"fromFrame",value:function(e){var t=a.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new f(t)}},{key:"fromImage",value:function(e,t,n){return new f(l.default.fromImage(e,t,n))}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return t._anchor=new s.ObservablePoint(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=u.BLEND_MODES.NORMAL,t.shader=null,t.cachedTint=16777215,t.texture=e||l.default.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.pluginName="sprite",t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,s=s||document.createElement("a");s.href=e;var n=!(e=o.default.parse(s.href)).port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&n&&e.protocol===t.protocol?"":"anonymous"};var r,i=n(37),o=(r=i)&&r.__esModule?r:{default:r};var s=void 0},function(e,t,n){"use strict";var S=n(89),P=n(91);function x(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=i,t.resolve=function(e,t){return i(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},t.format=function(e){P.isString(e)&&(e=i(e));return e instanceof x?e.format():x.prototype.format.call(e)},t.Url=x;var M=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,k=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),C=["'"].concat(t),A=["%","/","?",";","#"].concat(C),D=["/","?","#"],R=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},j={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},F=n(92);function i(e,t,n){if(e&&P.isObject(e)&&e instanceof x)return e;var r=new x;return r.parse(e,t,n),r}x.prototype.parse=function(e,t,n){if(!P.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",r=e.split(i);r[0]=r[0].replace(/\\/g,"/");var o=(o=e=r.join(i)).trim();if(!n&&1===e.split("#").length){var s=k.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?F.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var a,s=M.exec(o);if(s&&(O=(s=s[0]).toLowerCase(),this.protocol=O,o=o.substr(s.length)),(n||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===o.substr(0,2))||s&&j[s]||(o=o.substr(2),this.slashes=!0)),!j[s]&&(a||s&&!N[s])){for(var u=-1,l=0;l<D.length;l++)-1!==(h=o.indexOf(D[l]))&&(-1===u||h<u)&&(u=h);-1!==(x=-1===u?o.lastIndexOf("@"):o.lastIndexOf("@",u))&&(T=o.slice(0,x),o=o.slice(x+1),this.auth=decodeURIComponent(T));for(var h,u=-1,l=0;l<A.length;l++)-1!==(h=o.indexOf(A[l]))&&(-1===u||h<u)&&(u=h);-1===u&&(u=o.length),this.host=o.slice(0,u),o=o.slice(u),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var f=this.hostname.split(/\./),l=0,d=f.length;l<d;l++){var p=f[l];if(p&&!p.match(R)){for(var v="",_=0,y=p.length;_<y;_++)127<p.charCodeAt(_)?v+="x":v+=p[_];if(!v.match(R)){var m=f.slice(0,l),g=f.slice(l+1),b=p.match(I);b&&(m.push(b[1]),g.unshift(b[2])),g.length&&(o="/"+g.join(".")+o),this.hostname=m.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=S.toASCII(this.hostname));var x=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+x,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!L[O])for(l=0,d=C.length;l<d;l++){var w,E=C[l];-1!==o.indexOf(E)&&((w=encodeURIComponent(E))===E&&(w=escape(E)),o=o.split(E).join(w))}c=o.indexOf("#");-1!==c&&(this.hash=o.substr(c),o=o.slice(0,c));var O,c=o.indexOf("?");return-1!==c?(this.search=o.substr(c),this.query=o.substr(c+1),t&&(this.query=F.parse(this.query)),o=o.slice(0,c)):t&&(this.search="",this.query={}),o&&(this.pathname=o),N[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(x=this.pathname||"",O=this.search||"",this.path=x+O),this.href=this.format(),this},x.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&P.isObject(this.query)&&Object.keys(this.query).length&&(o=F.stringify(this.query));o=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||N[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+r},x.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},x.prototype.resolveObject=function(e){P.isString(e)&&((d=new x).parse(e,!1,!0),e=d);for(var t=new x,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];t[i]=this[i]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var a=o[s];"protocol"!==a&&(t[a]=e[a])}return N[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!N[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var h=u[l];t[h]=e[h]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||j[e.protocol])t.pathname=e.pathname;else{for(var c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),t.pathname=c.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(p=t.pathname||"",v=t.search||"",t.path=p+v),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var f=t.pathname&&"/"===t.pathname.charAt(0),d=e.host||e.pathname&&"/"===e.pathname.charAt(0),p=d||f||t.host&&e.pathname,v=p,_=t.pathname&&t.pathname.split("/")||[],c=e.pathname&&e.pathname.split("/")||[],f=t.protocol&&!N[t.protocol];if(f&&(t.hostname="",t.port=null,t.host&&(""===_[0]?_[0]=t.host:_.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host=null),p=p&&(""===c[0]||""===_[0])),d)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,_=c;else if(c.length)(_=_||[]).pop(),_=_.concat(c),t.search=e.search,t.query=e.query;else if(!P.isNullOrUndefined(e.search))return f&&(t.hostname=t.host=_.shift(),(b=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=b.shift(),t.host=t.hostname=b.shift())),t.search=e.search,t.query=e.query,P.isNull(t.pathname)&&P.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!_.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var y=_.slice(-1)[0],d=(t.host||e.host||1<_.length)&&("."===y||".."===y)||""===y,m=0,g=_.length;0<=g;g--)"."===(y=_[g])?_.splice(g,1):".."===y?(_.splice(g,1),m++):m&&(_.splice(g,1),m--);if(!p&&!v)for(;m--;)_.unshift("..");!p||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),d&&"/"!==_.join("/").substr(-1)&&_.push("");var b,d=""===_[0]||_[0]&&"/"===_[0].charAt(0);return f&&(t.hostname=t.host=!d&&_.length?_.shift():"",(b=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=b.shift(),t.host=t.hostname=b.shift())),(p=p||t.host&&_.length)&&!d&&_.unshift(""),_.length?t.pathname=_.join("/"):(t.pathname=null,t.path=null),P.isNull(t.pathname)&&P.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},x.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(3),s=n(4),a=n(0),u=c(n(2)),l=c(n(13)),h=c(n(39)),n=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var f=new s.Matrix,r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,n.default),r(d,[{key:"resize",value:function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")}},{key:"generateTexture",value:function(e,t,n,r){r=r||e.getLocalBounds();n=h.default.create(0|r.width,0|r.height,t,n);return f.tx=-r.x,f.ty=-r.y,this.render(e,n,!1,f,!!e.parent),n}},{key:"destroy",value:function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null}},{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,o.hex2string)(e),(0,o.hex2rgb)(e,this._backgroundColorRgba)}}]),d);function d(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return(0,o.sayHello)(e),"number"==typeof t&&(t=Object.assign({width:t,height:n||u.default.RENDER_OPTIONS.height},r)),t=Object.assign({},u.default.RENDER_OPTIONS,t),i.options=t,i.type=a.RENDERER_TYPE.UNKNOWN,i.screen=new s.Rectangle(0,0,t.width,t.height),i.view=t.view||document.createElement("canvas"),i.resolution=t.resolution||u.default.RESOLUTION,i.transparent=t.transparent,i.autoResize=t.autoResize||!1,i.blendModes=null,i.preserveDrawingBuffer=t.preserveDrawingBuffer,i.clearBeforeRender=t.clearBeforeRender,i.roundPixels=t.roundPixels,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=t.backgroundColor||i._backgroundColor,i._tempDisplayObjectParent=new l.default,i._lastObjectRendered=i._tempDisplayObjectParent,i}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=o(n(100));function o(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,o(n(8)).default),r(u,[{key:"resize",value:function(e,t,n){e=Math.ceil(e),t=Math.ceil(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n||this.baseTexture.resize(e,t),this._updateUvs()}}],[{key:"create",value:function(e,t,n,r){return new u(new a.default(e,t,n,r))}}]),r=u;function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var n,r,i,o,s=null;e instanceof a.default||(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],console.warn("Please use RenderTexture.create("+n+", "+r+") instead of the ctor directly."),s=arguments[0],t=null,e=new a.default(n,r,i,o));t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e,t));return t.legacyRenderer=s,t.valid=!0,t._updateUvs(),t}t.default=r},function(e,t,n){"use strict";function r(e){var t=document.createElement("canvas");t.width=6,t.height=1;var n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,6,1),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"==typeof document)return!1;var e=r("#ff00ff"),t=r("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;n=n.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(e,0,0),n.drawImage(t,2,0);n=n.getImageData(2,0,1,1);if(!n)return!1;n=n.data;return 255===n[0]&&0===n[1]&&0===n[2]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,c=n(3),i=n(40);var o={getTintedTexture:function(e,t){var n=e._texture,r="#"+("00000"+(0|(t=o.roundColor(t))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r],e=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];e=n.tintCache[r]}else e=o.canvas||document.createElement("canvas");return o.tintMethod(n,t,e),e.tintId=n._updateID,o.convertTintToImage?((t=new Image).src=e.toDataURL(),n.tintCache[r]=t):(n.tintCache[r]=e,o.canvas=null),e},tintWithMultiply:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore();for(var t=(0,c.hex2rgb)(t),s=t[0],a=t[1],u=t[2],i=r.getImageData(0,0,i.width,i.height),l=i.data,h=0;h<l.length;h+=4)l[h+0]*=s,l[h+1]*=a,l[h+2]*=u;r.putImageData(i,0,0)},roundColor:function(e){var t=o.cacheStepsPerColorChannel,e=(0,c.hex2rgb)(e);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),(0,c.rgb2hex)(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=i)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(107)),s=n(3),a=n(0),u=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var h={},r=(r(c,[{key:"apply",value:function(e,t,n,r,i){e.applyFilter(this,t,n,r)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),c);function c(e,t,n){for(var r in!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.vertexSrc=e||c.defaultVertexSrc,this.fragmentSrc=t||c.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=n||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[r]=this.uniformData[r].value,this.uniformData[r].type&&(this.uniformData[r].type=this.uniformData[r].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}t.default=r},function(e,t){e.exports=function(e,t,n){if(n){for(var r=n.tempAttribState,i=n.attribState,o=0;o<r.length;o++)r[o]=!1;for(o=0;o<t.length;o++)r[t[o].attribute.location]=!0;for(o=0;o<i.length;o++)i[o]!==r[o]&&(i[o]=r[o],n.attribState[o]?e.enableVertexAttribArray(o):e.disableVertexAttribArray(o))}else for(o=0;o<t.length;o++){var s=t[o];e.enableVertexAttribArray(s.attribute.location)}}},function(e,t){function i(e,t,n,r,i){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=r||e.RGBA,this.type=i||e.UNSIGNED_BYTE}var o=!(i.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=e.videoWidth||e.width,r=e.videoHeight||e.height;r!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=r});i.prototype.uploadData=function(e,t,n){this.bind();var r=this.gl;if(e instanceof Float32Array){if(!o){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");o=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},i.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},i.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},i.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},i.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},i.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},i.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},i.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},i.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},i.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},i.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},i.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},i.fromSource=function(e,t,n){e=new i(e);return e.premultiplyAlpha=n||!1,e.upload(t),e},i.fromData=function(e,t,n,r){e=new i(e);return e.uploadData(t,n,r),e},e.exports=i},function(e,t){var s=function(e,t,n){t=e.createShader(t);return e.shaderSource(t,n),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:(console.log(e.getShaderInfoLog(t)),null)};e.exports=function(e,t,n,r){var t=s(e,e.VERTEX_SHADER,t),n=s(e,e.FRAGMENT_SHADER,n),i=e.createProgram();if(e.attachShader(i,t),e.attachShader(i,n),r)for(var o in r)e.bindAttribLocation(i,r[o],o);return e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(i,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(i)),e.deleteProgram(i),i=null),e.deleteShader(t),e.deleteShader(n),i}},function(e,t,n){var a=n(25),u=n(47),l=function(e,t,n,r){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,r||0)};e.exports=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),s=a(e,o.type);n[o.name]={type:s,size:u(s),location:e.getAttribLocation(t,o.name),pointer:l}}return n}},function(e,t){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return n[e]}},function(e,t,n){var u=n(25),l=n(49);e.exports=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]/,""),a=u(e,o.type);n[s]={type:a,size:o.size,location:e.getUniformLocation(t,s),value:l(a,o.size)}}return n}},function(e,t){var n=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t};e.exports=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return n(2*t);case"bvec3":return n(3*t);case"bvec4":return n(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(e,t){e.exports=function(e,t){return"precision"!==e.substring(0,9)?"precision "+t+" float;\n"+e:e}},function(e,t){var u=function(e){return function(){return this.data[e].value}},l={float:function(e,t,n){e.uniform1f(t,n)},vec2:function(e,t,n){e.uniform2f(t,n[0],n[1])},vec3:function(e,t,n){e.uniform3f(t,n[0],n[1],n[2])},vec4:function(e,t,n){e.uniform4f(t,n[0],n[1],n[2],n[3])},int:function(e,t,n){e.uniform1i(t,n)},ivec2:function(e,t,n){e.uniform2i(t,n[0],n[1])},ivec3:function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])},ivec4:function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])},bool:function(e,t,n){e.uniform1i(t,n)},bvec2:function(e,t,n){e.uniform2i(t,n[0],n[1])},bvec3:function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])},bvec4:function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])},mat2:function(e,t,n){e.uniformMatrix2fv(t,!1,n)},mat3:function(e,t,n){e.uniformMatrix3fv(t,!1,n)},mat4:function(e,t,n){e.uniformMatrix4fv(t,!1,n)},sampler2D:function(e,t,n){e.uniform1i(t,n)}},h={float:function(e,t,n){e.uniform1fv(t,n)},vec2:function(e,t,n){e.uniform2fv(t,n)},vec3:function(e,t,n){e.uniform3fv(t,n)},vec4:function(e,t,n){e.uniform4fv(t,n)},int:function(e,t,n){e.uniform1iv(t,n)},ivec2:function(e,t,n){e.uniform2iv(t,n)},ivec3:function(e,t,n){e.uniform3iv(t,n)},ivec4:function(e,t,n){e.uniform4iv(t,n)},bool:function(e,t,n){e.uniform1iv(t,n)},bvec2:function(e,t,n){e.uniform2iv(t,n)},bvec3:function(e,t,n){e.uniform3iv(t,n)},bvec4:function(e,t,n){e.uniform4iv(t,n)},sampler2D:function(e,t,n){e.uniform1iv(t,n)}};e.exports=function(e,t){var n={data:{}};n.gl=e;for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],s=o.split("."),a=s[s.length-1],s=function(e,t){for(var n=t,r=0;r<e.length-1;r++){var i=n[e[r]]||{data:{}};n[e[r]]=i,n=i}return n}(s,n),o=t[o];s.data[a]=o,s.gl=e,Object.defineProperty(s,a,{get:u(a),set:function(n,r){return function(e){this.data[n].value=e;var t=this.data[n].location;(1===r.size?l:h)[r.type](this.gl,t,e)}}(a,o)})}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(17),a=(o=s)&&o.__esModule?o:{default:o};var u=new a.default,r=(r(l,[{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(u.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(u));e=t.baseTexture,n=this.uClampFrame,r=this.clampMargin/e.resolution,i=this.clampOffset;return n[0]=(t._frame.x+r+i)/e.width,n[1]=(t._frame.y+r+i)/e.height,n[2]=(t._frame.x+t._frame.width-r+i)/e.width,n[3]=(t._frame.y+t._frame.height-r+i)/e.height,this.uClampOffset[0]=i/e.realWidth,this.uClampOffset[1]=i/e.realHeight,!0}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),l);function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===t?.5:t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(6)),s=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}r(u,[{key:"initVao",value:function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)}},{key:"map",value:function(e,t){var n,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+t.width/e.width,this.uvs[3]=0,this.uvs[4]=0+t.width/e.width,this.uvs[5]=0+t.height/e.height,this.uvs[6]=0,this.uvs[7]=0+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this}},{key:"upload",value:function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this}},{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)}}]),r=u;function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,s.default)(1),this.vertexBuffer=o.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(e,t)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=6*e,n=new Uint16Array(t),r=0,i=0;r<t;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(e,l,t){!function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=!(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))&&!t?".":e)&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}for(var u=[],a=s;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;1<=o;--o)if(47===e.charCodeAt(o)){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},l.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,r=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;0<=s;--s){var a=e.charCodeAt(s);if(47===a){if(i)continue;n=s+1;break}-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}.call(this,t(127))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0),s=n(3);var a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:o.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],r=(r(l,[{key:"clone",value:function(){var e={};return f(e,this,a),new l(e)}},{key:"reset",value:function(){f(this,a,a)}},{key:"toFontString",value:function(){for(var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily,n=(t=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):t).length-1;0<=n;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&u.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){e=c(e);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){e=c(e);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){!function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._fillGradientStops,e)&&(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){e=c(e);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.styleID=0,this.reset(),f(this,e,e)}function h(e){return"number"==typeof e?(0,s.hex2string)(e):"string"==typeof e&&0===e.indexOf("0x")?e.replace("0x","#"):e}function c(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=h(e[t]);return e}return h(e)}function f(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(O,null,[{key:"measureText",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:O._canvas;n=null==n?t.wordWrap:n;var i=t.toFontString(),o=O.measureFont(i),s=r.getContext("2d");s.font=i;for(var a=(n?O.wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),u=new Array(a.length),l=0,h=0;h<a.length;h++){var c=s.measureText(a[h]).width+(a[h].length-1)*t.letterSpacing;u[h]=c,l=Math.max(l,c)}i=l+t.strokeThickness;t.dropShadow&&(i+=t.dropShadowDistance);n=t.lineHeight||o.fontSize+t.strokeThickness,r=Math.max(n,o.fontSize+t.strokeThickness)+(a.length-1)*(n+t.leading);return t.dropShadow&&(r+=t.dropShadowDistance),new O(e,t,i,r,a,u,n+t.leading,l,o)}},{key:"wordWrap",value:function(e,t){for(var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:O._canvas).getContext("2d"),r=0,i="",o="",s={},a=t.letterSpacing,u=t.whiteSpace,l=O.collapseSpaces(u),h=O.collapseNewlines(u),c=!l,f=t.wordWrapWidth+a,d=O.tokenize(e),p=0;p<d.length;p++){var v=d[p];if(O.isNewline(v)){if(!h){o+=O.addLine(i),c=!l,i="",r=0;continue}v=" "}if(l){var _=O.isBreakingSpace(v),y=O.isBreakingSpace(i[i.length-1]);if(_&&y)continue}_=O.getFromCache(v,a,s,n);if(f<_)if(""!==i&&(o+=O.addLine(i),i="",r=0),O.canBreakWords(v,t.breakWords))for(var m=v.split(""),g=0;g<m.length;g++){for(var b=m[g],x=1;m[g+x];){var T=m[g+x],w=b[b.length-1];if(O.canBreakChars(w,T,v,g,t.breakWords))break;b+=T,x++}g+=b.length-1;var E=O.getFromCache(b,a,s,n);f<E+r&&(o+=O.addLine(i),c=!1,i="",r=0),i+=b,r+=E}else{0<i.length&&(o+=O.addLine(i),i="",r=0);y=p===d.length-1;o+=O.addLine(v,!y),c=!1,i="",r=0}else f<_+r&&(c=!1,o+=O.addLine(i),i="",r=0),(0<i.length||!O.isBreakingSpace(v)||c)&&(i+=v,r+=_)}return o+=O.addLine(i,!1)}},{key:"addLine",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e=O.trimRight(e),e=t?e+"\n":e}},{key:"getFromCache",value:function(e,t,n,r){var i=n[e];return void 0===i&&(t=e.length*t,i=r.measureText(e).width+t,n[e]=i),i}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(e){if("string"!=typeof e)return"";for(var t=e.length-1;0<=t;t--){var n=e[t];if(!O.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}},{key:"isNewline",value:function(e){return"string"==typeof e&&0<=O._newlines.indexOf(e.charCodeAt(0))}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&0<=O._breakingSpaces.indexOf(e.charCodeAt(0))}},{key:"tokenize",value:function(e){var t=[],n="";if("string"!=typeof e)return t;for(var r=0;r<e.length;r++){var i=e[r];O.isBreakingSpace(i)||O.isNewline(i)?(""!==n&&(t.push(n),n=""),t.push(i)):n+=i}return""!==n&&t.push(n),t}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,n,r,i){return!0}},{key:"measureFont",value:function(e){if(O._fonts[e])return O._fonts[e];var t={},n=O._canvas,r=O._context;r.font=e;var i=O.METRICS_STRING+O.BASELINE_SYMBOL,o=Math.ceil(r.measureText(i).width),s=2*(a=Math.ceil(r.measureText(O.BASELINE_SYMBOL).width)),a=a*O.BASELINE_MULTIPLIER|0;n.width=o,n.height=s,r.fillStyle="#f00",r.fillRect(0,0,o,s),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,a);for(var u=r.getImageData(0,0,o,s).data,r=u.length,l=4*o,h=0,c=0,f=!1,h=0;h<a;++h){for(var d=0;d<l;d+=4)if(255!==u[c+d]){f=!0;break}if(f)break;c+=l}for(t.ascent=a-h,c=r-l,f=!1,h=s;a<h;--h){for(var p=0;p<l;p+=4)if(255!==u[c+p]){f=!0;break}if(f)break;c-=l}return t.descent=h-a,t.fontSize=t.ascent+t.descent,O._fonts[e]=t}},{key:"clearMetrics",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";e?delete O._fonts[e]:O._fonts={}}}]),O);function O(e,t,n,r,i,o,s,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}t.default=i;t=document.createElement("canvas");t.width=t.height=10,i._canvas=t,i._context=t.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(133),s=h(n(13)),a=n(21),u=h(n(2)),l=n(0);function h(e){return e&&e.__esModule?e:{default:e}}r(c,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"stop",value:function(){this._ticker.stop()}},{key:"start",value:function(){this._ticker.start()}},{key:"destroy",value:function(e,t){var n;this._ticker&&(n=this._ticker,this.ticker=null,n.destroy()),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null}},{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,l.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),r=c;function c(e,t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),"number"==typeof e&&(e=Object.assign({width:e,height:t||u.default.RENDER_OPTIONS.height,forceCanvas:!!r,sharedTicker:!!i},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,o.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManager=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(27)),i=s(n(15)),o=s(n(137)),n=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}r.Loader.addPixiMiddleware(o.default);var a=r.Resource;i.default.isAudioSupported&&(i.default.isWebAudioSupported?(i.default.createGainNode=function(e){return e.createGain?e.createGain():e.createGainNode()},i.default.exts.forEach(function(e){a.setExtensionXhrType(e,a.XHR_RESPONSE_TYPE.BUFFER),a.setExtensionLoadType(e,a.LOAD_TYPE.XHR)})):i.default.exts.forEach(function(e){a.setExtensionXhrType(e,a.XHR_RESPONSE_TYPE.DEFAULT),a.setExtensionLoadType(e,a.LOAD_TYPE.AUDIO)})),t.AudioManager=n.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(t,n){if(t.data&&t.type===p.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var e=t.isDataUrl?"":d.dirname(t.url);t.isDataUrl&&("."===e&&(e=""),this.baseUrl&&e&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(e+="/")),(e=e.replace(this.baseUrl,""))&&"/"!==e.charAt(e.length-1)&&(e+="/");for(var r=t.data.getElementsByTagName("page"),i={},o=function(e){i[e.metadata.pageFile]=e.texture,Object.keys(i).length===r.length&&(parse(t,i),n())},s=0;s<r.length;++s){var a,u,l=r[s].getAttribute("file"),h=e+l,c=!1;for(a in this.resources){var f=this.resources[a];if(f.url===h){f.metadata.pageFile=l,f.texture?o(f):f.onAfterMiddleware.add(o),c=!0;break}}c||(u={crossOrigin:t.crossOrigin,loadType:p.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t},this.add(h,u,o))}}else n();else n()}};var d=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(55)),p=n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=(r(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a);function a(e,t,n){void 0===t&&(t=!1),o(this,a),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}function u(e,t){return e._head?(e._tail._next=t)._prev=e._tail:e._head=t,(e._tail=t)._owner=e,t}r(l,[{key:"handlers",value:function(){var e=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!e;for(var t=[];e;)t.push(e),e=e._next;return t}},{key:"has",value:function(e){if(!(e instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return u(this,new s(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return u(this,new s(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),r=l;function l(){o(this,l),this._head=this._tail=void 0}r.MiniSignalBinding=s,t.default=r,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){if(e){for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[(t=t||{}).strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}}},function(e,t,n){"use strict";function o(){}t.__esModule=!0,t.eachSeries=function(n,r,i,o){var s=0,a=n.length;!function e(t){t||s===a?i&&i(t):o?setTimeout(function(){r(n[s++],e)},1):r(n[s++],e)}()},t.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:e,saturated:o,unsaturated:o,buffer:e/4,empty:o,drain:o,error:o,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){n=0,r.drain=o,r.started=!1,r._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),t(e.data,function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}(function(e){return function(){--n,e.callback.apply(e,arguments),null!=arguments[0]&&r.error(arguments[0],e.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}(e)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var e=1;e<=r.concurrency;e++)r.process()}}};function i(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");r.started=!0,null==e&&r.idle()?setTimeout(function(){return r.drain()},1):(n={data:e,callback:"function"==typeof n?n:o},t?r._tasks.unshift(n):r._tasks.push(n),setTimeout(function(){return r.process()},1))}return r}},function(e,t,n){"use strict";t.__esModule=!0,t.encodeBinary=r;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var s=0;s<i.length;++s)t+=a.charAt(i[s])}return t}e.exports.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(n,r){var e,t,i=n.name+"_image";n.data&&n.type===o.Resource.TYPE.JSON&&n.data.frames&&!this.resources[i]?(e={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},t=u(n,this.baseUrl),this.add(i,t,e,function(e){var t;e.error?r(e.error):(t=new a.Spritesheet(e.texture.baseTexture,n.data,n.url)).parse(function(){n.spritesheet=t,n.textures=t.textures,r()})})):r()}},t.getResourcePath=u;var r,o=n(11),i=n(37),s=(r=i)&&r.__esModule?r:{default:r},a=n(1);function u(e,t){return e.isDataUrl?e.data.meta.image:s.default.resolve(e.url.replace(t,""),e.data.meta.image)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){e.data&&e.type===i.Resource.TYPE.IMAGE&&(e.texture=s.default.fromLoader(e.data,e.url,e.name)),t()}};var r,i=n(11),o=n(8),s=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(15)),s=a(n(138));function a(e){return e&&e.__esModule?e:{default:e}}r(u,[{key:"add",value:function(e){var t=new s.default(u.audios[e],this);return t.name=e,this.sounds.push(t),t}},{key:"remove",value:function(e){e=this.sounds.indexOf(e);-1!==e&&this.sounds.splice(e,1)}},{key:"removeAll",value:function(){this.sounds.forEach(function(e){e.stop(),e.reset()})}},{key:"destroy",value:function(){this.removeAll(),this.sounds=[]}},{key:"get",value:function(t){var n=void 0;return this.sounds.forEach(function(e){e.name==t&&(n=e)}),n}},{key:"mute",value:function(e){e=!1!==e;for(var t=this.sounds.length,n=0;n<t;n++)this.sounds[n].muted=e}},{key:"unmute",value:function(){return this.mute(!1)}},{key:"pause",value:function(e){e=!1!==e;for(var t=this.sounds.length,n=0;n<t;n++)this.sounds[n].paused=e}},{key:"resume",value:function(){return this.pause(!1)}}]),r=u;function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.enabled=o.default.isAudioSupported,this.sounds=[],o.default.isWebAudioSupported&&(this.context=o.default.globalWebAudioContext,this.gainNode=o.default.createGainNode(this.context),this.gainNode.connect(this.context.destination))}(t.default=r).audios={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1));(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,s.Sprite),r(a,[{key:"stop",value:function(){this.playing&&(this.playing=!1,this._autoUpdate&&s.ticker.shared.remove(this.update,this))}},{key:"play",value:function(){this.playing||(this.playing=!0,this._autoUpdate&&s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH))}},{key:"gotoAndStop",value:function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}},{key:"gotoAndPlay",value:function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()}},{key:"update",value:function(e){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},{key:"updateTexture",value:function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)}},{key:"destroy",value:function(e){this.stop(),o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"destroy",this).call(this,e)}},{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof s.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}],[{key:"fromFrames",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(s.Texture.fromFrame(e[n]));return new a(t)}},{key:"fromImages",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(s.Texture.fromImage(e[n]));return new a(t)}}]),r=a;function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e[0]instanceof s.Texture?e[0]:e[0].texture));return n._textures=null,n._durations=null,n.textures=e,n._autoUpdate=!1!==t,n.animationSpeed=1,n.loop=!0,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n.playing=!1,n}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);n(147);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,r.TweenLite),r=i;function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Math.ceil(e/2),r=u,i="",o=void 0;o=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var a=o.replace("%index%",s);a=a.replace("%sampleIndex%",s-(n-1)+".0"),i+=a,i+="\n"}return r=(r=r.replace("%blur%",i)).replace("%size%",e)};var u=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=u[e],n=t.length,r=l,i="",o=void 0,s=0;s<e;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);n<=(o=s)&&(o=e-s-1),a=a.replace("%value%",t[o]),i+=a,i+="\n"}return r=(r=r.replace("%blur%",i)).replace("%size%",e)};var u={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},l=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getParameter(e.MAX_VARYING_VECTORS),n=15;for(;t<n;)n-=2;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1));r(s,[{key:"getLocalPosition",value:function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}},{key:"copyEvent",value:function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0}},{key:"reset",value:function(){this.isPrimary=!1}},{key:"pointerId",get:function(){return this.identifier}}]),r=s;function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"stopPropagation",value:function(){this.stopped=!0}},{key:"reset",value:function(){this.stopped=!1,this.currentTarget=null,this.target=null}}]),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"_doSet",value:function(e,t){this._flags=t?this._flags|e:this._flags&~e}},{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._pointerId=e,this._flags=o.FLAGS.NONE}(t.default=i).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,d,p){"use strict";!function(e){Object.defineProperty(d,"__esModule",{value:!0}),d.loader=d.loaders=d.interaction=d.magic=d.Tween=d.VideoDom=d.Unit=d.AnimatedSprite=d.AnimatedClip=d.TextClip=d.SpriteClip=d.Game=d.AudioManager=void 0;var t=p(1);Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(d,e,{enumerable:!0,get:function(){return t[e]}})});var n=p(59);Object.defineProperty(d,"AudioManager",{enumerable:!0,get:function(){return n.AudioManager}});var r=p(139);Object.defineProperty(d,"Game",{enumerable:!0,get:function(){return r.Game}}),Object.defineProperty(d,"SpriteClip",{enumerable:!0,get:function(){return r.SpriteClip}}),Object.defineProperty(d,"TextClip",{enumerable:!0,get:function(){return r.TextClip}}),Object.defineProperty(d,"AnimatedClip",{enumerable:!0,get:function(){return r.AnimatedClip}}),Object.defineProperty(d,"AnimatedSprite",{enumerable:!0,get:function(){return r.AnimatedSprite}});var i=c(p(145)),o=c(p(146)),s=h(p(172)),a=h(p(69)),u=c(p(173)),l=c(p(27));function h(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.utils.mixins.performMixins();var f=new l.Loader;d.Unit=i,d.VideoDom=s.default,d.Tween=a.default,d.magic=o,d.interaction=u,d.loaders=l,d.loader=f,e.SINT=d}.call(this,p(12))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"clone",value:function(){return new o((0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||this.cb,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||this.scope,this._x,this._y)}},{key:"set",value:function(e,t){e=e||0,t=t||(0!==t?e:0);this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope))}},{key:"copy",value:function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),o);function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._x=n,this._y=r,this.cb=e,this.scope=t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(18),a=(o=s)&&o.__esModule?o:{default:o},u=n(0);r(l,[{key:"clone",value:function(){return new l(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,e=this.x-e,t=this.y-t;return(e*=e)+(t*=t)<=n}},{key:"getBounds",value:function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.x=e,this.y=t,this.radius=n,this.type=u.SHAPES.CIRC}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(18),a=(o=s)&&o.__esModule?o:{default:o},u=n(0);r(l,[{key:"clone",value:function(){return new l(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;e=(e-this.x)/this.width,t=(t-this.y)/this.height;return(e*=e)+(t*=t)<=1}},{key:"getBounds",value:function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.x=e,this.y=t,this.width=n,this.height=r,this.type=u.SHAPES.ELIP}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(16),a=(o=s)&&o.__esModule?o:{default:o},u=n(0);r(l,[{key:"clone",value:function(){return new l(this.points.slice())}},{key:"close",value:function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])}},{key:"contains",value:function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];t<a!=t<l&&e<(t-a)/(l-a)*(u-s)+s&&(n=!n)}return n}}]),r=l;function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=Array.isArray(t[0])?t[0]:t)[0]instanceof a.default){for(var r=[],i=0,o=t.length;i<o;i++)r.push(t[i].x,t[i].y);t=r}this.closed=!0,this.points=t,this.type=u.SHAPES.POLY}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0);r(s,[{key:"clone",value:function(){return new s(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=e-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=t-(this.y+this.height-this.radius))*r<=i)return!0;if((n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1}}]),r=s;function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=o.SHAPES.RREC}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixin:function(e){var n;(n=e).__plugins={},n.registerPlugin=function(e,t){n.__plugins[e]=t},n.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},n.__plugins)this.plugins[e]=new n.__plugins[e](this)},n.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}}},function(e,t,n){"use strict";function r(e,t){if(e&&t)for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}}Object.defineProperty(t,"__esModule",{value:!0}),t.mixin=r,t.delayMixin=function(e,t){i.push(e,t)},t.performMixins=function(){for(var e=0;e<i.length;e+=2)r(i[e],i[e+1]);i.length=0};var i=[]},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e.length;if(!(r<=t||0===n)){for(var i=r-(n=r<t+n?r-t:n),o=t;o<i;++o)e[o]=e[o+n];e.length=i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,e[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,e[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,t[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,t[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,t[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r};var i=n(0)},function(e,C,A){!function(d,v){var k;!function(){C&&C.nodeType,d&&d.nodeType;var e="object"==typeof v&&v;e.global!==e&&e.window!==e&&e.self;var t,_=2147483647,y=36,m=1,g=26,i=38,o=700,b=72,x=128,T="-",n=/^xn--/,r=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=y-m,w=Math.floor,E=String.fromCharCode;function O(e){throw new RangeError(a[e])}function l(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function h(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+l((e=e.replace(s,".")).split("."),t).join(".")}function S(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function p(e){return l(e,function(e){var t="";return 65535<e&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function M(e,t,n){var r=0;for(e=n?w(e/o):e>>1,e+=w(e/t);u*g>>1<e;r+=y)e=w(e/u);return w(r+(u+1)*e/(e+i))}function c(e){var t,n,r,i,o,s,a,u=[],l=e.length,h=0,c=x,f=b,d=e.lastIndexOf(T);for(d<0&&(d=0),n=0;n<d;++n)128<=e.charCodeAt(n)&&O("not-basic"),u.push(e.charCodeAt(n));for(r=0<d?d+1:0;r<l;){for(i=h,o=1,s=y;l<=r&&O("invalid-input"),a=e.charCodeAt(r++),(y<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:y)||a>w((_-h)/o))&&O("overflow"),h+=a*o,!(a<(a=s<=f?m:f+g<=s?g:s-f));s+=y)o>w(_/(a=y-a))&&O("overflow"),o*=a;f=M(h-i,t=u.length+1,0==i),w(h/t)>_-c&&O("overflow"),c+=w(h/t),h%=t,u.splice(h++,0,c)}return p(u)}function f(e){for(var t,n,r,i,o,s,a,u,l,h,c=[],f=(e=S(e)).length,d=x,p=b,v=t=0;v<f;++v)(a=e[v])<128&&c.push(E(a));for(n=r=c.length,r&&c.push(T);n<f;){for(i=_,v=0;v<f;++v)d<=(a=e[v])&&a<i&&(i=a);for(i-d>w((_-t)/(u=n+1))&&O("overflow"),t+=(i-d)*u,d=i,v=0;v<f;++v)if((a=e[v])<d&&++t>_&&O("overflow"),a==d){for(o=t,s=y;!(o<(l=s<=p?m:p+g<=s?g:s-p));s+=y)c.push(E(P(l+(h=o-l)%(l=y-l),0))),o=w(h/l);c.push(E(P(o,0))),p=M(t,u,n==r),t=0,++n}++t,++d}return c.join("")}t={version:"1.4.1",ucs2:{decode:S,encode:p},decode:c,encode:f,toASCII:function(e){return h(e,function(e){return r.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return h(e,function(e){return n.test(e)?c(e.slice(4).toLowerCase()):e})}},void 0===(k=function(){return t}.call(C,A,C,d))||(d.exports=k)}()}.call(this,A(90)(e),A(12))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(93),t.encode=t.stringify=n(94)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t=t||"&");t=1e3;r&&"number"==typeof r.maxKeys&&(t=r.maxKeys);var s=e.length;0<t&&t<s&&(s=t);for(var a=0;a<s;++a){var u,l=e[a].replace(o,"%20"),h=l.indexOf(n),c=0<=h?(u=l.substr(0,h),l.substr(h+1)):(u=l,""),f=decodeURIComponent(u),h=decodeURIComponent(c);l=i,c=f,Object.prototype.hasOwnProperty.call(l,c)?d(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i};var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(n,r,i,e){return r=r||"&",i=i||"=","object"==typeof(n=null===n?void 0:n)?a(u(n),function(e){var t=encodeURIComponent(o(e))+i;return s(n[e])?a(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+i+encodeURIComponent(o(n)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var u=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=c(n(9)),a=n(3),u=n(21),l=n(0),h=c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(f,s.default),r(f,[{key:"_isSourcePlaying",value:function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState}},{key:"_isSourceReady",value:function(){return 3===this.source.readyState||4===this.source.readyState}},{key:"_onPlayStart",value:function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(u.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)}},{key:"_onPlayStop",value:function(){this._isAutoUpdating&&(u.shared.remove(this.update,this),this._isAutoUpdating=!1)}},{key:"_onCanPlay",value:function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())}},{key:"destroy",value:function(){this._isAutoUpdating&&u.shared.remove(this.update,this),this.source&&this.source._SINTId&&(s.default.removeFromCache(this.source._SINTId),delete this.source._SINTId,this.source.pause(),this.source.src="",this.source.load()),o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"destroy",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(u.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(u.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}],[{key:"fromVideo",value:function(e,t,n){e._SINTId||(e._SINTId="video_"+(0,a.uid)());var r=a.BaseTextureCache[e._SINTId];return r||(r=new f(e,t,n),s.default.addToCache(r,e._SINTId)),r}},{key:"fromUrl",value:function(e,t,n,r){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,h.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(e))for(var s=0;s<e.length;++s)i.appendChild(d(e[s].src||e[s],e[s].mime));else i.appendChild(d(o,e.mime));return i.load(),f.fromVideo(i,t,r)}}]),r=f;function f(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0);t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e,t));return t.width=e.videoWidth,t.height=e.videoHeight,t._autoUpdate=!0,t._isAutoUpdating=!1,t.autoPlay=n,t.update=t.update.bind(t),t._onCanPlay=t._onCanPlay.bind(t),e.addEventListener("play",t._onPlayStart.bind(t)),e.addEventListener("pause",t._onPlayStop.bind(t)),t.hasLoaded=!1,t.__loaded=!1,t._isSourceReady()?t._onCanPlay():(e.addEventListener("canplay",t._onCanPlay),e.addEventListener("canplaythrough",t._onCanPlay)),t}function d(e,t){t||(t="video/"+(n=e.split("?").shift().toLowerCase()).substr(n.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=t,n}(t.default=r).fromUrls=r.fromUrl},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=u(n(2)),s=n(0),a=u(n(97));function u(e){return e&&e.__esModule?e:{default:e}}r(l,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,n))}},{key:"addOnce",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,n,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}t=(n=t).next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;if(e>this.lastTime){(t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*o.default.TARGET_FPMS*this.speed;for(var t=this._head,n=t.next;n;)n=n.emit(this.deltaTime);t.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){e=Math.min(Math.max(0,e)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),r=l;function l(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"match",value:function(e,t){return t=t||null,this.fn===e&&this.context===t}},{key:"emit",value:function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}},{key:"connect",value:function(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),o);function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.fn=e,this.context=t,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(30),u=(o=s)&&o.__esModule?o:{default:o};r(a,[{key:"set",value:function(e,t,n){var r,i,o,s=t.width,a=t.height;n?(r=e.width/2/s,i=e.height/2/a,o=e.x/s+r,t=e.y/a+i,n=u.default.add(n,u.default.NW),this.x0=o+r*u.default.uX(n),this.y0=t+i*u.default.uY(n),n=u.default.add(n,2),this.x1=o+r*u.default.uX(n),this.y1=t+i*u.default.uY(n),n=u.default.add(n,2),this.x2=o+r*u.default.uX(n),this.y2=t+i*u.default.uY(n),n=u.default.add(n,2),this.x3=o+r*u.default.uX(n),this.y3=t+i*u.default.uY(n)):(this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a),this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)}}]),r=a;function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=s(n(22)),l=n(0),h=n(4),c=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}var f=new h.Matrix,r=(r(a,[{key:"render",value:function(e){var t,n=e._texture,r=this.renderer,i=n._frame.width,o=n._frame.height,s=e.transform.worldTransform,a=0,u=0;n.orig.width<=0||n.orig.height<=0||!n.baseTexture.source||(r.setBlendMode(e.blendMode),n.valid&&(r.context.globalAlpha=e.worldAlpha,t=n.baseTexture.scaleMode===l.SCALE_MODES.LINEAR,r.smoothProperty&&r.context[r.smoothProperty]!==t&&(r.context[r.smoothProperty]=t),u=n.trim?(a=n.trim.width/2+n.trim.x-e.anchor.x*n.orig.width,n.trim.height/2+n.trim.y-e.anchor.y*n.orig.height):(a=(.5-e.anchor.x)*n.orig.width,(.5-e.anchor.y)*n.orig.height),n.rotate&&(s.copy(f),h.GroupD8.matrixAppendRotationInv(s=f,n.rotate,a,u),u=a=0),a-=i/2,u-=o/2,r.roundPixels?(r.context.setTransform(s.a,s.b,s.c,s.d,s.tx*r.resolution|0,s.ty*r.resolution|0),a|=0,u|=0):r.context.setTransform(s.a,s.b,s.c,s.d,s.tx*r.resolution,s.ty*r.resolution),s=n.baseTexture.resolution,16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=c.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,i*s,o*s,a*r.resolution,u*r.resolution,i*r.resolution,o*r.resolution)):r.context.drawImage(n.baseTexture.source,n._frame.x*s,n._frame.y*s,i*s,o*s,a*r.resolution,u*r.resolution,i*r.resolution,o*r.resolution)))}},{key:"destroy",value:function(){this.renderer=null}}]),a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.renderer=e}t.default=r,o.default.registerPlugin("sprite",r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=u(n(9)),a=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,s.default),r(l,[{key:"resize",value:function(e,t){e=Math.ceil(e),t=Math.ceil(t),e===this.width&&t===this.height||(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))}},{key:"destroy",value:function(){o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"destroy",this).call(this,!0),this.renderer=null}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=arguments[2],r=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,null,n));return i.resolution=r||a.default.RESOLUTION,i.width=Math.ceil(e),i.height=Math.ceil(t),i.realWidth=i.width*i.resolution,i.realHeight=i.height*i.resolution,i.scaleMode=void 0!==n?n:a.default.SCALE_MODE,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=n(0);r(o,[{key:"pushMask",value:function(e){var t=this.renderer;t.context.save();var n=e.alpha,r=e.transform.worldTransform,i=t.resolution;t.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=n}},{key:"renderGraphicsShape",value:function(e){var t=this.renderer.context,n=e.graphicsData.length;if(0!==n){t.beginPath();for(var r=0;r<n;r++){var i,o,s,a,u,l,h,c,f=e.graphicsData[r],d=f.shape;if(f.type===E.SHAPES.POLY){var p=d.points,v=f.holes,_=void 0,y=void 0;t.moveTo(p[0],p[1]);for(var m=2;m<p.length;m+=2)t.lineTo(p[m],p[m+1]);if(p[0]===p[p.length-2]&&p[1]===p[p.length-1]&&t.closePath(),0<v.length){for(var _=0,g=0;g<p.length;g+=2)_+=p[g]*p[g+3]-p[g+1]*p[g+2];for(var b=0;b<v.length;b++){for(var p=v[b].points,y=0,x=0;x<p.length;x+=2)y+=p[x]*p[x+3]-p[x+1]*p[x+2];if(t.moveTo(p[0],p[1]),y*_<0)for(var T=2;T<p.length;T+=2)t.lineTo(p[T],p[T+1]);else for(var w=p.length-2;2<=w;w-=2)t.lineTo(p[w],p[w+1])}}}else f.type===E.SHAPES.RECT?(t.rect(d.x,d.y,d.width,d.height),t.closePath()):f.type===E.SHAPES.CIRC?(t.arc(d.x,d.y,d.radius,0,2*Math.PI),t.closePath()):f.type===E.SHAPES.ELIP?(o=(a=2*d.width)/2*.5522848,l=(c=2*d.height)/2*.5522848,s=(h=d.x-a/2)+a,u=(i=d.y-c/2)+c,a=h+a/2,t.moveTo(h,c=i+c/2),t.bezierCurveTo(h,c-l,a-o,i,a,i),t.bezierCurveTo(a+o,i,s,c-l,s,c),t.bezierCurveTo(s,c+l,a+o,u,a,u),t.bezierCurveTo(a-o,u,h,c+l,h,c),t.closePath()):f.type===E.SHAPES.RREC&&(u=d.x,l=d.y,h=d.width,c=d.height,f=d.radius,d=Math.min(h,c)/2|0,t.moveTo(u,l+(f=d<f?d:f)),t.lineTo(u,l+c-f),t.quadraticCurveTo(u,l+c,u+f,l+c),t.lineTo(u+h-f,l+c),t.quadraticCurveTo(u+h,l+c,u+h,l+c-f),t.lineTo(u+h,l+f),t.quadraticCurveTo(u+h,l,u+h-f,l),t.lineTo(u+f,l),t.quadraticCurveTo(u,l,u,l+f),t.closePath())}}}},{key:"popMask",value:function(e){e.context.restore(),e.invalidateBlendMode()}},{key:"destroy",value:function(){}}]),r=o;function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.renderer=e}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(2),a=(o=s)&&o.__esModule?o:{default:o};r(u,[{key:"clear",value:function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"resize",value:function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution}},{key:"destroy",value:function(){this.context=null,this.canvas=null}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),r=u;function u(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||a.default.RESOLUTION,this.resize(e,t)}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="multiply",e[i.BLEND_MODES.SCREEN]="screen",e[i.BLEND_MODES.OVERLAY]="overlay",e[i.BLEND_MODES.DARKEN]="darken",e[i.BLEND_MODES.LIGHTEN]="lighten",e[i.BLEND_MODES.COLOR_DODGE]="color-dodge",e[i.BLEND_MODES.COLOR_BURN]="color-burn",e[i.BLEND_MODES.HARD_LIGHT]="hard-light",e[i.BLEND_MODES.SOFT_LIGHT]="soft-light",e[i.BLEND_MODES.DIFFERENCE]="difference",e[i.BLEND_MODES.EXCLUSION]="exclusion",e[i.BLEND_MODES.HUE]="hue",e[i.BLEND_MODES.SATURATION]="saturate",e[i.BLEND_MODES.COLOR]="color",e[i.BLEND_MODES.LUMINOSITY]="luminosity"):(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="source-over",e[i.BLEND_MODES.SCREEN]="source-over",e[i.BLEND_MODES.OVERLAY]="source-over",e[i.BLEND_MODES.DARKEN]="source-over",e[i.BLEND_MODES.LIGHTEN]="source-over",e[i.BLEND_MODES.COLOR_DODGE]="source-over",e[i.BLEND_MODES.COLOR_BURN]="source-over",e[i.BLEND_MODES.HARD_LIGHT]="source-over",e[i.BLEND_MODES.SOFT_LIGHT]="source-over",e[i.BLEND_MODES.DIFFERENCE]="source-over",e[i.BLEND_MODES.EXCLUSION]="source-over",e[i.BLEND_MODES.HUE]="source-over",e[i.BLEND_MODES.SATURATION]="source-over",e[i.BLEND_MODES.COLOR]="source-over",e[i.BLEND_MODES.LUMINOSITY]="source-over");return e[i.BLEND_MODES.NORMAL_NPM]=e[i.BLEND_MODES.NORMAL],e[i.BLEND_MODES.ADD_NPM]=e[i.BLEND_MODES.ADD],e[i.BLEND_MODES.SCREEN_NPM]=e[i.BLEND_MODES.SCREEN],e};var r,i=n(0),o=n(40),s=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=f(n(23)),a=f(n(24)),u=f(n(54)),l=f(n(125)),h=f(n(128)),c=f(n(129)),R=f(n(2)),I=n(3),L=f(n(6)),j=f(n(20));function f(e){return e&&e.__esModule?e:{default:e}}var N=0,F=0,r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s.default),r(d,[{key:"onContextChange",value:function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),R.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,h.default)(this.MAX_TEXTURES,e)),this.shader=(0,l.default)(e,this.MAX_TEXTURES),this.indexBuffer=L.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=L.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(r,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&i.addAttribute(r,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)}},{key:"onPrerender",value:function(){this.vertexCount=0}},{key:"render",value:function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)}},{key:"flush",value:function(){if(0!==this.currentIndex){var e,t,n=this.renderer.gl,r=this.MAX_TEXTURES,i=j.default.nextPow2(this.currentIndex),o=j.default.log2(i),s=this.buffers[o],a=this.sprites,u=this.groups,l=s.float32View,h=s.uint32View,c=this.boundTextures,f=this.renderer.boundTextures,d=this.renderer.textureGC.count,p=0,v=void 0,_=void 0,y=1,m=0,g=u[0],b=I.premultiplyBlendMode[a[0]._texture.baseTexture.premultipliedAlpha?1:0][a[0].blendMode];g.textureCount=0,g.start=0,g.blend=b,N++;for(var x,T=void 0,T=0;T<r;++T){var w=f[T];w._enabled!==N?((c[T]=w)._virtalBoundId=T,w._enabled=N):c[T]=this.renderer.emptyTextures[T]}for(N++,T=0;T<this.currentIndex;++T){var E=a[T];a[T]=null;var v=E._texture.baseTexture,O=I.premultiplyBlendMode[Number(v.premultipliedAlpha)][E.blendMode];if(b!==O&&(b=O,_=null,m=r,N++),_!==v&&(_=v)._enabled!==N){if(m===r&&(N++,g.size=T-g.start,m=0,(g=u[y++]).blend=b,g.textureCount=0,g.start=T),v.touched=d,-1===v._virtalBoundId)for(var S=0;S<r;++S){var P=(S+F)%r,M=c[P];if(M._enabled!==N){F++,M._virtalBoundId=-1,c[v._virtalBoundId=P]=v;break}}v._enabled=N,g.textureCount++,g.ids[m]=v._virtalBoundId,g.textures[m++]=v}e=E.vertexData,t=E._texture._uvs.uvsUint32,this.renderer.roundPixels?(k=this.renderer.resolution,l[p]=(e[0]*k|0)/k,l[p+1]=(e[1]*k|0)/k,l[p+5]=(e[2]*k|0)/k,l[p+6]=(e[3]*k|0)/k,l[p+10]=(e[4]*k|0)/k,l[p+11]=(e[5]*k|0)/k,l[p+15]=(e[6]*k|0)/k,l[p+16]=(e[7]*k|0)/k):(l[p]=e[0],l[p+1]=e[1],l[p+5]=e[2],l[p+6]=e[3],l[p+10]=e[4],l[p+11]=e[5],l[p+15]=e[6],l[p+16]=e[7]),h[p+2]=t[0],h[p+7]=t[1],h[p+12]=t[2],h[p+17]=t[3];var k=Math.min(E.worldAlpha,1),k=k<1&&v.premultipliedAlpha?(0,I.premultiplyTint)(E._tintRGB,k):E._tintRGB+(255*k<<24);h[p+3]=h[p+8]=h[p+13]=h[p+18]=k,l[p+4]=l[p+9]=l[p+14]=l[p+19]=v._virtalBoundId,p+=20}for(g.size=T-g.start,R.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,x=this.shader.attributes,i=this.vertexBuffers[this.vertexCount]=L.default.GLBuffer.createVertexBuffer(n,null,n.STREAM_DRAW),o=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,x.aVertexPosition,n.FLOAT,!1,this.vertByteSize,0).addAttribute(i,x.aTextureCoord,n.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,x.aColor,n.UNSIGNED_BYTE,!0,this.vertByteSize,12),x.aTextureId&&o.addAttribute(i,x.aTextureId,n.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=o),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!1),this.vertexCount++),T=0;T<r;++T)f[T]._virtalBoundId=-1;for(T=0;T<y;++T){for(var C=u[T],A=C.textureCount,D=0;D<A;D++)_=C.textures[D],f[C.ids[D]]!==_&&this.renderer.bindTexture(_,C.ids[D],!0),_._virtalBoundId=-1;this.renderer.state.setBlendMode(C.blend),n.drawElements(n.TRIANGLES,6*C.size,n.UNSIGNED_SHORT,6*C.start*2)}this.currentIndex=0}}},{key:"start",value:function(){this.renderer.bindShader(this.shader),R.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),o(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var t=0;t<this.buffers.length;++t)this.buffers[t].destroy()}}]),d);function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));t.vertSize=5,t.vertByteSize=4*t.vertSize,t.size=R.default.SPRITE_BATCH_SIZE,t.buffers=[];for(var n=1;n<=j.default.nextPow2(t.size);n*=2)t.buffers.push(new c.default(4*n*t.vertByteSize));t.indices=(0,u.default)(t.size),t.shader=null,t.currentIndex=0,t.groups=[];for(var r=0;r<t.size;r++)t.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return t.sprites=[],t.vertexBuffers=[],t.vaos=[],t.vaoMax=2,t.vertexCount=0,t.renderer.on("prerender",t.onPrerender,t),t}t.default=r,a.default.registerPlugin("sprite",r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(10)),s=a(n(106));function a(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,o.default),r(u,[{key:"pushMask",value:function(e,t){var n;t.texture?this.pushSpriteMask(e,t):this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()?(n=t.worldTransform,n=Math.atan2(n.b,n.a),(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(t):this.pushScissorMask(e,t)):this.pushStencilMask(t)}},{key:"popMask",value:function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)}},{key:"pushSpriteMask",value:function(e,t){var n=this.alphaMaskPool[this.alphaMaskIndex];(n=n||(this.alphaMaskPool[this.alphaMaskIndex]=[new s.default(t)]))[0].resolution=this.renderer.resolution,n[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--}},{key:"pushStencilMask",value:function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)}},{key:"popStencilMask",value:function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()}},{key:"pushScissorMask",value:function(e,t){t.renderable=!0;var n=this.renderer._activeRenderTarget,r=t.getBounds();r.fit(n.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=t,this.scissor=!0}},{key:"popScissorMask",value:function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)}}]),r=u;function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return e.scissor=!1,e.scissorData=null,e.scissorRenderTarget=null,e.enableScissor=!0,e.alphaMaskPool=[],e.alphaMaskIndex=0,e}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=h(n(42)),s=n(4),a=h(n(52)),u=h(n(114)),l=h(n(115));function h(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,o.default),r(c,[{key:"apply",value:function(e,t,n){var r=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new a.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(i.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,e.applyFilter(this,t,n))}}]),r=c;function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=new s.Matrix,n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,u.default,l.default));return e.renderable=!1,n.maskSprite=e,n.maskMatrix=t,n}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){e=o(e),t=o(t);return Object.assign(e,t)};var r,i=n(6);var l=((r=i)&&r.__esModule?r:{default:r}).default.shader.defaultValue;function o(e){for(var t,n=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},i=e.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var s,a,u=i[o].trim();-1<u.indexOf("uniform")&&(s=(a=u.split(" "))[1],-(u=1)<(a=a[2]).indexOf("[")&&(a=(t=a.split(/\[|]/))[0],u*=Number(t[1])),a.match(n)||(r[a]={value:l(s,u),name:a,type:s}))}return r}},function(e,t){e.exports=function(e,t){t=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");return t}},function(e,t){function i(e,t,n,r){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=r||e.STATIC_DRAW,this.data=o,n&&this.upload(n),this._updateID=0}var o=new ArrayBuffer(0);i.prototype.upload=function(e,t,n){n||this.bind();n=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?n.bufferSubData(this.type,t,e):n.bufferData(this.type,e,this.drawType),this.data=e},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(e,t,n){return new i(e,e.ARRAY_BUFFER,t,n)},i.createIndexBuffer=function(e,t,n){return new i(e,e.ELEMENT_ARRAY_BUFFER,t,n)},i.create=function(e,t,n,r){return new i(e,t,n,r)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},function(e,t,n){function o(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100}var s=n(44);o.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new s(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},o.prototype.enableStencil=function(){var e;this.stencil||(e=this.gl,this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height))},o.prototype.clear=function(e,t,n,r){this.bind();var i=this.gl;i.clearColor(e,t,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},o.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},o.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},o.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))},o.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},o.createRGBA=function(e,t,n,r){var i=s.fromData(e,null,t,n);i.enableNearestScaling(),i.enableWrapClamp();n=new o(e,t,n);return n.enableTexture(i),n.unbind(),n},o.createFloat32=function(e,t,n,r){r=new s.fromData(e,r,t,n);r.enableNearestScaling(),r.enableWrapClamp();n=new o(e,t,n);return n.enableTexture(r),n.unbind(),n},e.exports=o},function(e,t,n){var o=n(45),s=n(46),a=n(48),u=n(50),l=n(51),n=function(e,t,n,r,i){this.gl=e,r&&(t=u(t,r),n=u(n,r)),this.program=o(e,t,n,i),this.attributes=s(e,this.program),this.uniformData=a(e,this.program),this.uniforms=l(e,this.uniformData)};n.prototype.bind=function(){return this.gl.useProgram(this.program),this},n.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=n},function(e,t,n){var i=n(43);function r(e,t){this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension&&(this.nativeVao=this.nativeVaoExtension.createVertexArrayOES(),t=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.nativeState={tempAttribState:new Array(t),attribState:new Array(t)}),this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}(e.exports=r.prototype.constructor=r).FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var e=this.gl,t=null,n=0;n<this.attributes.length;n++){var r=this.attributes[n];t!==r.buffer&&(r.buffer.bind(),t=r.buffer),e.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||e.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return i(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(e,t,n,r,i,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(e,t,n){var r=this.gl;return this.indexBuffer?r.drawElements(e,t||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(e,n,t||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,n){e.exports={compileProgram:n(45),defaultValue:n(49),extractAttributes:n(46),extractUniforms:n(48),generateUniformAccessObject:n(51),setPrecision:n(50),mapSize:n(47),mapType:n(25)}},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(10),a=(o=s)&&o.__esModule?o:{default:o};(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,a.default),r(u,[{key:"setMaskStack",value:function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)}},{key:"pushStencil",value:function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,n,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()}},{key:"popStencil",value:function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}},{key:"_getBitwiseMask",value:function(){return(1<<this.stencilMaskStack.length)-1}},{key:"destroy",value:function(){a.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null}}]),r=u;function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return e.stencilMaskStack=null,e}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=f(n(10)),a=f(n(14)),s=f(n(53)),u=n(4),l=f(n(26)),h=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(118)),c=f(n(20));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(r(v,[{key:"clear",value:function(){this.filters=null,this.target=null,this.renderTarget=null}}]),v);function v(){d(this,v),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new u.Rectangle,this.destinationFrame=new u.Rectangle,this.filters=[]}var _="screen",r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,o.default),r(y,[{key:"pushFilter",value:function(e,t){var n=this.renderer,r=this.filterData;r||(r=this.renderer._activeRenderTarget.filterStack,(c=new p).sourceFrame=c.destinationFrame=this.renderer._activeRenderTarget.size,c.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[c]},this.filterData=r);var i=r.stack[++r.index],o=r.stack[0].destinationFrame,i=i||(r.stack[r.index]=new p),s=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===n.screen.width&&e.filterArea.height===n.screen.height,a=t[0].resolution,u=0|t[0].padding,l=s?n.screen:e.filterArea||e.getBounds(!0),h=i.sourceFrame,c=i.destinationFrame;h.x=(l.x*a|0)/a,h.y=(l.y*a|0)/a,h.width=(l.width*a|0)/a,h.height=(l.height*a|0)/a,s||(r.stack[0].renderTarget.transform||t[0].autoFit&&h.fit(o),h.pad(u)),c.width=h.width,c.height=h.height;u=this.getPotRenderTarget(n.gl,h.width,h.height,a);i.target=e,i.filters=t,i.resolution=a,(i.renderTarget=u).setFrame(c,h),n.bindRenderTarget(u),u.clear()}},{key:"popFilter",value:function(){var e=this.filterData,t=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,t.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget;(a=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution)).setFrame(n.destinationFrame,n.sourceFrame),a.clear();for(var o=0,o=0;o<r.length-1;++o){r[o].apply(this,i,a,!0,n);var s=i,i=a,a=s}r[o].apply(this,i,t.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(a)}n.clear(),e.index--,0===e.index&&(this.filterData=null)}},{key:"applyFilter",value:function(e,t,n,r){var i=this.renderer,o=i.gl,s=e.glShaders[i.CONTEXT_UID];s||(e.glShaderKey?(s=this.shaderCache[e.glShaderKey])||(s=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[i.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=s,this.managedFilters.push(e)):(s=e.glShaders[i.CONTEXT_UID]=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);n=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=n,this.syncUniforms(s,e),i.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,n._glTextures[this.renderer.CONTEXT_UID].texture)}},{key:"syncUniforms",value:function(e,t){var n,r,i,o,s=t.uniformData,a=t.uniforms,u=1,t=void 0;for(r in e.uniforms.filterArea&&(t=this.filterData.stack[this.filterData.index],(n=e.uniforms.filterArea)[0]=t.renderTarget.size.width,n[1]=t.renderTarget.size.height,n[2]=t.sourceFrame.x,n[3]=t.sourceFrame.y,e.uniforms.filterArea=n),e.uniforms.filterClamp&&(t=t||this.filterData.stack[this.filterData.index],(n=e.uniforms.filterClamp)[0]=0,n[1]=0,n[2]=(t.sourceFrame.width-1)/t.renderTarget.size.width,n[3]=(t.sourceFrame.height-1)/t.renderTarget.size.height,e.uniforms.filterClamp=n),s)e.uniforms.data[r]&&("sampler2d"===(i=s[r].type)&&0!==a[r]?(a[r].baseTexture?e.uniforms[r]=this.renderer.bindTexture(a[r].baseTexture,u):(e.uniforms[r]=u,o=this.renderer.gl,this.renderer.boundTextures[u]=this.renderer.emptyTextures[u],o.activeTexture(o.TEXTURE0+u),a[r].texture.bind()),u++):"mat3"===i?void 0!==a[r].a?e.uniforms[r]=a[r].toArray(!0):e.uniforms[r]=a[r]:"vec2"===i?void 0!==a[r].x?((o=e.uniforms[r]||new Float32Array(2))[0]=a[r].x,o[1]=a[r].y,e.uniforms[r]=o):e.uniforms[r]=a[r]:"float"===i&&e.uniforms.data[r].value===s[r]||(e.uniforms[r]=a[r]))}},{key:"getRenderTarget",value:function(e,t){var n=this.filterData.stack[this.filterData.index],t=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,t||n.resolution);return t.setFrame(n.destinationFrame,n.sourceFrame),t}},{key:"returnRenderTarget",value:function(e){this.freePotRenderTarget(e)}},{key:"calculateScreenSpaceMatrix",value:function(e){var t=this.filterData.stack[this.filterData.index];return h.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)}},{key:"calculateNormalizedScreenSpaceMatrix",value:function(e){var t=this.filterData.stack[this.filterData.index];return h.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)}},{key:"calculateSpriteMatrix",value:function(e,t){var n=this.filterData.stack[this.filterData.index];return h.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,t)}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,n=this.managedFilters;t.off("prerender",this.onPrerender,this);for(var r=0;r<n.length;r++)e||n[r].glShaders[t.CONTEXT_UID].destroy(),delete n[r].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()}},{key:"getPotRenderTarget",value:function(e,t,n,r){var i=_;n*=r,(t*=r)===this._screenWidth&&n===this._screenHeight||(i=(65535&(t=c.default.nextPow2(t)))<<16|65535&(n=c.default.nextPow2(n))),this.pool[i]||(this.pool[i]=[]);var o,s=this.pool[i].pop();return s||(o=this.renderer.boundTextures[0],e.activeTexture(e.TEXTURE0),s=new a.default(e,t,n,null,1),e.bindTexture(e.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)),s.resolution=r,s.defaultFrame.width=s.size.width=t/r,s.defaultFrame.height=s.size.height=n/r,s.filterPoolKey=i,s}},{key:"emptyPool",value:function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var n=0;n<t.length;n++)t[n].destroy(!0)}this.pool={}}},{key:"freePotRenderTarget",value:function(e){this.pool[e.filterPoolKey].push(e)}},{key:"onPrerender",value:function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool[_];if(e)for(var t=0;t<e.length;t++)e[t].destroy(!0);this.pool[_]=[]}}}]),y);function y(e){d(this,y);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,e));return t.gl=t.renderer.gl,t.quad=new s.default(t.gl,e.state.attribState),t.shaderCache={},t.pool={},t.filterData=null,t.managedFilters=[],t.renderer.on("prerender",t.onPrerender,t),t._screenWidth=e.view.width,t._screenHeight=e.view.height,t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScreenSpaceMatrix=function(e,t,n){e=e.identity();return e.translate(t.x/n.width,t.y/n.height),e.scale(n.width,n.height),e},t.calculateNormalizedScreenSpaceMatrix=function(e,t,n){var r=e.identity();r.translate(t.x/n.width,t.y/n.height);e=n.width/t.width,t=n.height/t.height;return r.scale(e,t),r},t.calculateSpriteMatrix=function(e,t,n,r){var i=r._texture.orig,n=e.set(n.width,0,0,n.height,t.x,t.y),t=r.worldTransform.copy(o.Matrix.TEMP_MATRIX);return t.invert(),n.prepend(t),n.scale(1/i.width,1/i.height),n.translate(r.anchor.x,r.anchor.y),n};var o=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(6),a=n(0),u=n(14),l=(o=u)&&o.__esModule?o:{default:o},h=n(3);r(c,[{key:"bindTexture",value:function(){}},{key:"getTexture",value:function(){}},{key:"updateTexture",value:function(e,t){var n=this.gl,r=!!e._glRenderTargets;if(!e.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===t)for(var o=t=0;o<i.length;++o)if(i[o]===e){t=o;break}i[t]=e,n.activeTexture(n.TEXTURE0+t);n=e._glTextures[this.renderer.CONTEXT_UID];return n?r?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):n.upload(e.source):(r?((r=new l.default(this.gl,e.width,e.height,e.scaleMode,e.resolution)).resize(e.width,e.height),n=(e._glRenderTargets[this.renderer.CONTEXT_UID]=r).texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()):((n=new s.GLTexture(this.gl,null,null,null,null)).bind(t),n.premultiplyAlpha=!0,n.upload(e.source)),e._glTextures[this.renderer.CONTEXT_UID]=n,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&n.enableMipmap(),e.wrapMode===a.WRAP_MODES.CLAMP?n.enableWrapClamp():e.wrapMode===a.WRAP_MODES.REPEAT?n.enableWrapRepeat():n.enableWrapMirrorRepeat()):n.enableWrapClamp(),e.scaleMode===a.SCALE_MODES.NEAREST?n.enableNearestScaling():n.enableLinearScaling()),n}},{key:"destroyTexture",value:function(e,t){var n,r,i;(e=e.baseTexture||e).hasLoaded&&(n=this.renderer.CONTEXT_UID,r=e._glTextures,i=e._glRenderTargets,r[n]&&(this.renderer.unbindTexture(e),r[n].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete r[n],t||-1!==(e=this._managedTextures.indexOf(e))&&(0,h.removeItems)(this._managedTextures,e,1)),i&&i[n]&&(i[n].destroy(),delete i[n]))}},{key:"removeAll",value:function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}}},{key:"destroy",value:function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null}}]),r=c;function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(0),a=n(2),u=(o=a)&&o.__esModule?o:{default:o};r(l,[{key:"update",value:function(){this.count++,this.mode!==s.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))}},{key:"run",value:function(){for(var e=this.renderer.textureManager,t=e._managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),n=!(t[r]=null))}if(n){for(var o=0,s=0;s<t.length;s++)null!==t[s]&&(t[o++]=t[s]);t.length=o}}},{key:"unload",value:function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var n=e.children.length-1;0<=n;n--)this.unload(e.children[n])}}]),r=l;function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=u.default.GC_MAX_IDLE,this.checkCountMax=u.default.GC_MAX_CHECK_COUNT,this.mode=u.default.GC_MODE}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(122),a=(o=s)&&o.__esModule?o:{default:o};r(u,[{key:"push",value:function(){var e=(e=this.stack[this.stackIndex])||(this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]}},{key:"pop",value:function(){var e=this.stack[--this.stackIndex];this.setState(e)}},{key:"setState",value:function(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])}},{key:"setBlend",value:function(e){this.activeState[0]!==(e=e?1:0)&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))}},{key:"setBlendMode",value:function(e){e!==this.activeState[4]&&(this.activeState[4]=e,2===(e=this.blendModes[e]).length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3]))}},{key:"setDepthTest",value:function(e){this.activeState[1]!==(e=e?1:0)&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))}},{key:"setCullFace",value:function(e){this.activeState[3]!==(e=e?1:0)&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))}},{key:"setFrontFace",value:function(e){this.activeState[2]!==(e=e?1:0)&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))}},{key:"resetAttributes",value:function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)}},{key:"resetToDefault",value:function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)}}]),r=u;function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,a.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[r.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[r.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[r.DRAW_MODES.POINTS]=e.POINTS,t[r.DRAW_MODES.LINES]=e.LINES,t[r.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[r.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[r.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[r.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[r.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default,r=u;r=(r=r.replace(/%count%/gi,t)).replace(/%forloop%/gi,function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)0<n&&(t+="\nelse "),n<e-1&&(t+="if(textureId == "+n+".0)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"}(t));for(var r=new s.default(e,n,r),i=[],o=0;o<t;o++)i[o]=o;return r.bind(),r.uniforms.uSamplers=i,r};var s=r(n(26)),a=r(n(126));n(55);function r(e){return e&&e.__esModule?e:{default:e}}var u=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n"},function(e,t){var n,r,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,u=[],l=!1,h=-1;function c(){l&&a&&(l=!1,a.length?u=a.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=s(c);l=!0;for(var t=u.length;t;){for(a=u,u=[];++h<t;)a&&a[h].run();h=-1,t=u.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!t;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");{var r;n&&((r=document.createElement("canvas")).width=1,r.height=1,t=s.default.createContext(r))}var i=t.createShader(t.FRAGMENT_SHADER);for(;;){var o=a.replace(/%forloop%/gi,function(e){for(var t="",n=0;n<e;++n)0<n&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}(e));if(t.shaderSource(i,o),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}n&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext();return e};var r,i=n(6),s=(r=i)&&r.__esModule?r:{default:r};var a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(o,[{key:"destroy",value:function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var s=d(n(35)),a=d(n(8)),u=n(4),l=n(3),v=n(0),h=d(n(2)),c=d(n(56)),_=d(n(57)),f=d(n(131));function d(e){return e&&e.__esModule?e:{default:e}}var p={texture:!0,children:!1,baseTexture:!0},r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,s.default),r(y,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n=this.context,r=_.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,e=r.height,o=r.lines,s=r.lineHeight,a=r.lineWidths,u=r.maxLineWidth,l=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*t.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,e)+2*t.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=t.stroke,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;var h=void 0,c=void 0;if(t.dropShadow){n.fillStyle=t.dropShadowColor,n.globalAlpha=t.dropShadowAlpha,n.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(n.shadowColor=t.dropShadowColor);for(var f=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,p=0;p<o.length;p++)h=t.strokeThickness/2,c=t.strokeThickness/2+p*s+l.ascent,"right"===t.align?h+=u-a[p]:"center"===t.align&&(h+=(u-a[p])/2),t.fill&&(this.drawLetterSpacing(o[p],h+f+t.padding,c+d+t.padding),t.stroke&&t.strokeThickness&&(n.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(o[p],h+f+t.padding,c+d+t.padding,!0),n.strokeStyle=t.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(t,o);for(var v=0;v<o.length;v++)h=t.strokeThickness/2,c=t.strokeThickness/2+v*s+l.ascent,"right"===t.align?h+=u-a[v]:"center"===t.align&&(h+=(u-a[v])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(o[v],h+t.padding,c+t.padding,!0),t.fill&&this.drawLetterSpacing(o[v],h+t.padding,c+t.padding);this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o,s=String.prototype.split.call(e,""),a=t,u=0;u<e.length;)o=s[u++],r?this.context.strokeText(o,a,n):this.context.fillText(o,a,n),a+=this.context.measureText(o).width+i;else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)}},{key:"updateTexture",value:function(){var e=this.canvas;!this._style.trim||(r=(0,f.default)(e)).data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0));var t=this._texture,n=this._style,r=n.trim?0:n.padding,n=t.baseTexture;n.hasLoaded=!0,n.resolution=this.resolution,n.realWidth=e.width,n.realHeight=e.height,n.width=e.width/this.resolution,n.height=e.height/this.resolution,t.trim.width=t._frame.width=e.width/this.resolution,t.trim.height=t._frame.height=e.height/this.resolution,t.trim.x=-r,t.trim.y=-r,t.orig.width=t._frame.width-2*r,t.orig.height=t._frame.height-2*r,this._onTextureUpdate(),n.emit("update",n),this.dirty=!1}},{key:"renderWebGL",value:function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"renderWebGL",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"_generateFillStyle",value:function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=e.fill.slice(),l=e.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,c=1;c<h;++c)l.push(c/h);if(u.unshift(e.fill[0]),l.unshift(0),u.push(e.fill[e.fill.length-1]),l.push(1),e.fillGradientType===v.TEXT_GRADIENT.LINEAR_VERTICAL)for(var n=this.context.createLinearGradient(s/2,0,s/2,a),r=(u.length+1)*t.length,i=0,f=0;f<t.length;f++){i+=1;for(var d=0;d<u.length;d++)o="number"==typeof l[d]?l[d]/t.length+f/t.length:i/r,n.addColorStop(o,u[d]),i++}else{n=this.context.createLinearGradient(0,a/2,s,a/2),r=u.length+1,i=1;for(var p=0;p<u.length;p++)o="number"==typeof l[p]?l[p]:i/r,n.addColorStop(o,u[p]),i++}return n}},{key:"destroy",value:function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"destroy",this).call(this,e),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,l.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,l.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){(e=e||{})instanceof c.default?this._style=e:this._style=new c.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null==e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),y);function y(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(n=n||document.createElement("canvas")).width=3,n.height=3;var r=a.default.fromCanvas(n,h.default.SCALE_MODE,"text");r.orig=new u.Rectangle,r.trim=new u.Rectangle;r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,r));return a.default.addToCache(r._texture,r._texture.baseTexture.textureCacheIds[0]),r.canvas=n,r.context=r.canvas.getContext("2d"),r.resolution=h.default.RESOLUTION,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=e,r.style=t,r.localStyleID=-1,r}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n).data,o=i.length,s={top:null,left:null,right:null,bottom:null},e=null,a=void 0,u=void 0,l=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%t,l=~~(a/4/t),null===s.top&&(s.top=l),(null===s.left||u<s.left)&&(s.left=u),(null===s.right||s.right<u)&&(s.right=1+u),(null===s.bottom||s.bottom<l)&&(s.bottom=l));null!==s.top&&(t=s.right-s.left,n=s.bottom-s.top+1,e=r.getImageData(s.left,s.top,t,n));return{height:n,width:t,data:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=n(1),o=n(3);r(c,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),r(c,[{key:"_updateResolution",value:function(e){var t=this.data.meta.scale,e=(0,o.getResolutionOfUrl)(e,null);return 1!==(e=null===e?void 0!==t?parseFloat(t):1:e)&&(this.baseTexture.resolution=e,this.baseTexture.update()),e}},{key:"parse",value:function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=c.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}},{key:"_processFrames",value:function(e){for(var t=e,n=c.BATCH_SIZE,r=this.baseTexture.sourceScale;t-e<n&&t<this._frameKeys.length;){var i,o,s,a=this._frameKeys[t],u=this._frames[a],l=u.frame;l&&(i=s=null,o=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,o=new h.Rectangle(0,0,Math.floor(o.w*r)/this.resolution,Math.floor(o.h*r)/this.resolution),s=u.rotated?new h.Rectangle(Math.floor(l.x*r)/this.resolution,Math.floor(l.y*r)/this.resolution,Math.floor(l.h*r)/this.resolution,Math.floor(l.w*r)/this.resolution):new h.Rectangle(Math.floor(l.x*r)/this.resolution,Math.floor(l.y*r)/this.resolution,Math.floor(l.w*r)/this.resolution,Math.floor(l.h*r)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(i=new h.Rectangle(Math.floor(u.spriteSourceSize.x*r)/this.resolution,Math.floor(u.spriteSourceSize.y*r)/this.resolution,Math.floor(l.w*r)/this.resolution,Math.floor(l.h*r)/this.resolution)),this.textures[a]=new h.Texture(this.baseTexture,s,o,i,u.rotated?2:0,u.anchor),h.Texture.addToCache(this.textures[a],a)),t++}}},{key:"_processAnimations",value:function(){var e,t=this.data.animations||{};for(e in t){var n=!0,r=!(this.animations[e]=[]),i=void 0;try{for(var o,s=t[e][Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;this.animations[e].push(this.textures[a])}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var e=this;this._processFrames(this._batchIndex*c.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*c.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)}},{key:"destroy",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null}}]),r=c;function c(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.baseTexture=e,this.textures={},this.animations={},this.data=t,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoDetectRenderer=function(e,t,n,r){var i=e&&e.forceCanvas;void 0!==r&&(i=r);return new(i||!o.isWebGLSupported()?s:a).default(e,t,n)};var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(3)),s=r(n(22)),a=r(n(24));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.Loader=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=u(n(61)),s=u(n(62)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(63)),c=n(28);function u(e){return e&&e.__esModule?e:{default:e}}var l=/(#[\w-]+)?$/,f=t.Loader=(d.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===(void 0===e?"undefined":h(e))&&(r=t||e.callback||e.onComplete,t=(n=e).url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new c.Resource(e,t,n),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[e]),o.progressChunk=u;for(var l=0;l<s.length;++l)s[l].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},d.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},d.prototype.use=function(e){return this._afterMiddleware.push(e),this},d.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){e=this.resources[e];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},d.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},d.prototype._prepareUrl=function(e){var t=(0,s.default)(e,{strictMode:!0}),n=void 0;return n=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString&&(e=l.exec(n)[0],-1!==(n=n.substr(0,n.length-e.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=e),n},d.prototype._loadResource=function(n,e){var r=this;n._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,t){e.call(r,n,function(){t(n.isComplete?{}:null)})},function(){n.isComplete?r._onLoad(n):(n._onLoadBinding=n.onComplete.once(r._onLoad,r),n.load())},!0)},d.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},d.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},d.prototype._onLoad=function(n){var r=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),a.eachSeries(this._afterMiddleware,function(e,t){e.call(r,n,t)},function(){n.onAfterMiddleware.dispatch(n),r.progress=Math.min(100,r.progress+n.progressChunk),r.onProgress.dispatch(r,n),n.error?r.onError.dispatch(n.error,r,n):r.onLoad.dispatch(r,n),r._resourcesParsing.splice(r._resourcesParsing.indexOf(n),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},r(d,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),d);function d(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=a.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var r=0;r<d._defaultBeforeMiddleware.length;++r)this.pre(d._defaultBeforeMiddleware[r]);for(var i=0;i<d._defaultAfterMiddleware.length;++i)this.use(d._defaultAfterMiddleware[i])}f._defaultBeforeMiddleware=[],f._defaultAfterMiddleware=[],f.pre=function(e){return f._defaultBeforeMiddleware.push(e),f},f.use=function(e){return f._defaultAfterMiddleware.push(e),f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=h(n(11)),s=n(136),a=h(n(5)),u=h(n(66)),l=h(n(65)),n=h(n(60));function h(e){return e&&e.__esModule?e:{default:e}}var c,f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,o.default),r(d,[{key:"destroy",value:function(){this.removeAllListeners(),this.reset()}}],[{key:"addPixiMiddleware",value:function(e){d._pixiMiddleware.push(e)}}]),d);function d(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,t));a.default.call(r);for(var n=0;n<d._pixiMiddleware.length;++n)r.use(d._pixiMiddleware[n]());return r.onStart.add(function(e){return r.emit("start",e)}),r.onProgress.add(function(e,t){return r.emit("progress",e,t)}),r.onError.add(function(e,t,n){return r.emit("error",e,t,n)}),r.onLoad.add(function(e,t){return r.emit("load",e,t)}),r.onComplete.add(function(e,t){return r.emit("complete",e,t)}),r}for(c in t.default=f,a.default.prototype)f.prototype[c]=a.default.prototype[c];f._pixiMiddleware=[s.blobMiddlewareFactory,u.default,l.default,n.default];o=o.default.Resource;o.setExtensionXhrType("fnt",o.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,n){"use strict";t.__esModule=!0,t.blobMiddlewareFactory=function(){return function(e,t){if(e.data){if(e.xhr&&e.xhrType===i.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=s.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=i.Resource.TYPE.IMAGE,void(e.data.onload=function(){s.revokeObjectURL(n),e.data.onload=null,t()})}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+(0,o.encodeBinary)(e.xhr.responseText),e.type=i.Resource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}};var i=n(28),o=n(64),s=window.URL||window.webkitURL},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){if(!i.default.isAudioSupported||!e.data)return t();var n=e.url.split("?").shift().split(".").pop().toLowerCase();if(-1===i.default.exts.indexOf(n))return t();var r=e.name||e.url;if(!i.default.isWebAudioSupported)return o.default.audios[r]=e.data,t();i.default.globalWebAudioContext.decodeAudioData(e.data,function(e){o.default.audios[r]=e,t()})}};var i=r(n(15)),o=r(n(67));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),a=n(15),u=(o=a)&&o.__esModule?o:{default:o};(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,s.utils.EventEmitter),r(l,[{key:"play",value:function(e){return!e&&this.paused||!e&&this.playing||(this.playing=!0,this.emit("play"),u.default.isWebAudioSupported?(this.audio=this.manager.context.createBufferSource(),this.audio.start=this.audio.start||this.audio.noteOn,this.audio.stop=this.audio.stop||this.audio.noteOff,this.audio.buffer=this.data,this.audio.loop=this.loop,this._startTime=this.manager.context.currentTime,this.audio.onended=this._onEnd.bind(this),this.audio.gainNode=u.default.createGainNode(this.manager.context),this.audio.gainNode.gain.value=this.muted?0:this.volume,this.audio.gainNode.connect(this.manager.gainNode),this.audio.connect(this.audio.gainNode),this.audio.start(0,e?this._lastPauseTime:null)):(this.audio.src=this.data.children[0].src,this.audio.preload="auto",this.audio.volume=this.muted?0:this.volume,this.audio.load(),this.audio.play())),this}},{key:"stop",value:function(){return this.playing&&(u.default.isWebAudioSupported?this.audio.stop(0):(this.audio.pause(),this.audio.currentTime=0),this.playing=!1,this.emit("stop")),this}},{key:"reset",value:function(){this._startTime=0,this._lastPauseTime=0,this._offsetTime=0,this.playing=!1}},{key:"remove",value:function(){this.manager.removeAudio(this)}},{key:"_onEnd",value:function(){u.default.isWebAudioSupported?this.paused||(this.reset(),this.emit("end")):this.loop?(this.audio.currentTime=0,this.audio.play()):(this.reset(),this.emit("end"))}},{key:"paused",get:function(){return this._paused},set:function(e){e!==this._paused&&(e?(u.default.isWebAudioSupported?(this._offsetTime+=this.manager.context.currentTime-this._startTime,this._lastPauseTime=this._offsetTime%this.audio.buffer.duration,this.audio&&this.audio.stop(0)):this.audio&&this.audio.pause(),this.emit("pause")):(u.default.isWebAudioSupported?this.play(!0):this.audio&&this.audio.play(),this.emit("resume")),this._paused=e)}},{key:"loop",get:function(){return this._loop},set:function(e){e!==this._loop&&(this._loop=e,u.default.isWebAudioSupported&&this.audio&&(this.audio.loop=e))}},{key:"volume",get:function(){return this._volume},set:function(e){e!==this._volume&&(u.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this.muted?0:this.volume):this.audio&&(this.audio.volume=this.muted?0:this.volume),this._volume=e)}},{key:"muted",get:function(){return this._muted},set:function(e){e!==this._muted&&(this._muted=e,u.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this._muted?0:this.volume):this.audio&&(this.audio.volume=this._muted?0:this.volume))}}]),r=l;function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return n._loop=!1,n._paused=!1,n._muted=!1,n._volume=1,n._startTime=0,n._lastPauseTime=0,n._offsetTime=0,n.playing=!1,n.manager=t,n.data=e,n.name="",u.default.isWebAudioSupported||(n.audio=new window.Audio,n.audio.addEventListener("ended",n._onEnd.bind(n))),n}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(140);Object.defineProperty(t,"Game",{enumerable:!0,get:function(){return u(r).default}});var i=n(142);Object.defineProperty(t,"SpriteClip",{enumerable:!0,get:function(){return u(i).default}});var o=n(143);Object.defineProperty(t,"TextClip",{enumerable:!0,get:function(){return u(o).default}});var s=n(144);Object.defineProperty(t,"AnimatedClip",{enumerable:!0,get:function(){return u(s).default}});var a=n(68);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AnimatedSprite",{enumerable:!0,get:function(){return u(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=h(n(1)),a=n(141),u=(o=a)&&o.__esModule?o:{default:o},l=(h(n(27)),n(59));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}s.utils.skipHello(),s.settings.PRECISION_FRAGMENT="highp";(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,s.Application),r(c,[{key:"_init",value:function(){this.initWidth,this.initHeight;this.autoResize&&(this.resizeW=this._resize.bind(this),window.addEventListener("resize",this.resizeW),this.resizeW()),this.ticker.add(this._animate,this)}},{key:"_resize",value:function(){try{var e=this.domElement.offsetWidth/this.initWidth;this.initHeight=this.domElement.offsetHeight/e,this.view.style.width="100%",this.renderer.resize(this.initWidth,this.initHeight),this.render()}catch(e){console.log(e.message),console.log("销毁场景时请执行 removeThis")}}},{key:"_animate",value:function(e){this.stats&&this.stats.update()}},{key:"preload",value:function(n){for(var e in void 0===n&&(n={}),(n=Object.assign({assets:{},loading:function(){},loaded:function(){}},n)).assets)SINT.loader.add(e,n.assets[e]);var r=SINT.loader.onProgress.add(n.loading);SINT.loader.load(function(e,t){r.detach(),n.loaded()})}},{key:"add",value:function(e){return this.stage.addChild(e),e}},{key:"addChild",value:function(e){return this.stage.addChild(e),e}},{key:"remove",value:function(e){this.stage.removeChild(e)}},{key:"removeChild",value:function(e){this.stage.removeChild(e)}},{key:"removeThis",value:function(){this.stats&&this.domElement.removeChild(this.stats.dom),console.warn("removeThis"),this.autoResize&&window.removeEventListener("resize",this.resizeW);for(var e,t=document.body.getElementsByTagName("button"),n=0;n<t.length;n++){var r=t[n];"HOOK DIV"==r.title&&document.body.removeChild(r)}for(e in this.destroy(!0),SINT.Audios.destroy(),SINT.loader.resources){var i=SINT.loader.resources[e],o=i.texture;o&&o.destroy(!0);var s=i.textures;if(s)for(var a in s)s[a].destroy(!0)}SINT.loader.destroy()}}]),r=c;function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),void 0===e&&(e={}),e=Object.assign({domElement:null,initWidth:750,initHeight:1334,showFPS:!0,backgroundColor:0,transparent:!1,autoResize:!0},e);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,{width:e.initWidth,height:e.initHeight,backgroundColor:e.backgroundColor,transparent:e.transparent}));return t.domElement=e.domElement,t.autoResize=e.autoResize,t.initWidth=e.initWidth,t.initHeight=e.initHeight,t.domElement.appendChild(t.view),e.showFPS&&(t.stats=new u.default,t.domElement.appendChild(t.stats.dom)),SINT.Audios=new l.AudioManager,t._init(),t}t.default=r},function(e,t,n){var h;e.exports=((h=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++n%r.children.length)},!1);var i,o=(performance||Date).now(),s=o,a=0,u=e(new h.Panel("FPS","#0ff","#002")),l=e(new h.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(i=e(new h.Panel("MB","#f08","#201"))),t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){a++;var e,t=(performance||Date).now();return l.update(t-o,200),s+1e3<t&&(u.update(1e3*a/(t-s),100),s=t,a=0,i)&&(e=performance.memory,i.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)),t},update:function(){o=this.end()},domElement:r,setMode:t}}).Panel=function(n,r,i){var o=1/0,s=0,a=Math.round,u=a(window.devicePixelRatio||1),l=80*u,e=48*u,h=3*u,c=2*u,f=3*u,d=15*u,p=74*u,v=30*u,_=document.createElement("canvas");_.width=l,_.height=e,_.style.cssText="width:80px;height:48px";var y=_.getContext("2d");return y.font="bold "+9*u+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=i,y.fillRect(0,0,l,e),y.fillStyle=r,y.fillText(n,h,c),y.fillRect(f,d,p,v),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(f,d,p,v),{dom:_,update:function(e,t){o=Math.min(o,e),s=Math.max(s,e),y.fillStyle=i,y.globalAlpha=1,y.fillRect(0,0,l,d),y.fillStyle=r,y.fillText(a(e)+" "+n+" ("+a(o)+"-"+a(s)+")",h,c),y.drawImage(_,f+u,d,p-u,v,f,d,p-u,v),y.fillRect(f+p-u,d,u,v),y.fillStyle=i,y.globalAlpha=.9,y.fillRect(f+p-u,d,u,a((1-e/t)*v))}}},h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1));(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,r.Sprite),n=i;function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);n=r.Texture.fromFrame(n),n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n));return n.x=e,n.y=t,n}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)).Text),n=i;function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,r));return r.x=e,r.y=t,r}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),i=n(68);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,((r=i)&&r.__esModule?r:{default:r}).default),n=s;function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=[];if("string"==typeof n)for(var i in SINT.loader.resources[n].textures){i=o.Texture.fromFrame(i);r.push(i)}else n instanceof Array&&n.forEach(function(e,t){e=o.Texture.fromFrame(e);r.push(e)});n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,r));return n.x=e,n.y=t,n}t.default=n},function(e,t,n){"use strict";function r(e){return e.x+e.width}function i(e){return e.y+e.height}Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlStr=function(e){e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(e);return null!=e?unescape(e[2]):null},t.degToRad=function(e){return e*Math.PI/180},t.getImageXYData=function(e,t,n){var r=document.createElement("canvas");document.body.appendChild(r),r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0,t,n);var o=i.getImageData(0,0,t,n);document.body.removeChild(r);for(var s=[],a=.5*t,u=.5*n,l=0;l<n;l+=2)for(var h=0;h<t;h+=2){var c=l*t+h,f=[o.data[4*c],o.data[4*c+1],o.data[4*c+2],o.data[4*c+3]];0<o.data[4*c+3]&&s.push([h-a,u-l,f])}return s},t.getImageRGBAData=function(e,t,n){var r=document.createElement("canvas");document.body.appendChild(r),r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0,t,n);n=i.getImageData(0,0,t,n);return document.body.removeChild(r),n},t.getTxtImage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,n=document.createElement("canvas");document.body.appendChild(n),n.width=512,n.height=128;var r=n.getContext("2d");r.font=t+"sx Verdana",r.fillStyle="#ffffff",r.textAlign="center",r.fillText(e,256,64);e=n.toDataURL("image/png");document.body.removeChild(n);n=document.createElement("img");return n.src=e,n},t.canvasToImage=function(e){e.getContext("experimental-webgl",{preserveDrawingBuffer:!0});var t=e.toDataURL("image/png"),e=document.createElement("img");return e.src=t,e},t.readFile=function(r){return console.log(r.type),new Promise(function(t,e){var n=new FileReader;n.readAsDataURL(r),n.onload=function(e){/image\/\w+/.test(r.type)?console.log("type: /image"):t(this.result)},n.onerror=function(){e(new Error("Could not load file"+r))}})},t.readJson=function(r){return console.log(r.type),new Promise(function(t,e){var n=new FileReader;n.readAsText(r),n.onload=function(e){t(JSON.parse(this.result))},n.onerror=function(){e(new Error("Could not load file"+r))}})},t.loadJson=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.send(null),r.onload=function(e){200==r.status?t(JSON.parse(this.responseText)):n(new Error("Could not loadJson"))}})},t.postJson=function(e,n){return new Promise(function(t,r){$.ajax({type:"POST",url:e,data:n,success:function(e){t(JSON.parse(e))},error:function(e,t,n){r(t)}})})},t.isContainsRect=function(e,t){if(!e||!t)return!1;if(t instanceof SINT.Rectangle)return!(e.x>=t.x||e.y>=t.y||e.x+e.width<=t.x+t.width||e.y+e.height<=t.y+t.height);if(t instanceof SINT.Point)return t.x>=e.x&&t.x<=r(e)&&t.y>=e.y&&t.y<=i(e)},t.isIntersectsRect=function(e,t){return!(r(e)<t.x||r(t)<e.x||i(e)<t.y||i(t)<e.y)},t.getPointAngle=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y,e=Math.abs(n-i),t=Math.abs(r-o),e=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),e=t/e,e=Math.acos(e),e=Math.floor(180/(Math.PI/e));n<i&&r<o&&(e=180-e);i==n&&r<o&&(e=180);n<i&&o==r&&(e=90);i<n&&r<o&&(e=180+e);i<n&&o==r&&(e=270);i<n&&o<r&&(e=360-e);return e},t.getPointDistance=function(e,t){var n=t.x-e.x,e=t.y-e.y;return Math.pow(n*n+e*e,.5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplacementFilter=t.HolesFilter=t.GlitchFilter=t.BulgePinchFilter=t.BlurFilter=t.ColorMatrixFilter=t.AlphaFilter=void 0,t.doGlitch=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=new h.GlitchFilter;e.filters=[r],a.default.to(r,t,{time:1,ease:Linear.easeNone,onComplete:function(){n&&(e.filters=[])}})},t.doDye=function(e,t){var n=new r.default(t),t=new i.default;t.blackAndWhite(),e.filters=[t,n]},t.doTwist=function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],n=new l.TwistFilter(n,0);n.offset.set(t);var o=new s.default;e.filters=[n,o],a.default.to(n,r,{angle:10,ease:Strong.easeInOut}),i&&a.default.to(o,.7*r,{ease:Strong.easeInOut,alpha:0,delay:.3*r,onComplete:function(){e.filters=[o],a.default.to(o,1,{alpha:1,onComplete:function(){e.filters=[]}})}})},t.doDisplacement=function(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=new f.DisplacementFilter;e.filters=[s],a.default.to(s,i,{density:t,speed:n,zoom:r,ease:Linear.easeNone,onComplete:function(){o&&(e.filters=[])}})};var a=d(n(69)),r=d(n(148)),i=d(n(150)),s=d(n(152)),o=d(n(154)),u=n(157),l=n(160),h=n(163),c=n(166),f=n(169);function d(e){return e&&e.__esModule?e:{default:e}}t.AlphaFilter=s.default,t.ColorMatrixFilter=i.default,t.BlurFilter=o.default,t.BulgePinchFilter=u.BulgePinchFilter,t.GlitchFilter=h.GlitchFilter,t.HolesFilter=c.HolesFilter,t.DisplacementFilter=f.DisplacementFilter},function(r,i,o){!function(e){var t,n,d=r.exports&&void 0!==e?e:this||window;(d._gsQueue||(d._gsQueue=[])).push(function(){"use strict";d._gsDefine("easing.Back",["easing.Ease"],function(_){function e(e,t){var n=l("easing."+e,function(){},!0);return(e=n.prototype=new _).constructor=n,e.getRatio=t,n}function t(e,t,n,r,i){return r=l("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0),h(r,e),r}function y(e,t,n){this.t=e,this.v=t,n&&(((this.next=n).prev=this).c=n.v-t,this.gap=n.t-e)}var n,r,i,o=d.GreenSockGlobals||d,s=o.com.greensock,a=2*Math.PI,u=Math.PI/2,l=s._class,h=_.register||function(){},c=function(e,t){var n=l("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),e=n.prototype=new _;return e.constructor=n,e.getRatio=t,e.config=function(e){return new n(e)},n},s=t("Back",c("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),c("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),c("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),f=l("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:1<e&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),c=f.prototype=new _;return c.constructor=f,c.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},f.ease=new f(.7,.7),c.config=f.config=function(e,t,n){return new f(e,t,n)},(c=(n=l("easing.SteppedEase",function(e,t){this._p1=1/(e=e||1),this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new _).constructor=n,c.getRatio=function(e){return e<0?e=0:1<=e&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},c.config=n.config=function(e,t){return new n(e,t)},(c=(r=l("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0)).prototype=new _).constructor=r,c.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},c.config=r.config=function(e,t,n){return new r(e,t,n)},(c=(i=l("easing.RoughEase",function(e){for(var t,n,r,i,o,s,a=(e=e||{}).taper||"none",u=[],l=0,h=0|(e.points||20),c=h,f=!1!==e.randomize,d=!0===e.clamp,p=e.template instanceof _?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;-1<--c;)t=f?Math.random():1/h*c,n=p?p.getRatio(t):t,r="none"===a?v:"out"===a?(i=1-t)*i*v:"in"===a?t*t*v:t<.5?(i=2*t)*i*.5*v:(i=2*(1-t))*i*.5*v,f?n+=Math.random()*r-.5*r:c%2?n+=.5*r:n-=.5*r,d&&(1<n?n=1:n<0&&(n=0)),u[l++]={x:t,y:n};for(u.sort(function(e,t){return e.x-t.x}),s=new y(1,1,null),c=h;-1<--c;)o=u[c],s=new y(o.x,o.y,s);this._prev=new y(0,0,0!==s.t?s:s.next)},!0)).prototype=new _).constructor=i,c.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return(this._prev=t).v+(e-t.t)/t.gap*t.c},c.config=function(e){return new i(e)},i.ease=new i,t("Bounce",e("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),e("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),e("BounceInOut",function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),t("Circ",e("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),e("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),e("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),t("Elastic",(c=function(e,t,n){var r=l("easing."+e,function(e,t){this._p1=1<=e?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),e=r.prototype=new _;return e.constructor=r,e.getRatio=t,e.config=function(e,t){return new r(e,t)},r})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),c("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*--e)*Math.sin((e-this._p3)*this._p2))},.3),c("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*--e)*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*--e)*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),t("Expo",e("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),e("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),e("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),t("Sine",e("SineOut",function(e){return Math.sin(e*u)}),e("SineIn",function(e){return 1-Math.cos(e*u)}),e("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(e){return _.map[e]}},!0),h(o.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(n,"SteppedEase","ease,"),s},!0)}),d._gsDefine&&d._gsQueue.pop()(),function(){"use strict";function e(){return d.GreenSockGlobals||d}r.exports?(o(29),r.exports=e()):(t=[o(29)],void 0===(n="function"==typeof(n=e)?n.apply(i,t):n)||(r.exports=n))}()}.call(this,o(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(149));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"color",get:function(){return this._uColor},set:function(e){var t=this.uniforms.uColor;"number"==typeof e?(o.utils.hex2rgb(e,t),this._uColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._uColor=o.utils.rgb2hex(t))}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16777215;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return t.uniforms.uColor=new Float32Array(3),t.color=e,t.glShaderKey="dyeColor",t}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec3 uColor;\n\nvoid main(void)\n{\n   vec4 currentColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor = vec4(mix(currentColor.rgb, uColor * currentColor.a, 0.7)*1.3, currentColor.a);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(151));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"_loadMatrix",value:function(e){var t=e;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}},{key:"_colorMatrix",value:function(e){e=new Float32Array(e);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}},{key:"brightness",value:function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}},{key:"greyscale",value:function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),e=(0,Math.sqrt)(1/3);this._loadMatrix([n+1/3*(1-n),1/3*(1-n)-e*r,1/3*(1-n)+e*r,0,0,1/3*(1-n)+e*r,n+1/3*(1-n),1/3*(1-n)-e*r,0,0,1/3*(1-n)-e*r,1/3*(1-n)+e*r,n+1/3*(1-n),0,0,0,0,0,1,0],t)}},{key:"contrast",value:function(e,t){var n=(e||0)+1,e=-.5*(n-1);this._loadMatrix([n,0,0,0,e,0,n,0,0,e,0,0,n,0,e,0,0,0,1,0],t)}},{key:"saturate",value:function(){var e=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,t=-.5*(e-1);this._loadMatrix([e,t,t,0,0,t,e,t,0,0,t,t,e,0,0,0,0,0,1,0],arguments[1])}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=((r=r||3375104)>>16&255)/255,n=(r>>8&255)/255,r=(255&r)/255;this._loadMatrix([.3,.59,.11,0,0,o,s,a,e=e||.2,0,u,n,r,t=t||.15,0,o-u,s-n,a-r,0,0],i)}},{key:"night",value:function(e,t){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)}},{key:"predator",value:function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),r=l;function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return e.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],e.alpha=1,e}(t.default=r).prototype.grayscale=r.prototype.greyscale},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(153));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return t.alpha=e,t.glShaderKey="alpha",t}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(155)),a=u(n(156));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n){var r=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,r,!0),this.blurYFilter.apply(e,r,n,!1),e.returnRenderTarget(r)}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),r=l;function l(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.blurXFilter=new s.default(e,t,n,r),i.blurYFilter=new a.default(e,t,n,r),i.padding=0,i.resolution=n||o.settings.RESOLUTION,i.quality=t||4,i.blur=e||8,i}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),l=s(n(70)),h=s(n(71)),c=s(n(72));function s(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,o.Filter),r(a,[{key:"apply",value:function(e,t,n,r){if(this.firstRun&&(i=e.renderer.gl,i=(0,c.default)(i),this.vertexSrc=(0,l.default)(i,!0),this.fragmentSrc=(0,h.default)(i),this.firstRun=!1),this.uniforms.strength=1/n.size.width*(n.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{for(var i=e.getRenderTarget(!0),o=t,s=i,a=0;a<this.passes-1;a++){e.applyFilter(this,o,s,!0);var u=s,s=o,o=u}e.applyFilter(this,o,n,r),e.returnRenderTarget(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),r=a;function a(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=(0,l.default)(r=r||5,!0),r=(0,h.default)(r),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,r));return r.resolution=n||o.settings.RESOLUTION,r._quality=0,r.quality=t||4,r.strength=e||8,r.firstRun=!0,r}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),l=s(n(70)),h=s(n(71)),c=s(n(72));function s(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,o.Filter),r(a,[{key:"apply",value:function(e,t,n,r){if(this.firstRun&&(i=e.renderer.gl,i=(0,c.default)(i),this.vertexSrc=(0,l.default)(i,!1),this.fragmentSrc=(0,h.default)(i),this.firstRun=!1),this.uniforms.strength=1/n.size.height*(n.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{for(var i=e.getRenderTarget(!0),o=t,s=i,a=0;a<this.passes-1;a++){e.applyFilter(this,o,s,!0);var u=s,s=o,o=u}e.applyFilter(this,o,n,r),e.returnRenderTarget(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),r=a;function a(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=(0,l.default)(r=r||5,!1),r=(0,h.default)(r),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,r));return r.resolution=n||o.settings.RESOLUTION,r._quality=0,r.quality=t||4,r.strength=e||8,r.firstRun=!0,r}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(158);Object.defineProperty(t,"BulgePinchFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(159));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n,r){this.uniforms.dimensions[0]=t.sourceFrame.width,this.uniforms.dimensions[1]=t.sourceFrame.height,e.applyFilter(this,t,n,r)}},{key:"radius",get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e}},{key:"strength",get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e}},{key:"center",get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e}}]),r=l;function l(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return r.uniforms.dimensions=new Float32Array(2),r.center=e||[.5,.5],r.radius=t||100,r.strength=n||1,r}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord; // tybug for go first\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float strength;\nuniform vec2 center;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(161);Object.defineProperty(t,"TwistFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(162));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"offset",get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e}},{key:"radius",get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e}},{key:"angle",get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return r.radius=e,r.angle=t,r.padding=n,r}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(164);Object.defineProperty(t,"GlitchFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(165));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"time",get:function(){return this.uniforms.time},set:function(e){this.uniforms.time=e}}]),r=l;function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return e.uniforms.time=0,e}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float time;\n\n\nfloat random_1_0(vec2 c){\n  return fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_2_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_2_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_2_2(vec4 x) {\n     return mod289_2_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_2_3(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_2_4(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_2_5 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_2_6 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_2_6;\n  vec3 i1 = min( g_2_6.xyz, l.zxy );\n  vec3 i2 = max( g_2_6.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_2_5.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_2_1(i);\n  vec4 p = permute_2_2( permute_2_2( permute_2_2(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_2_5.wyz - D_2_5.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_2_7 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_2_8 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_2_7.xy,h.z);\n  vec3 p3 = vec3(a1_2_7.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_2_3(vec4(dot(p0_2_8,p0_2_8), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_2_8 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_2_8,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nconst float interval = 3.0;\n\nvoid main(void){\n  float strength = smoothstep(interval * 0.5, interval, interval - mod(time, interval));\n  vec2 shake = vec2(strength * 8.0 + 0.5) * vec2(\n    random_1_0(vec2(time)) * 2.0 - 1.0,\n    random_1_0(vec2(time * 2.0)) * 2.0 - 1.0\n  ) / filterArea.xy;\n\n  float y = vTextureCoord.y * filterArea.y;\n  float rgbWave = (\n      snoise_2_4(vec3(0.0, y * 0.01, time * 400.0)) * (2.0 + strength * 32.0)\n      * snoise_2_4(vec3(0.0, y * 0.02, time * 200.0)) * (1.0 + strength * 4.0)\n      + step(0.9995, sin(y * 0.005 + time * 1.6)) * 12.0\n      + step(0.9999, sin(y * 0.005 + time * 2.0)) * -18.0\n    ) / filterArea.x;\n  float rgbDiff = (6.0 + sin(time * 500.0 + vTextureCoord.y * 40.0) * (20.0 * strength + 1.0)) / filterArea.x;\n  float rgbUvX = vTextureCoord.x + rgbWave;\n  float r = texture2D(uSampler, vec2(rgbUvX + rgbDiff, vTextureCoord.y) + shake).r;\n  float g = texture2D(uSampler, vec2(rgbUvX, vTextureCoord.y) + shake).g;\n  float b = texture2D(uSampler, vec2(rgbUvX - rgbDiff, vTextureCoord.y) + shake).b;\n\n  float whiteNoise = (random_1_0(vTextureCoord + mod(time, 10.0)) * 2.0 - 1.0) * (0.15 + strength * 0.15);\n\n  float bnTime = floor(time * 20.0) * 200.0;\n  float noiseX = step((snoise_2_4(vec3(0.0, vTextureCoord.x * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float noiseY = step((snoise_2_4(vec3(0.0, vTextureCoord.y * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float bnMask = noiseX * noiseY;\n  float bnUvX = vTextureCoord.x + sin(bnTime) * 0.2 + rgbWave;\n  float bnR = texture2D(uSampler, vec2(bnUvX + rgbDiff, vTextureCoord.y)).r * bnMask;\n  float bnG = texture2D(uSampler, vec2(bnUvX, vTextureCoord.y)).g * bnMask;\n  float bnB = texture2D(uSampler, vec2(bnUvX - rgbDiff, vTextureCoord.y)).b * bnMask;\n  vec4 blockNoise = vec4(bnR, bnG, bnB, 1.0);\n\n  float bnTime2 = floor(time * 25.0) * 300.0;\n  float noiseX2 = step((snoise_2_4(vec3(0.0, vTextureCoord.x * 2.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.5);\n  float noiseY2 = step((snoise_2_4(vec3(0.0, vTextureCoord.y * 8.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float bnMask2 = noiseX2 * noiseY2;\n  float bnR2 = texture2D(uSampler, vec2(bnUvX + rgbDiff, vTextureCoord.y)).r * bnMask2;\n  float bnG2 = texture2D(uSampler, vec2(bnUvX, vTextureCoord.y)).g * bnMask2;\n  float bnB2 = texture2D(uSampler, vec2(bnUvX - rgbDiff, vTextureCoord.y)).b * bnMask2;\n  vec4 blockNoise2 = vec4(bnR2, bnG2, bnB2, 1.0);\n\n  float waveNoise = (sin(vTextureCoord.y * 1200.0) + 1.0) / 2.0 * (0.15 + strength * 0.2);\n\n  gl_FragColor = vec4(r, g, b, 1.0) * (1.0 - bnMask - bnMask2) + (whiteNoise + blockNoise + blockNoise2 - waveNoise);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167);Object.defineProperty(t,"HolesFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(168));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n,r){this.uniforms.time+=.03,e.applyFilter(this,t,n,r)}},{key:"color1",get:function(){return this.uColor1},set:function(e){var t=this.uniforms.uColor1;"number"==typeof e?(o.utils.hex2rgb(e,t),this.uColor1=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this.uColor1=o.utils.rgb2hex(t))}},{key:"color2",get:function(){return this.uColor2},set:function(e){var t=this.uniforms.uColor2;"number"==typeof e?(o.utils.hex2rgb(e,t),this.uColor2=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this.uColor2=o.utils.rgb2hex(t))}},{key:"density",get:function(){return this.uniforms.density},set:function(e){this.uniforms.density=e}},{key:"speed",get:function(){return this.uniforms.speed},set:function(e){this.uniforms.speed=e}},{key:"zoom",get:function(){return this.uniforms.zoom},set:function(e){this.uniforms.zoom=e}},{key:"offset",get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4880266,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15989233,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return o.uniforms.time=0,o.uniforms.uColor1=new Float32Array(3),o.uniforms.uColor2=new Float32Array(3),o.color1=e,o.color2=t,o.uniforms.density=n,o.uniforms.speed=r,o.uniforms.zoom=i,o}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float time;\nuniform vec2 offset;\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\n\nuniform float density;\nuniform float speed;\nuniform float zoom;\n\n\n\n\n// \n// base: https://www.shadertoy.com/view/XdyXz3\n// other https://www.shadertoy.com/view/MsdGWn\n// other https://www.shadertoy.com/view/4slXzs\n//\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\nvec3 convertHsvToRgb_2_8(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\nvec3 convertRgbToHsv_3_9(vec3 c) {\n  vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n  vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n  vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n  float d = q.x - min(q.w, q.y);\n  float e = 1.0e-10;\n  return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n\n\n\n\n\nvec3 noise3( in vec3 x)\n{\n  return vec3( \n      snoise_1_3(x+vec3(61.456,.567,.37)+vec3(offset.x)*speed*density),\n      snoise_1_3(x+vec3(.11,47.43,19.17)+vec3(offset.y)*speed*density),\n      snoise_1_3(x)\n      );\n}\n\nmat3 rotation(float angle, vec3 axis)\n{\n  float s = sin(-angle);\n  float c = cos(-angle);\n  vec3 sa = axis * s;\n  vec3 oca = axis * c;\n  return mat3(  \n    oca.x * axis + vec3(  c,  -sa.z,  sa.y),\n    oca.y * axis + vec3( sa.z,  c,    -sa.x),   \n    oca.z * axis + vec3(-sa.y,  sa.x, c));  \n}\n\n// https://code.google.com/p/fractalterraingeneration/wiki/Fractional_Brownian_Motion\nvec3 fbm(vec3 x, float H, float L)\n{\n  vec3 v = vec3(0);\n  float f = 1.;\n  for (int i=0; i<3; i++)\n  {\n    float w = pow(f,-H);\n    v += noise3(x)*w;\n    x *= L;\n    f *= L;\n  }\n  return v;\n}\n\n\n\nvoid main(void)\n{\n    vec2 uv = vTextureCoord;\n    uv.x *= filterArea.x / filterArea.y;\n\n    float time = time*speed*0.1;\n    uv *= 1. + 0.25*sin(time*0.1);  \n    \n    \n    vec3 p = vec3(uv*zoom,time);  //coordinate + slight change over time\n    vec3 axis = 4. * fbm(p, 0.5, density);  //random fbm axis of rotation      \n\n    vec3 colorVec = vec3(1.0); \n\n    colorVec = rotation(1.5*length(axis),normalize(axis))*colorVec;\n    colorVec *= 0.7;\n\n    colorVec = vec3(length(convertRgbToHsv_3_9(colorVec).xz));\n\n    colorVec = max(vec3(0.76),colorVec);\n    \n\n    colorVec *= (vTextureCoord.y) * uColor1;\n    colorVec += (1.0-vTextureCoord.y) *uColor2;\n\n\n    // vec4 bg = texture2D(uSampler, vTextureCoord );\n    // colorVec += bg.rgb*0.1;\n\n    gl_FragColor = vec4(colorVec,1.0);\n}\n\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170);Object.defineProperty(t,"DisplacementFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),s=u(n(7)),a=u(n(171));function u(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n,r){this.uniforms.time+=.03,e.applyFilter(this,t,n,r)}},{key:"density",get:function(){return this.uniforms.density},set:function(e){this.uniforms.density=e}},{key:"speed",get:function(){return this.uniforms.speed},set:function(e){this.uniforms.speed=e}},{key:"zoom",get:function(){return this.uniforms.zoom},set:function(e){this.uniforms.zoom=e}}]),r=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return r.uniforms.time=0,r.uniforms.density=e,r.uniforms.speed=t,r.uniforms.zoom=n,r}t.default=r},function(e,t){e.exports="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float time;\nuniform float density;\nuniform float speed;\nuniform float zoom;\n\n\n// FBM / Octave Noise\nconst float scalDiv = 4.;\nconst float scalDivt = 2.1;\nconst float sc1 = 1.0/scalDiv;\nconst float sc2 = sc1/scalDiv;\nconst float sc3 = sc2/scalDiv;\nconst float sc1t = 1.0 /scalDivt;\nconst float sc2t = sc1t/scalDivt;\nconst float sc3t = sc2t/scalDivt;\nfloat FBM(vec3 v) {\n\treturn 1.   *0.5    * snoise_1_3(v*vec3(sc3, sc3, sc3t)) + \n\t\t   0.4  *0.25   * snoise_1_3(v*vec3(sc2, sc2, sc2t)) + \n\t\t   0.15 *0.125  * snoise_1_3(v*vec3(sc1, sc1, sc1t));\n}\n\n\n\nvoid main(void)\n{\n\n  vec2 uv = vTextureCoord * (1. - 0.2*zoom) + vec2(zoom, zoom)*0.1;\n  float niceNoise1 = FBM( vec3(100.0 * uv, speed *time*10.)) * 0.3;\n  float niceNoise2 = FBM( vec3(100.0 * uv, speed *time*11. + 300.)) * 0.33;\n\n  gl_FragColor = texture2D(uSampler, uv + density*vec2(niceNoise1,niceNoise2) );\n\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(5);(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,((o=s)&&o.__esModule?o:{default:o}).default),r(a,[{key:"_init",value:function(){var e=this;this._video.addEventListener("ended",function(){console.log("video_ended"),e.emit("ended",e._video)},!1),this._video.addEventListener("playing",function(){console.log("video_playing"),e.emit("playing",e._video),e.debugDiv&&(e.parentElement.removeChild(e.debugDiv),e.debugDiv=null)},!1),this._video.addEventListener("canplay",function(){console.log("video_canplay"),e.emit("canplay",e._video)},!1),this._video.addEventListener("waiting",function(){console.log("video_waiting"),e.emit("waiting",e._video)},!1)}},{key:"seek",value:function(e){this._video.currentTime=e}},{key:"toPlay",value:function(){this._video.play(),this.debugDiv=document.createElement("div"),this.parentElement.appendChild(this.debugDiv)}},{key:"toPause",value:function(){this._video.pause()}},{key:"destroy",value:function(){this.removeAllListeners(),this._video.remove(),this.videoElement&&(this.parentElement.removeChild(this.videoElement),this.videoElement=null),this.parentElement.style.display="none"}}]),r=a;function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return void 0===e&&(e={}),e=Object.assign({parentElement:document.body,videoUrl:"./assets/video/v1.mp4",posterImg:"./assets/video/v1.jpg"},e),t.parentElement=e.parentElement,t.parentElement.style.display="block",t.videoElement=document.createElement("div"),t.videoElement.className="video-player",t.videoElement.style.position="absolute",t.videoElement.style.margin=0,t.videoElement.style.padding=0,t.videoElement.style.width="100%",t.videoElement.style.height="100%",t.videoElement.style.zIndex=1e3,t.videoElement.innerHTML='<video id="video"  webkit-playsinline="true" x-webkit-airplay="true" x5-video-player-type="h5" playsinline width="100%"  preload="auto"  poster="" src="" ></video>',t.parentElement.appendChild(t.videoElement),t._video=t.videoElement.querySelectorAll("video")[0],t._video.src=e.videoUrl,t._video.poster=e.posterImg,t._init(),t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73);Object.defineProperty(t,"InteractionData",{enumerable:!0,get:function(){return u(r).default}});var i=n(174);Object.defineProperty(t,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=n(76);Object.defineProperty(t,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=n(75);Object.defineProperty(t,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=n(74);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),a=c(n(73)),u=c(n(74)),h=c(n(75)),l=c(n(5)),n=c(n(76));function c(e){return e&&e.__esModule?e:{default:e}}s.utils.mixins.delayMixin(s.DisplayObject.prototype,n.default);var f=1,d={target:null,data:{global:null}},i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,l.default),i(p,[{key:"hitTest",value:function(e,t){return d.target=null,d.data.global=e,t=t||this.renderer._lastObjectRendered,this.processInteractive(d,t,null,!0),d.target}},{key:"setTargetElement",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()}},{key:"addEvents",value:function(){this.interactionDOMElement&&(s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(s.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.renderer._lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(void 0===t?"undefined":r(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}}},{key:"dispatchEvent",value:function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))}},{key:"mapPositionToPoint",value:function(e,t,n){var r=void 0,r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},i=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i}},{key:"processInteractive",value:function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,s=!1,a=i=t.interactive||i,u=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:u=r=!1),a=!1):t._mask&&r&&(t._mask.containsPoint(o)||(u=r=!1)),u&&t.interactiveChildren&&t.children)for(var l=t.children,h=l.length-1;0<=h;h--){var c=l[h],f=this.processInteractive(e,c,n,r,a);f&&c.parent&&(a=!1,f&&(e.target&&(r=!1),s=!0))}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(s=!0),t.interactive&&(s&&!e.target&&(e.target=t),n&&n(e,t,!!s))),s}},{key:"onPointerDown",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=e,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===i.pointerType?this.emit("touchstart",o):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(i=2===i.button,this.emit(i?"rightdown":"mousedown",this.eventData))}}}},{key:"processPointerDown",value:function(e,t,n){var r=e.data,i=e.data.identifier;n&&(t.trackedPointers[i]||(t.trackedPointers[i]=new h.default(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType?this.dispatchEvent(t,"touchstart",e):"mouse"!==r.pointerType&&"pen"!==r.pointerType||((r=2===r.button)?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,r?"rightdown":"mousedown",e)))}},{key:"onPointerComplete",value:function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a,u=r[s],l=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,l);h.data.originalEvent=e,this.processInteractive(h,this.renderer._lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,h),"mouse"===u.pointerType||"pen"===u.pointerType?(a=2===u.button,this.emit(a?"rightup"+o:"mouseup"+o,h)):"touch"===u.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(u.pointerId,l))}}},{key:"onPointerCancel",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)}},{key:"processPointerCancel",value:function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))}},{key:"onPointerUp",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)}},{key:"processPointerUp",value:function(e,t,n){var r,i=e.data,o=e.data.identifier,s=t.trackedPointers[o],a="touch"===i.pointerType,u="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;u&&(r=2===i.button,i=h.default.FLAGS,i=r?i.RIGHT_DOWN:i.LEFT_DOWN,i=void 0!==s&&s.flags&i,n?(this.dispatchEvent(t,r?"rightup":"mouseup",e),i&&(this.dispatchEvent(t,r?"rightclick":"click",e),l=!0)):i&&this.dispatchEvent(t,r?"rightupoutside":"mouseupoutside",e),s&&(r?s.rightDown=!1:s.leftDown=!1)),n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),s&&(u&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),s.over=!1))):s&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),s&&s.none&&delete t.trackedPointers[o]}},{key:"onPointerMove",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=e;o="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,o),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(e,t,n){var r=e.data,i="touch"===r.pointerType,r="mouse"===r.pointerType||"pen"===r.pointerType;r&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),r&&this.dispatchEvent(t,"mousemove",e))}},{key:"onPointerOut",value:function(e){var t,n;this.supportsTouchEvents&&"touch"===e.pointerType||("mouse"===(t=this.normalizeToPointerData(e)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),n=this.getInteractionDataForPointerId(t),(e=this.configureInteractionEventForDOMEvent(this.eventData,t,n)).data.originalEvent=t,this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",e),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",e):this.releaseInteractionDataForPointerId(n.identifier))}},{key:"processPointerOverOut",value:function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,r=t.trackedPointers[i];void 0!==(r=n&&!r?t.trackedPointers[i]=new h.default(i):r)&&(n&&this.mouseOverRenderer?(r.over||(r.over=!0,this.dispatchEvent(t,"pointerover",e),o&&this.dispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):r.over&&(r.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),r.none&&delete t.trackedPointers[i]))}},{key:"onPointerOver",value:function(e){var t=this.normalizeToPointerData(e)[0],e=this.getInteractionDataForPointerId(t),e=this.configureInteractionEventForDOMEvent(this.eventData,t,e);"mouse"===(e.data.originalEvent=t).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",e),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",e)}},{key:"getInteractionDataForPointerId",value:function(e){var t=e.pointerId,n=void 0;return t===f||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[t]?n=this.activeInteractionData[t]:((n=this.interactionDataPool.pop()||new a.default).identifier=t,this.activeInteractionData[t]=n),n.copyEvent(e),n}},{key:"releaseInteractionDataForPointerId",value:function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))}},{key:"configureInteractionEventForDOMEvent",value:function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),navigator.isCocoonJS&&"touch"===t.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];void 0===i.button&&(i.button=e.touches.length?1:0),void 0===i.buttons&&(i.buttons=e.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,void(i.tangentialPressure=0)===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||(void 0===e.isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=f),void 0===e.pressure&&(e.pressure=.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0),t.push(e);return t}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}]),p);function p(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t=t||{},n.renderer=e,n.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,n.interactionFrequency=t.interactionFrequency||10,n.mouse=new a.default,n.mouse.identifier=f,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[f]=n.mouse,n.interactionDataPool=[],n.eventData=new u.default,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n._tempPoint=new s.Point,n.resolution=1,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}t.default=i,s.WebGLRenderer.registerPlugin("interaction",i),s.CanvasRenderer.registerPlugin("interaction",i)}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=77);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r});
//# sourceMappingURL=sint.min.js.map